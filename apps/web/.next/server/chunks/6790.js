exports.id=6790,exports.ids=[6790],exports.modules={20366:(e,s,t)=>{Promise.resolve().then(t.bind(t,41458)),Promise.resolve().then(t.bind(t,39108)),Promise.resolve().then(t.bind(t,78806))},12518:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,13724,23)),Promise.resolve().then(t.t.bind(t,35365,23)),Promise.resolve().then(t.t.bind(t,44900,23)),Promise.resolve().then(t.t.bind(t,44714,23)),Promise.resolve().then(t.t.bind(t,45392,23)),Promise.resolve().then(t.t.bind(t,8898,23))},41458:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ClientLayout:()=>ClientLayout});var a=t(30784),r=t(9885),n=t(57114),o=t(70261);function ClientLayout({children:e}){let[s,t]=(0,r.useState)("550e8400-e29b-41d4-a716-446655440001"),i=(0,n.usePathname)(),l=!["/dashboard","/connections","/goals","/opportunities","/analytics","/inbox","/automations","/settings","/insights","/workspace"].includes(i);return l?(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Navigation,{currentWorkspaceId:s,onWorkspaceChange:e=>{t(e),console.log("Workspace changed to:",e)}}),a.jsx("div",{className:"lg:ml-64",children:a.jsx("main",{className:"min-h-screen bg-background p-6",children:e})})]}):a.jsx(a.Fragment,{children:e})}},70261:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Navigation:()=>Navigation});var a=t(30784),r=t(11440),n=t.n(r),o=t(57114),i=t(95555),l=t(9885),d=t(69382),c=t(98699);let m=l.forwardRef(({className:e,...s},t)=>a.jsx(d.fC,{ref:t,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));m.displayName=d.fC.displayName;let p=l.forwardRef(({className:e,...s},t)=>a.jsx(d.Ee,{ref:t,className:(0,c.cn)("aspect-square h-full w-full",e),...s}));p.displayName=d.Ee.displayName;let h=l.forwardRef(({className:e,...s},t)=>a.jsx(d.NY,{ref:t,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));h.displayName=d.NY.displayName;var f=t(55597),x=t(11922),u=t(1264),g=t(74151);let j=f.fC,N=f.xz;f.ZA,f.Uv,f.Tr,f.Ee;let y=l.forwardRef(({className:e,inset:s,children:t,...r},n)=>(0,a.jsxs)(f.fF,{ref:n,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[t,a.jsx(x.Z,{className:"ml-auto h-4 w-4"})]}));y.displayName=f.fF.displayName;let w=l.forwardRef(({className:e,...s},t)=>a.jsx(f.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));w.displayName=f.tu.displayName;let v=l.forwardRef(({className:e,sideOffset:s=4,...t},r)=>a.jsx(f.Uv,{children:a.jsx(f.VY,{ref:r,sideOffset:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));v.displayName=f.VY.displayName;let b=l.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(f.ck,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));b.displayName=f.ck.displayName;let k=l.forwardRef(({className:e,children:s,checked:t,...r},n)=>(0,a.jsxs)(f.oC,{ref:n,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(f.wU,{children:a.jsx(u.Z,{className:"h-4 w-4"})})}),s]}));k.displayName=f.oC.displayName;let R=l.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(f.Rk,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(f.wU,{children:a.jsx(g.Z,{className:"h-2 w-2 fill-current"})})}),s]}));R.displayName=f.Rk.displayName;let S=l.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(f.__,{ref:r,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t}));S.displayName=f.__.displayName;let E=l.forwardRef(({className:e,...s},t)=>a.jsx(f.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));E.displayName=f.Z0.displayName;var C=t(7589),z=t(91971),A=t(56206);let Z=C.fC,I=C.xz;C.x8;let T=C.h_,D=l.forwardRef(({className:e,...s},t)=>a.jsx(C.aV,{className:(0,c.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));D.displayName=C.aV.displayName;let P=(0,z.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_=l.forwardRef(({side:e="right",className:s,children:t,...r},n)=>(0,a.jsxs)(T,{children:[a.jsx(D,{}),(0,a.jsxs)(C.VY,{ref:n,className:(0,c.cn)(P({side:e}),s),...r,children:[t,(0,a.jsxs)(C.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(A.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_.displayName=C.VY.displayName;let SheetHeader=({className:e,...s})=>a.jsx("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});SheetHeader.displayName="SheetHeader";let O=l.forwardRef(({className:e,...s},t)=>a.jsx(C.Dx,{ref:t,className:(0,c.cn)("text-lg font-semibold text-foreground",e),...s}));O.displayName=C.Dx.displayName;let $=l.forwardRef(({className:e,...s},t)=>a.jsx(C.dk,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",e),...s}));$.displayName=C.dk.displayName;var Y=t(97849),U=t(91672),B=t(70696),L=t(76494),M=t(88012),W=t(95924),F=t(35256),V=t(93680),H=t(5987),G=t(90092),q=t(7382),J=t(14904);let Q=(0,z.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:s,...t}){return a.jsx("div",{className:(0,c.cn)(Q({variant:s}),e),...t})}var K=t(13482),X=t(19458),ee=t(22385);function WorkspaceSwitcher({currentWorkspaceId:e,onWorkspaceChange:s}){let[t,r]=(0,l.useState)([]),[n,o]=(0,l.useState)(!0),[d,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetchWorkspaces()},[]),(0,l.useEffect)(()=>{if(e&&t.length>0){let s=t.find(s=>s.id===e);c(s||t[0])}},[e,t]);let fetchWorkspaces=async()=>{try{let t=await fetch("/api/workspaces"),a=await t.json();a.workspaces&&(r(a.workspaces),!e&&a.workspaces.length>0&&s(a.workspaces[0].id))}catch(e){console.error("Failed to fetch workspaces:",e)}finally{o(!1)}},handleWorkspaceSelect=e=>{c(e),s(e.id)};return n?(0,a.jsxs)(i.z,{variant:"ghost",disabled:!0,children:[a.jsx(K.Z,{className:"h-4 w-4 mr-2"}),"Loading..."]}):(0,a.jsxs)(j,{children:[a.jsx(N,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"flex items-center space-x-2",children:[a.jsx(K.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:d?.name||"Select Workspace"}),d?.role==="admin"&&a.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Admin"}),a.jsx(X.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(v,{align:"start",className:"w-56",children:[a.jsx(S,{children:"Workspaces"}),a.jsx(E,{}),t.map(e=>(0,a.jsxs)(b,{onClick:()=>handleWorkspaceSelect(e),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(K.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.name})]}),"admin"===e.role&&a.jsx(Badge,{variant:"outline",className:"text-xs",children:"Admin"})]},e.id)),a.jsx(E,{}),(0,a.jsxs)(b,{children:[a.jsx(ee.Z,{className:"h-4 w-4 mr-2"}),"Create Workspace"]})]})]})}var es=t(75951),et=t(18310),ea=t(51831),er=t(3514),en=t(20599),eo=t(73955);let ei=l.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(eo.fC,{ref:r,className:(0,c.cn)("relative overflow-hidden",e),...t,children:[a.jsx(eo.l_,{className:"h-full w-full rounded-[inherit]",children:s}),a.jsx(el,{}),a.jsx(eo.Ns,{})]}));ei.displayName=eo.fC.displayName;let el=l.forwardRef(({className:e,orientation:s="vertical",...t},r)=>a.jsx(eo.gb,{ref:r,orientation:s,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:a.jsx(eo.q4,{className:"relative flex-1 rounded-full bg-border"})}));el.displayName=eo.gb.displayName;let ed=0;function genId(){return(ed=(ed+1)%Number.MAX_SAFE_INTEGER).toString()}let ec=new Map,addToRemoveQueue=e=>{if(ec.has(e))return;let s=setTimeout(()=>{ec.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);ec.set(e,s)},reducer=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?addToRemoveQueue(t):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},em=[],ep={toasts:[]};function dispatch(e){ep=reducer(ep,e),em.forEach(e=>{e(ep)})}function toast({...e}){let s=genId(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:s});return dispatch({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:s,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function useToast(){let[e,s]=l.useState(ep);return l.useEffect(()=>(em.push(s),()=>{let e=em.indexOf(s);e>-1&&em.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}function Notifications({workspaceId:e}){let[s,t]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,m]=(0,l.useState)(0),{toast:p}=useToast(),h=(0,l.useCallback)(async()=>{d(!0);try{let s=await fetch(`/api/notifications?workspaceId=${e}`);if(s.ok){let e=await s.json();t(e.notifications||[]),m(e.notifications?.filter(e=>!e.readAt).length||0)}}catch(e){console.error("Failed to fetch notifications:",e),p({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{d(!1)}},[e,p]),markAsRead=async e=>{try{let s=await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationIds:e})});s.ok&&(t(s=>s.map(s=>e.includes(s.id)?{...s,readAt:new Date().toISOString()}:s)),m(s=>Math.max(0,s-e.length)))}catch(e){console.error("Failed to mark notifications as read:",e)}},getNotificationIcon=e=>{switch(e){case"new_suggestion":return a.jsx(U.Z,{className:"h-4 w-4 text-blue-500"});case"goal_reminder":return a.jsx(B.Z,{className:"h-4 w-4 text-orange-500"});case"voice_note_processed":return a.jsx(es.Z,{className:"h-4 w-4 text-green-500"});case"new_message":return a.jsx(et.Z,{className:"h-4 w-4 text-purple-500"});default:return a.jsx(ea.Z,{className:"h-4 w-4 text-gray-500"})}},formatRelativeTime=e=>{let s=new Date(e),t=new Date,a=Math.floor((t.getTime()-s.getTime())/6e4);return a<1?"Just now":a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:`${Math.floor(a/1440)}d ago`};return(0,l.useEffect)(()=>{h();let e=setInterval(h,3e4);return()=>clearInterval(e)},[e,h]),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"relative p-2",children:[a.jsx(er.Z,{className:"h-5 w-5"}),c>0&&a.jsx(Badge,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:c>9?"9+":c})]}),r&&a.jsx("div",{className:"absolute right-0 top-12 w-80 z-50",children:(0,a.jsxs)(en.Zb,{className:"shadow-lg border-0",children:[a.jsx(en.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(en.ll,{className:"text-lg",children:"Notifications"}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>n(!1),children:a.jsx(A.Z,{className:"h-4 w-4"})})]})}),(0,a.jsxs)(en.aY,{className:"p-0",children:[a.jsx(ei,{className:"h-80",children:o?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):0===s.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[a.jsx(er.Z,{className:"h-8 w-8 mb-2"}),a.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):a.jsx("div",{className:"space-y-1",children:s.map(e=>a.jsx("div",{className:`p-3 border-b border-gray-100 hover:bg-gray-50 transition-colors ${e.readAt?"":"bg-blue-50"}`,children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-1",children:getNotificationIcon(e.action)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.metadata.title}),!e.readAt&&a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>markAsRead([e.id]),className:"h-6 w-6 p-0",children:a.jsx(u.Z,{className:"h-3 w-3"})})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.metadata.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:formatRelativeTime(e.createdAt)}),e.metadata.score&&(0,a.jsxs)(Badge,{variant:"secondary",className:"text-xs",children:["Score: ",e.metadata.score]})]})]})]})},e.id))})}),s.length>0&&c>0&&a.jsx("div",{className:"p-3 border-t border-gray-100",children:a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>{let e=s.filter(e=>!e.readAt).map(e=>e.id);markAsRead(e)},className:"w-full",children:"Mark all as read"})})]})]})})]})}var eh=t(69518),ef=t(38212),ex=t(98109);C.fC,C.xz;let eu=C.h_;C.x8;let eg=l.forwardRef(({className:e,...s},t)=>a.jsx(C.aV,{ref:t,className:(0,c.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));eg.displayName=C.aV.displayName;let ej=l.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(eu,{children:[a.jsx(eg,{}),(0,a.jsxs)(C.VY,{ref:r,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(C.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(A.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ej.displayName=C.VY.displayName;let eN=l.forwardRef(({className:e,...s},t)=>a.jsx(C.Dx,{ref:t,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));eN.displayName=C.Dx.displayName;let ey=l.forwardRef(({className:e,...s},t)=>a.jsx(C.dk,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",e),...s}));ey.displayName=C.dk.displayName;let ew=l.forwardRef(({className:e,...s},t)=>a.jsx(ex.mY,{ref:t,className:(0,c.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...s}));ew.displayName=ex.mY.displayName;let ev=l.forwardRef(({className:e,...s},t)=>(0,a.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(eh.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(ex.mY.Input,{ref:t,className:(0,c.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...s})]}));ev.displayName=ex.mY.Input.displayName;let eb=l.forwardRef(({className:e,...s},t)=>a.jsx(ex.mY.List,{ref:t,className:(0,c.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...s}));eb.displayName=ex.mY.List.displayName;let ek=l.forwardRef((e,s)=>a.jsx(ex.mY.Empty,{ref:s,className:"py-6 text-center text-sm",...e}));ek.displayName=ex.mY.Empty.displayName;let eR=l.forwardRef(({className:e,...s},t)=>a.jsx(ex.mY.Group,{ref:t,className:(0,c.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...s}));eR.displayName=ex.mY.Group.displayName;let eS=l.forwardRef(({className:e,...s},t)=>a.jsx(ex.mY.Separator,{ref:t,className:(0,c.cn)("-mx-1 h-px bg-border",e),...s}));eS.displayName=ex.mY.Separator.displayName;let eE=l.forwardRef(({className:e,...s},t)=>a.jsx(ex.mY.Item,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s}));eE.displayName=ex.mY.Item.displayName;var eC=t(12820);let ez=eC.fC,eA=eC.xz,eZ=l.forwardRef(({className:e,align:s="center",sideOffset:t=4,...r},n)=>a.jsx(eC.h_,{children:a.jsx(eC.VY,{ref:n,align:s,sideOffset:t,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));function GlobalSearch(){let[e,s]=(0,l.useState)(""),[t,r]=(0,l.useState)(null),[n,d]=(0,l.useState)(!1),[c,m]=(0,l.useState)(!1),p=(0,o.useRouter)(),h=(0,l.useRef)(null);(0,l.useEffect)(()=>{let s=setTimeout(()=>{e.trim()?performSearch(e):r(null)},300);return()=>clearTimeout(s)},[e]);let performSearch=async e=>{d(!0);try{let s=await fetch(`/api/search?q=${encodeURIComponent(e)}`);if(s.ok){let e=await s.json();r(e)}}catch(e){console.error("Search failed:",e)}finally{d(!1)}},handleSelect=(e,t,a)=>{m(!1),s(""),"person"===e?p.push(`/people?highlight=${t}`):"goal"===e?p.push(`/goals?highlight=${t}`):"tag"===e&&p.push(`/graph?tag=${encodeURIComponent(a)}`)};return(0,a.jsxs)(ez,{open:c,onOpenChange:m,children:[a.jsx(eA,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"outline",className:"w-full justify-start text-sm text-muted-foreground",onClick:()=>m(!0),children:[a.jsx(eh.Z,{className:"mr-2 h-4 w-4"}),"Search people, goals, tags..."]})}),a.jsx(eZ,{className:"w-[400px] p-0",align:"start",children:(0,a.jsxs)(ew,{children:[a.jsx(ev,{ref:h,placeholder:"Search people, goals, tags...",value:e,onValueChange:s,onKeyDown:e=>{"Escape"===e.key&&(m(!1),s(""))}}),(0,a.jsxs)(eb,{children:[a.jsx(ek,{children:n?"Searching...":"No results found."}),t&&(0,a.jsxs)(a.Fragment,{children:[t.people.length>0&&a.jsx(eR,{heading:"People",children:t.people.slice(0,3).map(e=>(0,a.jsxs)(eE,{onSelect:()=>handleSelect("person",e.id,e.fullName),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(U.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.fullName}),e.location&&a.jsx(Badge,{variant:"secondary",className:"text-xs",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.connections," connections"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.relevance,"% match"]})]})]},e.id))}),t.goals.length>0&&a.jsx(eR,{heading:"Goals",children:t.goals.slice(0,2).map(e=>(0,a.jsxs)(eE,{onSelect:()=>handleSelect("goal",e.id,e.title),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(B.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.title}),a.jsx(Badge,{variant:"outline",className:"text-xs",children:e.kind})]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.relevance,"% match"]})]},e.id))}),t.tags.length>0&&a.jsx(eR,{heading:"Tags",children:t.tags.slice(0,3).map(e=>(0,a.jsxs)(eE,{onSelect:()=>handleSelect("tag",e.tag,e.tag),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(ef.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.tag})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.count," people"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.relevance,"% match"]})]})]},e.tag))})]})]})]})})]})}function Navigation({currentWorkspaceId:e,onWorkspaceChange:s}){let t=(0,o.usePathname)(),r=[{href:"/dashboard",label:"Dashboard",icon:Y.Z},{href:"/connections",label:"Connections",icon:U.Z},{href:"/goals",label:"Goals",icon:B.Z},{href:"/opportunities",label:"Opportunities",icon:L.Z},{href:"/graph",label:"Graph",icon:M.Z},{href:"/insights",label:"Insights",icon:W.Z},{href:"/analytics",label:"Analytics",icon:F.Z}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"hidden lg:flex h-screen w-64 flex-col fixed left-0 top-0 bg-background border-r",children:[a.jsx("div",{className:"p-6",children:(0,a.jsxs)(n(),{href:"/dashboard",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"R"})}),a.jsx("span",{className:"text-xl font-bold",children:"Rhiz"})]})}),a.jsx("nav",{className:"flex-1 px-4 space-y-2",children:r.map(e=>{let s=e.icon;return(0,a.jsxs)(n(),{href:e.href,className:(0,c.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",t===e.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.href)})}),a.jsx("div",{className:"px-4 py-2",children:a.jsx(GlobalSearch,{})}),a.jsx("div",{className:"p-4 border-t",children:(0,a.jsxs)(j,{children:[a.jsx(N,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"w-full justify-start",children:[a.jsx(m,{className:"h-8 w-8 mr-2",children:a.jsx(h,{children:"DU"})}),a.jsx("span",{className:"text-sm",children:"Demo User"})]})}),(0,a.jsxs)(v,{align:"end",className:"w-56",children:[a.jsx(S,{children:"My Account"}),a.jsx(E,{}),(0,a.jsxs)(b,{children:[a.jsx(V.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Profile"})]}),(0,a.jsxs)(b,{children:[a.jsx(H.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Settings"})]}),(0,a.jsxs)(b,{children:[a.jsx(F.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Analytics"})]}),a.jsx(E,{}),(0,a.jsxs)(b,{children:[a.jsx(G.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})})]}),a.jsx("div",{className:"lg:hidden border-b bg-background",children:a.jsx("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(Z,{children:[a.jsx(I,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"sm",children:a.jsx(q.Z,{className:"h-5 w-5"})})}),(0,a.jsxs)(_,{side:"left",children:[a.jsx(SheetHeader,{children:a.jsx(O,{children:"Rhiz"})}),a.jsx("nav",{className:"mt-6 space-y-2",children:r.map(e=>{let s=e.icon;return(0,a.jsxs)(n(),{href:e.href,className:(0,c.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",t===e.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.href)})})]})]}),a.jsx(n(),{href:"/dashboard",className:"text-xl font-bold",children:"Rhiz"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e&&a.jsx(WorkspaceSwitcher,{currentWorkspaceId:e,onWorkspaceChange:s||(()=>{})}),e&&a.jsx(Notifications,{workspaceId:e}),a.jsx(i.z,{variant:"ghost",size:"sm",children:a.jsx(J.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(j,{children:[a.jsx(N,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"sm",children:a.jsx(m,{className:"h-8 w-8",children:a.jsx(h,{children:"DU"})})})}),(0,a.jsxs)(v,{align:"end",children:[a.jsx(S,{children:"Demo User"}),a.jsx(E,{}),(0,a.jsxs)(b,{children:[a.jsx(V.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Profile"})]}),(0,a.jsxs)(b,{children:[a.jsx(H.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Settings"})]}),a.jsx(E,{}),(0,a.jsxs)(b,{children:[a.jsx(G.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})]})]})})})]})}eZ.displayName=eC.VY.displayName},39108:(e,s,t)=>{"use strict";t.r(s),t.d(s,{PostHogProvider:()=>PostHogProvider});var a=t(30784),r=t(57615),n=t(10706),o=t(9885);function PostHogProvider({children:e}){return(0,o.useEffect)(()=>{let handleRouteChange=()=>r.ZP.capture("$pageview");return window.addEventListener("popstate",handleRouteChange),()=>window.removeEventListener("popstate",handleRouteChange)},[]),a.jsx(n.zf,{client:r.ZP,children:e})}},78806:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ErrorBoundary:()=>ErrorBoundary,useErrorHandler:()=>useErrorHandler,withErrorBoundary:()=>withErrorBoundary});var a,r=t(30784),n=t(9885),o=t.n(n),i=t(20599),l=t(95555),d=t(94409),c=t(20644);let AppError=class AppError extends Error{constructor(e,s="UNKNOWN_ERROR",t=500,a=!0){super(e),this.name="AppError",this.code=s,this.statusCode=t,this.isOperational=a,Error.captureStackTrace&&Error.captureStackTrace(this,AppError)}};!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(a||(a={}));let Logger=class Logger{constructor(){this.level=1,this.isDevelopment=!1}formatMessage(e,s,t){let a=new Date().toISOString(),r=t?` ${JSON.stringify(t)}`:"";return`[${a}] ${e}: ${s}${r}`}shouldLog(e){return e>=this.level}debug(e,s){this.shouldLog(0)&&this.isDevelopment&&console.log(this.formatMessage("DEBUG",e,s))}info(e,s){this.shouldLog(1)&&console.log(this.formatMessage("INFO",e,s))}warn(e,s){this.shouldLog(2)&&console.warn(this.formatMessage("WARN",e,s))}error(e,s,t){if(this.shouldLog(3)){let a={...t,error:s?.message,stack:s?.stack};console.error(this.formatMessage("ERROR",e,a))}}api(e,s,t,a,r){this.info(`API ${s} ${e} - ${t}${a?` (${a}ms)`:""}`,{...r,component:"api",route:e,method:s,status:t,duration:a})}ai(e,s,t,a){this.info(`AI ${e}${s?` (${s})`:""}${t?` (${t}ms)`:""}`,{...a,component:"ai",operation:e,model:s,duration:t})}user(e,s,t,a){this.info(`User ${s}`,{...a,component:"user",userId:e,action:s,details:t})}};let m=new Logger;let ErrorBoundary=class ErrorBoundary extends o().Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(e){let s=e instanceof AppError?e:new AppError(e.message);return{hasError:!0,error:s}}componentDidCatch(e,s){let t=e instanceof AppError?e:new AppError(e.message);m.error("React error boundary caught error",t,{component:"ErrorBoundary",errorInfo:s.componentStack}),this.props.onError&&this.props.onError(t)}render(){if(this.state.hasError){let{fallback:e}=this.props,{error:s}=this.state;return e?r.jsx(e,{error:s}):r.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-md",children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(d.Z,{className:"h-5 w-5"}),"Something went wrong"]})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?.message||"An unexpected error occurred. Please try again."}),!1,(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:this.handleRetry,className:"flex items-center gap-2",children:[r.jsx(c.Z,{className:"h-4 w-4"}),"Try Again"]}),r.jsx(l.z,{variant:"outline",onClick:()=>window.location.reload(),children:"Reload Page"})]})]})]})})}return this.props.children}};function useErrorHandler(){let[e,s]=o().useState(null),t=o().useCallback(e=>{let t=e instanceof AppError?e:new AppError(e instanceof Error?e.message:"Unknown error");s(t),m.error("Error caught by useErrorHandler",t,{component:"useErrorHandler"})},[]),a=o().useCallback(()=>{s(null)},[]);return{error:e,handleError:t,clearError:a}}function withErrorBoundary(e,s){return function(t){return r.jsx(ErrorBoundary,{fallback:s,children:r.jsx(e,{...t})})}}},95555:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var a=t(30784),r=t(9885),n=t(71085),o=t(91971),i=t(98699);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,...o},d)=>{let c=r?n.g7:"button";return a.jsx(c,{className:(0,i.cn)(l({variant:s,size:t,className:e})),ref:d,...o})});d.displayName="Button"},20599:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>i,Zb:()=>o,aY:()=>c,ll:()=>l});var a=t(30784),r=t(9885),n=t(98699);let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));o.displayName="Card";let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},98699:(e,s,t)=>{"use strict";t.d(s,{cn:()=>cn});var a=t(10566),r=t(78126);function cn(...e){return(0,r.m6)((0,a.W)(e))}},71825:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>RootLayout,metadata:()=>N});var a=t(4656),r=t(61326),n=t.n(r);t(67272);var o=t(95153);let i=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/providers/posthog.tsx`),{__esModule:l,$$typeof:d}=i;i.default;let c=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/providers/posthog.tsx#PostHogProvider`),m=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/ClientLayout.tsx`),{__esModule:p,$$typeof:h}=m;m.default;let f=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/ClientLayout.tsx#ClientLayout`),x=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx`),{__esModule:u,$$typeof:g}=x;x.default;let j=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx#ErrorBoundary`);(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx#useErrorHandler`),(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx#withErrorBoundary`);let N={title:"Rhiz - Intent-First Relationship Intelligence",description:"Capture high-signal relationship data and generate smart introductions with AI-powered insights.",keywords:["networking","relationships","introductions","AI","productivity"],authors:[{name:"Rhiz Team"}],openGraph:{title:"Rhiz - Intent-First Relationship Intelligence",description:"Capture high-signal relationship data and generate smart introductions with AI-powered insights.",type:"website"}};function RootLayout({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:a.jsx(j,{children:a.jsx(c,{children:a.jsx(f,{children:e})})})})})}},67272:()=>{}};