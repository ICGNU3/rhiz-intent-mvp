exports.id=838,exports.ids=[838],exports.modules={83803:(e,s,t)=>{Promise.resolve().then(t.bind(t,41458)),Promise.resolve().then(t.bind(t,39108)),Promise.resolve().then(t.bind(t,78806))},12518:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,13724,23)),Promise.resolve().then(t.t.bind(t,35365,23)),Promise.resolve().then(t.t.bind(t,44900,23)),Promise.resolve().then(t.t.bind(t,44714,23)),Promise.resolve().then(t.t.bind(t,45392,23)),Promise.resolve().then(t.t.bind(t,8898,23))},41458:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ClientLayout:()=>ClientLayout});var a=t(30784),r=t(9885),n=t(49902);function ClientLayout({children:e}){let[s,t]=(0,r.useState)("550e8400-e29b-41d4-a716-446655440001");return(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.Navigation,{currentWorkspaceId:s,onWorkspaceChange:e=>{t(e),console.log("Workspace changed to:",e)}}),a.jsx("div",{className:"lg:ml-64",children:a.jsx("main",{className:"min-h-screen bg-background p-6",children:e})})]})}},49902:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Navigation:()=>Navigation});var a=t(30784),r=t(11440),n=t.n(r),o=t(57114),i=t(95555),l=t(87374),d=t(9885),c=t(75051),m=t(11922),p=t(1264),f=t(74151),h=t(98699);let x=c.fC,u=c.xz;c.ZA,c.Uv,c.Tr,c.Ee;let g=d.forwardRef(({className:e,inset:s,children:t,...r},n)=>(0,a.jsxs)(c.fF,{ref:n,className:(0,h.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[t,a.jsx(m.Z,{className:"ml-auto h-4 w-4"})]}));g.displayName=c.fF.displayName;let j=d.forwardRef(({className:e,...s},t)=>a.jsx(c.tu,{ref:t,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));j.displayName=c.tu.displayName;let N=d.forwardRef(({className:e,sideOffset:s=4,...t},r)=>a.jsx(c.Uv,{children:a.jsx(c.VY,{ref:r,sideOffset:s,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));N.displayName=c.VY.displayName;let y=d.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(c.ck,{ref:r,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));y.displayName=c.ck.displayName;let w=d.forwardRef(({className:e,children:s,checked:t,...r},n)=>(0,a.jsxs)(c.oC,{ref:n,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(c.wU,{children:a.jsx(p.Z,{className:"h-4 w-4"})})}),s]}));w.displayName=c.oC.displayName;let v=d.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(c.Rk,{ref:r,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(c.wU,{children:a.jsx(f.Z,{className:"h-2 w-2 fill-current"})})}),s]}));v.displayName=c.Rk.displayName;let b=d.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(c.__,{ref:r,className:(0,h.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t}));b.displayName=c.__.displayName;let k=d.forwardRef(({className:e,...s},t)=>a.jsx(c.Z0,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));k.displayName=c.Z0.displayName;var R=t(7589),S=t(91971),E=t(56206);let C=R.fC,z=R.xz;R.x8;let Z=R.h_,A=d.forwardRef(({className:e,...s},t)=>a.jsx(R.aV,{className:(0,h.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));A.displayName=R.aV.displayName;let P=(0,S.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),D=d.forwardRef(({side:e="right",className:s,children:t,...r},n)=>(0,a.jsxs)(Z,{children:[a.jsx(A,{}),(0,a.jsxs)(R.VY,{ref:n,className:(0,h.cn)(P({side:e}),s),...r,children:[t,(0,a.jsxs)(R.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(E.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));D.displayName=R.VY.displayName;let SheetHeader=({className:e,...s})=>a.jsx("div",{className:(0,h.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});SheetHeader.displayName="SheetHeader";let I=d.forwardRef(({className:e,...s},t)=>a.jsx(R.Dx,{ref:t,className:(0,h.cn)("text-lg font-semibold text-foreground",e),...s}));I.displayName=R.Dx.displayName;let $=d.forwardRef(({className:e,...s},t)=>a.jsx(R.dk,{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",e),...s}));$.displayName=R.dk.displayName;var Y=t(11210),U=t(91672),L=t(70696),O=t(15957),B=t(88012),W=t(66386),H=t(35256),F=t(93680),T=t(5987),V=t(90092),_=t(7382),M=t(14904),G=t(61890),q=t(13482),J=t(19458),Q=t(22385);function WorkspaceSwitcher({currentWorkspaceId:e,onWorkspaceChange:s}){let[t,r]=(0,d.useState)([]),[n,o]=(0,d.useState)(!0),[l,c]=(0,d.useState)(null);(0,d.useEffect)(()=>{fetchWorkspaces()},[]),(0,d.useEffect)(()=>{if(e&&t.length>0){let s=t.find(s=>s.id===e);c(s||t[0])}},[e,t]);let fetchWorkspaces=async()=>{try{let t=await fetch("/api/workspaces"),a=await t.json();a.workspaces&&(r(a.workspaces),!e&&a.workspaces.length>0&&s(a.workspaces[0].id))}catch(e){console.error("Failed to fetch workspaces:",e)}finally{o(!1)}},handleWorkspaceSelect=e=>{c(e),s(e.id)};return n?(0,a.jsxs)(i.z,{variant:"ghost",disabled:!0,children:[a.jsx(q.Z,{className:"h-4 w-4 mr-2"}),"Loading..."]}):(0,a.jsxs)(x,{children:[a.jsx(u,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"flex items-center space-x-2",children:[a.jsx(q.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:l?.name||"Select Workspace"}),l?.role==="admin"&&a.jsx(G.C,{variant:"secondary",className:"text-xs",children:"Admin"}),a.jsx(J.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(N,{align:"start",className:"w-56",children:[a.jsx(b,{children:"Workspaces"}),a.jsx(k,{}),t.map(e=>(0,a.jsxs)(y,{onClick:()=>handleWorkspaceSelect(e),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(q.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.name})]}),"admin"===e.role&&a.jsx(G.C,{variant:"outline",className:"text-xs",children:"Admin"})]},e.id)),a.jsx(k,{}),(0,a.jsxs)(y,{children:[a.jsx(Q.Z,{className:"h-4 w-4 mr-2"}),"Create Workspace"]})]})]})}var K=t(3514);function Notifications({workspaceId:e}){let[s,t]=(0,d.useState)([]),[r,n]=(0,d.useState)(0),[o,l]=(0,d.useState)(!0);(0,d.useEffect)(()=>{e&&fetchNotifications()},[e]);let fetchNotifications=async()=>{try{let s=await fetch(`/api/notifications?workspaceId=${e}&unreadOnly=true`),a=await s.json();a.notifications&&(t(a.notifications),n(a.notifications.length))}catch(e){console.error("Failed to fetch notifications:",e)}finally{l(!1)}},markAsRead=async s=>{try{await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationIds:[s],workspaceId:e})}),t(e=>e.map(e=>e.id===s?{...e,readAt:new Date().toISOString()}:e)),n(e=>Math.max(0,e-1))}catch(e){console.error("Failed to mark notification as read:",e)}},markAllAsRead=async()=>{try{let a=s.filter(e=>!e.readAt).map(e=>e.id);if(0===a.length)return;await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationIds:a,workspaceId:e})}),t(e=>e.map(e=>({...e,readAt:e.readAt||new Date().toISOString()}))),n(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},formatTime=e=>{let s=new Date(e),t=new Date,a=Math.floor((t.getTime()-s.getTime())/6e4);return a<1?"Just now":a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:`${Math.floor(a/1440)}d ago`};return o?a.jsx(i.z,{variant:"ghost",size:"sm",disabled:!0,children:a.jsx(K.Z,{className:"h-4 w-4"})}):(0,a.jsxs)(x,{children:[a.jsx(u,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(K.Z,{className:"h-4 w-4"}),r>0&&a.jsx(G.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs flex items-center justify-center",children:r>9?"9+":r})]})}),(0,a.jsxs)(N,{align:"end",className:"w-80",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2",children:[a.jsx(b,{children:"Notifications"}),r>0&&a.jsx(i.z,{variant:"ghost",size:"sm",onClick:markAllAsRead,className:"text-xs",children:"Mark all read"})]}),a.jsx(k,{}),0===s.length?a.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"}):s.slice(0,10).map(e=>(0,a.jsxs)(y,{className:"flex items-start space-x-2 p-3",onClick:()=>!e.readAt&&markAsRead(e.id),children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium leading-tight",children:e.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:formatTime(e.createdAt)})]}),!e.readAt&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]},e.id)),s.length>10&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(k,{}),a.jsx(y,{className:"text-center text-sm text-muted-foreground",children:"View all notifications"})]})]})]})}var X=t(69518),ee=t(38212),es=t(98109);R.fC,R.xz;let et=R.h_;R.x8;let ea=d.forwardRef(({className:e,...s},t)=>a.jsx(R.aV,{ref:t,className:(0,h.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));ea.displayName=R.aV.displayName;let er=d.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(et,{children:[a.jsx(ea,{}),(0,a.jsxs)(R.VY,{ref:r,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(R.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(E.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=R.VY.displayName;let en=d.forwardRef(({className:e,...s},t)=>a.jsx(R.Dx,{ref:t,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));en.displayName=R.Dx.displayName;let eo=d.forwardRef(({className:e,...s},t)=>a.jsx(R.dk,{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",e),...s}));eo.displayName=R.dk.displayName;let ei=d.forwardRef(({className:e,...s},t)=>a.jsx(es.mY,{ref:t,className:(0,h.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...s}));ei.displayName=es.mY.displayName;let el=d.forwardRef(({className:e,...s},t)=>(0,a.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(X.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(es.mY.Input,{ref:t,className:(0,h.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...s})]}));el.displayName=es.mY.Input.displayName;let ed=d.forwardRef(({className:e,...s},t)=>a.jsx(es.mY.List,{ref:t,className:(0,h.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...s}));ed.displayName=es.mY.List.displayName;let ec=d.forwardRef((e,s)=>a.jsx(es.mY.Empty,{ref:s,className:"py-6 text-center text-sm",...e}));ec.displayName=es.mY.Empty.displayName;let em=d.forwardRef(({className:e,...s},t)=>a.jsx(es.mY.Group,{ref:t,className:(0,h.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...s}));em.displayName=es.mY.Group.displayName;let ep=d.forwardRef(({className:e,...s},t)=>a.jsx(es.mY.Separator,{ref:t,className:(0,h.cn)("-mx-1 h-px bg-border",e),...s}));ep.displayName=es.mY.Separator.displayName;let ef=d.forwardRef(({className:e,...s},t)=>a.jsx(es.mY.Item,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s}));ef.displayName=es.mY.Item.displayName;var eh=t(12820);let ex=eh.fC,eu=eh.xz,eg=d.forwardRef(({className:e,align:s="center",sideOffset:t=4,...r},n)=>a.jsx(eh.h_,{children:a.jsx(eh.VY,{ref:n,align:s,sideOffset:t,className:(0,h.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));function GlobalSearch(){let[e,s]=(0,d.useState)(""),[t,r]=(0,d.useState)(null),[n,l]=(0,d.useState)(!1),[c,m]=(0,d.useState)(!1),p=(0,o.useRouter)(),f=(0,d.useRef)(null);(0,d.useEffect)(()=>{let s=setTimeout(()=>{e.trim()?performSearch(e):r(null)},300);return()=>clearTimeout(s)},[e]);let performSearch=async e=>{l(!0);try{let s=await fetch(`/api/search?q=${encodeURIComponent(e)}`);if(s.ok){let e=await s.json();r(e)}}catch(e){console.error("Search failed:",e)}finally{l(!1)}},handleSelect=(e,t,a)=>{m(!1),s(""),"person"===e?p.push(`/people?highlight=${t}`):"goal"===e?p.push(`/goals?highlight=${t}`):"tag"===e&&p.push(`/graph?tag=${encodeURIComponent(a)}`)};return(0,a.jsxs)(ex,{open:c,onOpenChange:m,children:[a.jsx(eu,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"outline",className:"w-full justify-start text-sm text-muted-foreground",onClick:()=>m(!0),children:[a.jsx(X.Z,{className:"mr-2 h-4 w-4"}),"Search people, goals, tags..."]})}),a.jsx(eg,{className:"w-[400px] p-0",align:"start",children:(0,a.jsxs)(ei,{children:[a.jsx(el,{ref:f,placeholder:"Search people, goals, tags...",value:e,onValueChange:s,onKeyDown:e=>{"Escape"===e.key&&(m(!1),s(""))}}),(0,a.jsxs)(ed,{children:[a.jsx(ec,{children:n?"Searching...":"No results found."}),t&&(0,a.jsxs)(a.Fragment,{children:[t.people.length>0&&a.jsx(em,{heading:"People",children:t.people.slice(0,3).map(e=>(0,a.jsxs)(ef,{onSelect:()=>handleSelect("person",e.id,e.fullName),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(U.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.fullName}),e.location&&a.jsx(G.C,{variant:"secondary",className:"text-xs",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.connections," connections"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.relevance,"% match"]})]})]},e.id))}),t.goals.length>0&&a.jsx(em,{heading:"Goals",children:t.goals.slice(0,2).map(e=>(0,a.jsxs)(ef,{onSelect:()=>handleSelect("goal",e.id,e.title),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(L.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.title}),a.jsx(G.C,{variant:"outline",className:"text-xs",children:e.kind})]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.relevance,"% match"]})]},e.id))}),t.tags.length>0&&a.jsx(em,{heading:"Tags",children:t.tags.slice(0,3).map(e=>(0,a.jsxs)(ef,{onSelect:()=>handleSelect("tag",e.tag,e.tag),className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(ee.Z,{className:"h-4 w-4"}),a.jsx("span",{children:e.tag})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.count," people"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.relevance,"% match"]})]})]},e.tag))})]})]})]})})]})}function Navigation({currentWorkspaceId:e,onWorkspaceChange:s}){let t=(0,o.usePathname)(),r=[{href:"/",label:"Home",icon:Y.Z},{href:"/people",label:"People",icon:U.Z},{href:"/goals",label:"Goals",icon:L.Z},{href:"/suggestions",label:"Suggestions",icon:O.Z},{href:"/graph",label:"Graph",icon:B.Z},{href:"/insights",label:"Insights",icon:O.Z},{href:"/referrals",label:"Referrals",icon:W.Z},{href:"/analytics",label:"Analytics",icon:H.Z}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"hidden lg:flex h-screen w-64 flex-col fixed left-0 top-0 bg-background border-r",children:[a.jsx("div",{className:"p-6",children:(0,a.jsxs)(n(),{href:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"R"})}),a.jsx("span",{className:"text-xl font-bold",children:"Rhiz"})]})}),a.jsx("nav",{className:"flex-1 px-4 space-y-2",children:r.map(e=>{let s=e.icon;return(0,a.jsxs)(n(),{href:e.href,className:(0,h.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",t===e.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.href)})}),a.jsx("div",{className:"px-4 py-2",children:a.jsx(GlobalSearch,{})}),a.jsx("div",{className:"p-4 border-t",children:(0,a.jsxs)(x,{children:[a.jsx(u,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"w-full justify-start",children:[a.jsx(l.qE,{className:"h-8 w-8 mr-2",children:a.jsx(l.Q5,{children:"DU"})}),a.jsx("span",{className:"text-sm",children:"Demo User"})]})}),(0,a.jsxs)(N,{align:"end",className:"w-56",children:[a.jsx(b,{children:"My Account"}),a.jsx(k,{}),(0,a.jsxs)(y,{children:[a.jsx(F.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Profile"})]}),(0,a.jsxs)(y,{children:[a.jsx(T.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Settings"})]}),(0,a.jsxs)(y,{children:[a.jsx(H.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Analytics"})]}),a.jsx(k,{}),(0,a.jsxs)(y,{children:[a.jsx(V.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})})]}),a.jsx("div",{className:"lg:hidden border-b bg-background",children:a.jsx("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(C,{children:[a.jsx(z,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"sm",children:a.jsx(_.Z,{className:"h-5 w-5"})})}),(0,a.jsxs)(D,{side:"left",children:[a.jsx(SheetHeader,{children:a.jsx(I,{children:"Rhiz"})}),a.jsx("nav",{className:"mt-6 space-y-2",children:r.map(e=>{let s=e.icon;return(0,a.jsxs)(n(),{href:e.href,className:(0,h.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",t===e.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.href)})})]})]}),a.jsx(n(),{href:"/",className:"text-xl font-bold",children:"Rhiz"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e&&a.jsx(WorkspaceSwitcher,{currentWorkspaceId:e,onWorkspaceChange:s||(()=>{})}),e&&a.jsx(Notifications,{workspaceId:e}),a.jsx(i.z,{variant:"ghost",size:"sm",children:a.jsx(M.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(x,{children:[a.jsx(u,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"sm",children:a.jsx(l.qE,{className:"h-8 w-8",children:a.jsx(l.Q5,{children:"DU"})})})}),(0,a.jsxs)(N,{align:"end",children:[a.jsx(b,{children:"Demo User"}),a.jsx(k,{}),(0,a.jsxs)(y,{children:[a.jsx(F.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Profile"})]}),(0,a.jsxs)(y,{children:[a.jsx(T.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Settings"})]}),a.jsx(k,{}),(0,a.jsxs)(y,{children:[a.jsx(V.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})]})]})})})]})}eg.displayName=eh.VY.displayName},39108:(e,s,t)=>{"use strict";t.r(s),t.d(s,{PostHogProvider:()=>PostHogProvider});var a=t(30784),r=t(57615),n=t(10706),o=t(9885);function PostHogProvider({children:e}){return(0,o.useEffect)(()=>{let handleRouteChange=()=>r.ZP.capture("$pageview");return window.addEventListener("popstate",handleRouteChange),()=>window.removeEventListener("popstate",handleRouteChange)},[]),a.jsx(n.zf,{client:r.ZP,children:e})}},78806:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ErrorBoundary:()=>ErrorBoundary,useErrorHandler:()=>useErrorHandler,withErrorBoundary:()=>withErrorBoundary});var a,r=t(30784),n=t(9885),o=t.n(n),i=t(20599),l=t(95555),d=t(94409),c=t(20644);let AppError=class AppError extends Error{constructor(e,s="UNKNOWN_ERROR",t=500,a=!0){super(e),this.name="AppError",this.code=s,this.statusCode=t,this.isOperational=a,Error.captureStackTrace&&Error.captureStackTrace(this,AppError)}};!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(a||(a={}));let Logger=class Logger{constructor(){this.level=1,this.isDevelopment=!1}formatMessage(e,s,t){let a=new Date().toISOString(),r=t?` ${JSON.stringify(t)}`:"";return`[${a}] ${e}: ${s}${r}`}shouldLog(e){return e>=this.level}debug(e,s){this.shouldLog(0)&&this.isDevelopment&&console.log(this.formatMessage("DEBUG",e,s))}info(e,s){this.shouldLog(1)&&console.log(this.formatMessage("INFO",e,s))}warn(e,s){this.shouldLog(2)&&console.warn(this.formatMessage("WARN",e,s))}error(e,s,t){if(this.shouldLog(3)){let a={...t,error:s?.message,stack:s?.stack};console.error(this.formatMessage("ERROR",e,a))}}api(e,s,t,a,r){this.info(`API ${s} ${e} - ${t}${a?` (${a}ms)`:""}`,{...r,component:"api",route:e,method:s,status:t,duration:a})}ai(e,s,t,a){this.info(`AI ${e}${s?` (${s})`:""}${t?` (${t}ms)`:""}`,{...a,component:"ai",operation:e,model:s,duration:t})}user(e,s,t,a){this.info(`User ${s}`,{...a,component:"user",userId:e,action:s,details:t})}};let m=new Logger;let ErrorBoundary=class ErrorBoundary extends o().Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(e){let s=e instanceof AppError?e:new AppError(e.message);return{hasError:!0,error:s}}componentDidCatch(e,s){let t=e instanceof AppError?e:new AppError(e.message);m.error("React error boundary caught error",t,{component:"ErrorBoundary",errorInfo:s.componentStack}),this.props.onError&&this.props.onError(t)}render(){if(this.state.hasError){let{fallback:e}=this.props,{error:s}=this.state;return e?r.jsx(e,{error:s}):r.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-md",children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(d.Z,{className:"h-5 w-5"}),"Something went wrong"]})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?.message||"An unexpected error occurred. Please try again."}),!1,(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:this.handleRetry,className:"flex items-center gap-2",children:[r.jsx(c.Z,{className:"h-4 w-4"}),"Try Again"]}),r.jsx(l.z,{variant:"outline",onClick:()=>window.location.reload(),children:"Reload Page"})]})]})]})})}return this.props.children}};function useErrorHandler(){let[e,s]=o().useState(null),t=o().useCallback(e=>{let t=e instanceof AppError?e:new AppError(e instanceof Error?e.message:"Unknown error");s(t),m.error("Error caught by useErrorHandler",t,{component:"useErrorHandler"})},[]),a=o().useCallback(()=>{s(null)},[]);return{error:e,handleError:t,clearError:a}}function withErrorBoundary(e,s){return function(t){return r.jsx(ErrorBoundary,{fallback:s,children:r.jsx(e,{...t})})}}},87374:(e,s,t)=>{"use strict";t.d(s,{Q5:()=>d,qE:()=>i});var a=t(30784),r=t(9885),n=t(69382),o=t(98699);let i=r.forwardRef(({className:e,...s},t)=>a.jsx(n.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));i.displayName=n.fC.displayName;let l=r.forwardRef(({className:e,...s},t)=>a.jsx(n.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",e),...s}));l.displayName=n.Ee.displayName;let d=r.forwardRef(({className:e,...s},t)=>a.jsx(n.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));d.displayName=n.NY.displayName},61890:(e,s,t)=>{"use strict";t.d(s,{C:()=>Badge});var a=t(30784);t(9885);var r=t(91971),n=t(98699);let o=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:s,...t}){return a.jsx("div",{className:(0,n.cn)(o({variant:s}),e),...t})}},95555:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var a=t(30784),r=t(9885),n=t(71085),o=t(91971),i=t(98699);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,...o},d)=>{let c=r?n.g7:"button";return a.jsx(c,{className:(0,i.cn)(l({variant:s,size:t,className:e})),ref:d,...o})});d.displayName="Button"},20599:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>i,SZ:()=>d,Zb:()=>o,aY:()=>c,ll:()=>l});var a=t(30784),r=t(9885),n=t(98699);let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));o.displayName="Card";let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},98699:(e,s,t)=>{"use strict";t.d(s,{cn:()=>cn});var a=t(10566),r=t(78126);function cn(...e){return(0,r.m6)((0,a.W)(e))}},71825:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>RootLayout,metadata:()=>N});var a=t(4656),r=t(61326),n=t.n(r);t(67272);var o=t(95153);let i=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/providers/posthog.tsx`),{__esModule:l,$$typeof:d}=i;i.default;let c=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/providers/posthog.tsx#PostHogProvider`),m=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/ClientLayout.tsx`),{__esModule:p,$$typeof:f}=m;m.default;let h=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/ClientLayout.tsx#ClientLayout`),x=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx`),{__esModule:u,$$typeof:g}=x;x.default;let j=(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx#ErrorBoundary`);(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx#useErrorHandler`),(0,o.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/components/ErrorBoundary.tsx#withErrorBoundary`);let N={title:"Rhiz - Intent-First Relationship Intelligence",description:"Capture high-signal relationship data and generate smart introductions with AI-powered insights.",keywords:["networking","relationships","introductions","AI","productivity"],authors:[{name:"Rhiz Team"}],openGraph:{title:"Rhiz - Intent-First Relationship Intelligence",description:"Capture high-signal relationship data and generate smart introductions with AI-powered insights.",type:"website"}};function RootLayout({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:a.jsx(j,{children:a.jsx(c,{children:a.jsx(h,{children:e})})})})})}},67272:()=>{}};