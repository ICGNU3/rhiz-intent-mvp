exports.id=1881,exports.ids=[1881],exports.modules={3528:(a,l,u)=>{"use strict";u.d(l,{Z:()=>createLucideIcon});var c=u(9885),d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(a,l)=>{let u=(0,c.forwardRef)(({color:u="currentColor",size:p=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:_="",children:v,...w},S)=>(0,c.createElement)("svg",{ref:S,...d,width:p,height:p,stroke:u,strokeWidth:g?24*Number(f)/Number(p):f,className:["lucide",`lucide-${toKebabCase(a)}`,_].join(" "),...w},[...l.map(([a,l])=>(0,c.createElement)(a,l)),...Array.isArray(v)?v:[v]]));return u.displayName=`${a}`,u}},94409:(a,l,u)=>{"use strict";u.d(l,{Z:()=>d});var c=u(3528);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},20644:(a,l,u)=>{"use strict";u.d(l,{Z:()=>d});var c=u(3528);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},61326:a=>{a.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}},16879:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"addBasePath",{enumerable:!0,get:function(){return addBasePath}});let c=u(8549),d=u(76945);function addBasePath(a,l){return(0,d.normalizePathTrailingSlash)((0,c.addPathPrefix)(a,""))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},95422:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"callServer",{enumerable:!0,get:function(){return callServer}});let c=u(13724);async function callServer(a,l){let u=(0,c.getServerActionDispatcher)();if(!u)throw Error("Invariant: missing action dispatcher.");return new Promise((c,d)=>{u({actionId:a,actionArgs:l,resolve:c,reject:d})})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},43204:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"AppRouterAnnouncer",{enumerable:!0,get:function(){return AppRouterAnnouncer}});let c=u(9885),d=u(88908),p="next-route-announcer";function getAnnouncerNode(){var a;let l=document.getElementsByName(p)[0];if(null==l?void 0:null==(a=l.shadowRoot)?void 0:a.childNodes[0])return l.shadowRoot.childNodes[0];{let a=document.createElement(p);a.style.cssText="position:absolute";let l=document.createElement("div");l.ariaLive="assertive",l.id="__next-route-announcer__",l.role="alert",l.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal";let u=a.attachShadow({mode:"open"});return u.appendChild(l),document.body.appendChild(a),l}}function AppRouterAnnouncer(a){let{tree:l}=a,[u,f]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=getAnnouncerNode();return f(a),()=>{let a=document.getElementsByTagName(p)[0];(null==a?void 0:a.isConnected)&&document.body.removeChild(a)}},[]);let[g,_]=(0,c.useState)(""),v=(0,c.useRef)();return(0,c.useEffect)(()=>{let a="";if(document.title)a=document.title;else{let l=document.querySelector("h1");l&&(a=l.innerText||l.textContent||"")}void 0!==v.current&&v.current!==a&&_(a),v.current=a},[l]),u?(0,d.createPortal)(g,u):null}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},54361:(a,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{RSC:function(){return u},ACTION:function(){return c},NEXT_ROUTER_STATE_TREE:function(){return d},NEXT_ROUTER_PREFETCH:function(){return p},NEXT_URL:function(){return f},RSC_CONTENT_TYPE_HEADER:function(){return g},RSC_VARY_HEADER:function(){return _},FLIGHT_PARAMETERS:function(){return v},NEXT_RSC_UNION_QUERY:function(){return w}});let u="RSC",c="Next-Action",d="Next-Router-State-Tree",p="Next-Router-Prefetch",f="Next-Url",g="text/x-component",_=u+", "+d+", "+p+", "+f,v=[[u],[d],[p]],w="_rsc";("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},13724:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{getServerActionDispatcher:function(){return getServerActionDispatcher},urlToUrlWithoutFlightMarker:function(){return urlToUrlWithoutFlightMarker},default:function(){return AppRouter}});let c=u(8425),d=c._(u(9885)),p=u(82428),f=u(77986),g=u(3678),_=u(11706),v=u(11736),w=u(79236),S=u(35365),x=u(29624),k=u(34692),$=u(16879),N=u(43204),U=u(87502),z=u(52226),W=u(59880),er=u(54361),en=u(64978),ea=u(99760),el=null,eu=null;function getServerActionDispatcher(){return eu}let ec={refresh:()=>{}};function urlToUrlWithoutFlightMarker(a){let l=new URL(a,location.origin);return l.searchParams.delete(er.NEXT_RSC_UNION_QUERY),l}function isExternalURL(a){return a.origin!==window.location.origin}function HistoryUpdater(a){let{tree:l,pushRef:u,canonicalUrl:c,sync:p}=a;return(0,d.useInsertionEffect)(()=>{let a={__NA:!0,tree:l};u.pendingPush&&(0,_.createHrefFromUrl)(new URL(window.location.href))!==c?(u.pendingPush=!1,window.history.pushState(a,"",c)):window.history.replaceState(a,"",c),p()},[l,u,c,p]),null}let createEmptyCacheNode=()=>({status:p.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map});function useServerActionDispatcher(a){let l=(0,d.useCallback)(l=>{(0,d.startTransition)(()=>{a({...l,type:g.ACTION_SERVER_ACTION,mutable:{globalMutable:ec},cache:createEmptyCacheNode()})})},[a]);eu=l}function useChangeByServerResponse(a){return(0,d.useCallback)((l,u,c)=>{(0,d.startTransition)(()=>{a({type:g.ACTION_SERVER_PATCH,flightData:u,previousTree:l,overrideCanonicalUrl:c,cache:createEmptyCacheNode(),mutable:{globalMutable:ec}})})},[a])}function useNavigate(a){return(0,d.useCallback)((l,u,c,d)=>{let p=new URL((0,$.addBasePath)(l),location.href);return ec.pendingNavigatePath=(0,_.createHrefFromUrl)(p),a({type:g.ACTION_NAVIGATE,url:p,isExternalUrl:isExternalURL(p),locationSearch:location.search,forceOptimisticNavigation:c,shouldScroll:null==d||d,navigateType:u,cache:createEmptyCacheNode(),mutable:{globalMutable:ec}})},[a])}function Router(a){let{buildId:l,initialHead:u,initialTree:c,initialCanonicalUrl:_,children:S,assetPrefix:er}=a,eu=(0,d.useMemo)(()=>(0,x.createInitialRouterState)({buildId:l,children:S,initialCanonicalUrl:_,initialTree:c,initialParallelRoutes:el,isServer:!0,location:null,initialHead:u}),[l,S,_,c,u]),[{tree:ed,cache:eh,prefetchCache:ep,pushRef:ef,focusAndScrollRef:eg,canonicalUrl:e_,nextUrl:ev},em,ey]=(0,w.useReducerWithReduxDevtools)(f.reducer,eu);(0,d.useEffect)(()=>{el=null},[]);let{searchParams:eb,pathname:ew}=(0,d.useMemo)(()=>{let a=new URL(e_,"http://n");return{searchParams:a.searchParams,pathname:(0,ea.hasBasePath)(a.pathname)?(0,en.removeBasePath)(a.pathname):a.pathname}},[e_]),eS=useChangeByServerResponse(em),eE=useNavigate(em);useServerActionDispatcher(em);let ex=(0,d.useMemo)(()=>{let a={back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(a,l)=>{if((0,k.isBot)(window.navigator.userAgent))return;let u=new URL((0,$.addBasePath)(a),location.href);isExternalURL(u)||(0,d.startTransition)(()=>{var a;em({type:g.ACTION_PREFETCH,url:u,kind:null!=(a=null==l?void 0:l.kind)?a:g.PrefetchKind.FULL})})},replace:(a,l)=>{void 0===l&&(l={}),(0,d.startTransition)(()=>{var u;eE(a,"replace",!!l.forceOptimisticNavigation,null==(u=l.scroll)||u)})},push:(a,l)=>{void 0===l&&(l={}),(0,d.startTransition)(()=>{var u;eE(a,"push",!!l.forceOptimisticNavigation,null==(u=l.scroll)||u)})},refresh:()=>{(0,d.startTransition)(()=>{em({type:g.ACTION_REFRESH,cache:createEmptyCacheNode(),mutable:{globalMutable:ec},origin:window.location.origin})})},fastRefresh:()=>{throw Error("fastRefresh can only be used in development mode. Please use refresh instead.")}};return a},[em,eE]);if((0,d.useEffect)(()=>{window.next&&(window.next.router=ex)},[ex]),(0,d.useEffect)(()=>{ec.refresh=ex.refresh},[ex.refresh]),(0,d.useEffect)(()=>{function handlePageShow(a){var l;a.persisted&&(null==(l=window.history.state)?void 0:l.tree)&&em({type:g.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.tree})}return window.addEventListener("pageshow",handlePageShow),()=>{window.removeEventListener("pageshow",handlePageShow)}},[em]),ef.mpaNavigation){if(ec.pendingMpaPath!==e_){let a=window.location;ef.pendingPush?a.assign(e_):a.replace(e_),ec.pendingMpaPath=e_}(0,d.use)((0,W.createInfinitePromise)())}let eR=(0,d.useCallback)(a=>{let{state:l}=a;if(l){if(!l.__NA){window.location.reload();return}(0,d.startTransition)(()=>{em({type:g.ACTION_RESTORE,url:new URL(window.location.href),tree:l.tree})})}},[em]);(0,d.useEffect)(()=>(window.addEventListener("popstate",eR),()=>{window.removeEventListener("popstate",eR)}),[eR]);let eP=(0,d.useMemo)(()=>(0,z.findHeadInCache)(eh,ed[1]),[eh,ed]),ek=d.default.createElement(U.RedirectBoundary,null,eP,eh.subTreeData,d.default.createElement(N.AppRouterAnnouncer,{tree:ed}));return d.default.createElement(d.default.Fragment,null,d.default.createElement(HistoryUpdater,{tree:ed,pushRef:ef,canonicalUrl:e_,sync:ey}),d.default.createElement(v.PathnameContext.Provider,{value:ew},d.default.createElement(v.SearchParamsContext.Provider,{value:eb},d.default.createElement(p.GlobalLayoutRouterContext.Provider,{value:{buildId:l,changeByServerResponse:eS,tree:ed,focusAndScrollRef:eg,nextUrl:ev}},d.default.createElement(p.AppRouterContext.Provider,{value:ex},d.default.createElement(p.LayoutRouterContext.Provider,{value:{childNodes:eh.parallelRoutes,tree:ed,url:e_}},ek))))))}function AppRouter(a){let{globalErrorComponent:l,...u}=a;return d.default.createElement(S.ErrorBoundary,{errorComponent:l},d.default.createElement(Router,u))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},64954:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"bailoutToClientRendering",{enumerable:!0,get:function(){return bailoutToClientRendering}});let c=u(61118),d=u(94749);function bailoutToClientRendering(){let a=d.staticGenerationAsyncStorage.getStore();return null!=a&&!!a.forceStatic||((null==a?void 0:a.isStaticGeneration)&&(0,c.throwWithNoSSR)(),!1)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},53402:(a,l,u)=>{"use strict";function clientHookInServerComponentError(a){}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"clientHookInServerComponentError",{enumerable:!0,get:function(){return clientHookInServerComponentError}}),u(80085),u(9885),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},35365:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{ErrorBoundaryHandler:function(){return ErrorBoundaryHandler},GlobalError:function(){return GlobalError},default:function(){return g},ErrorBoundary:function(){return ErrorBoundary}});let c=u(80085),d=c._(u(9885)),p=u(4979),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function HandleISRError(a){let{error:l}=a;if("function"==typeof fetch.__nextGetStaticStore){var u;let a=null==(u=fetch.__nextGetStaticStore())?void 0:u.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(l),l}return null}let ErrorBoundaryHandler=class ErrorBoundaryHandler extends d.default.Component{static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,l){return a.pathname!==l.previousPathname&&l.error?{error:null,previousPathname:a.pathname}:{error:l.error,previousPathname:a.pathname}}render(){return this.state.error?d.default.createElement(d.default.Fragment,null,d.default.createElement(HandleISRError,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,d.default.createElement(this.props.errorComponent,{error:this.state.error,reset:this.reset})):this.props.children}constructor(a){super(a),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}};function GlobalError(a){let{error:l}=a,u=null==l?void 0:l.digest;return d.default.createElement("html",{id:"__next_error__"},d.default.createElement("head",null),d.default.createElement("body",null,d.default.createElement(HandleISRError,{error:l}),d.default.createElement("div",{style:f.error},d.default.createElement("div",null,d.default.createElement("h2",{style:f.text},"Application error: a "+(u?"server":"client")+"-side exception has occurred (see the "+(u?"server logs":"browser console")+" for more information)."),u?d.default.createElement("p",{style:f.text},"Digest: "+u):null))))}let g=GlobalError;function ErrorBoundary(a){let{errorComponent:l,errorStyles:u,errorScripts:c,children:f}=a,g=(0,p.usePathname)();return l?d.default.createElement(ErrorBoundaryHandler,{pathname:g,errorComponent:l,errorStyles:u,errorScripts:c},f):d.default.createElement(d.default.Fragment,null,f)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},45171:(a,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{DYNAMIC_ERROR_CODE:function(){return u},DynamicServerError:function(){return DynamicServerError}});let u="DYNAMIC_SERVER_USAGE";let DynamicServerError=class DynamicServerError extends Error{constructor(a){super("Dynamic server usage: "+a),this.digest=u}};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},59880:(a,l)=>{"use strict";let u;function createInfinitePromise(){return u||(u=new Promise(()=>{})),u}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createInfinitePromise",{enumerable:!0,get:function(){return createInfinitePromise}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},44900:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return OuterLayoutRouter}}),u(80085);let c=u(8425),d=c._(u(9885));u(88908);let p=u(82428),f=u(79102),g=u(59880),_=u(35365),v=u(4538),w=u(94361),S=u(87502),x=u(44714),k=u(31275),$=u(84701),N=u(8026);function walkAddRefetch(a,l){if(a){let[u,c]=a,d=2===a.length;if((0,v.matchSegment)(l[0],u)&&l[1].hasOwnProperty(c)){if(d){let a=walkAddRefetch(void 0,l[1][c]);return[l[0],{...l[1],[c]:[a[0],a[1],a[2],"refetch"]}]}return[l[0],{...l[1],[c]:walkAddRefetch(a.slice(2),l[1][c])}]}}return l}function findDOMNode(a){return null}let U=["bottom","height","left","right","top","width","x","y"];function shouldSkipElement(a){if(["sticky","fixed"].includes(getComputedStyle(a).position))return!0;let l=a.getBoundingClientRect();return U.every(a=>0===l[a])}function topOfElementInViewport(a,l){let u=a.getBoundingClientRect();return u.top>=0&&u.top<=l}function getHashFragmentDomNode(a){var l;return"top"===a?document.body:null!=(l=document.getElementById(a))?l:document.getElementsByName(a)[0]}let InnerScrollAndFocusHandler=class InnerScrollAndFocusHandler extends d.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...a){super(...a),this.handlePotentialScroll=()=>{let{focusAndScrollRef:a,segmentPath:l}=this.props;if(a.apply){if(0!==a.segmentPaths.length&&!a.segmentPaths.some(a=>l.every((l,u)=>(0,v.matchSegment)(l,a[u]))))return;let u=null,c=a.hashFragment;if(c&&(u=getHashFragmentDomNode(c)),u||(u=findDOMNode(this)),!(u instanceof Element))return;for(;!(u instanceof HTMLElement)||shouldSkipElement(u);){if(null===u.nextElementSibling)return;u=u.nextElementSibling}a.apply=!1,a.hashFragment=null,a.segmentPaths=[],(0,w.handleSmoothScroll)(()=>{if(c){u.scrollIntoView();return}let a=document.documentElement,l=a.clientHeight;!topOfElementInViewport(u,l)&&(a.scrollTop=0,topOfElementInViewport(u,l)||u.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:a.onlyHashChange}),a.onlyHashChange=!1,u.focus()}}}};function ScrollAndFocusHandler(a){let{segmentPath:l,children:u}=a,c=(0,d.useContext)(p.GlobalLayoutRouterContext);if(!c)throw Error("invariant global layout router not mounted");return d.default.createElement(InnerScrollAndFocusHandler,{segmentPath:l,focusAndScrollRef:c.focusAndScrollRef},u)}function InnerLayoutRouter(a){let{parallelRouterKey:l,url:u,childNodes:c,childProp:_,segmentPath:v,tree:w,cacheKey:S}=a,x=(0,d.useContext)(p.GlobalLayoutRouterContext);if(!x)throw Error("invariant global layout router not mounted");let{buildId:k,changeByServerResponse:$,tree:U}=x,z=c.get(S);if(_&&null!==_.current&&(z?z.status===p.CacheStates.LAZY_INITIALIZED&&(z.status=p.CacheStates.READY,z.subTreeData=_.current):(z={status:p.CacheStates.READY,data:null,subTreeData:_.current,parallelRoutes:new Map},c.set(S,z))),!z||z.status===p.CacheStates.LAZY_INITIALIZED){let a=walkAddRefetch(["",...v],U);z={status:p.CacheStates.DATA_FETCH,data:(0,N.createRecordFromThenable)((0,f.fetchServerResponse)(new URL(u,location.origin),a,x.nextUrl,k)),subTreeData:null,head:z&&z.status===p.CacheStates.LAZY_INITIALIZED?z.head:void 0,parallelRoutes:z&&z.status===p.CacheStates.LAZY_INITIALIZED?z.parallelRoutes:new Map},c.set(S,z)}if(!z)throw Error("Child node should always exist");if(z.subTreeData&&z.data)throw Error("Child node should not have both subTreeData and data");if(z.data){let[a,l]=(0,d.use)(z.data);z.data=null,setTimeout(()=>{(0,d.startTransition)(()=>{$(U,a,l)})}),(0,d.use)((0,g.createInfinitePromise)())}z.subTreeData||(0,d.use)((0,g.createInfinitePromise)());let W=d.default.createElement(p.LayoutRouterContext.Provider,{value:{tree:w[1][l],childNodes:z.parallelRoutes,url:u}},z.subTreeData);return W}function LoadingBoundary(a){let{children:l,loading:u,loadingStyles:c,loadingScripts:p,hasLoading:f}=a;return f?d.default.createElement(d.Suspense,{fallback:d.default.createElement(d.default.Fragment,null,c,p,u)},l):d.default.createElement(d.default.Fragment,null,l)}function OuterLayoutRouter(a){let{parallelRouterKey:l,segmentPath:u,childProp:c,error:f,errorStyles:g,errorScripts:w,templateStyles:N,templateScripts:U,loading:z,loadingStyles:W,loadingScripts:er,hasLoading:en,template:ea,notFound:el,notFoundStyles:eu,styles:ec}=a,ed=(0,d.useContext)(p.LayoutRouterContext);if(!ed)throw Error("invariant expected layout router to be mounted");let{childNodes:eh,tree:ep,url:ef}=ed,eg=eh.get(l);eg||(eg=new Map,eh.set(l,eg));let e_=ep[1][l][0],ev=c.segment,em=(0,k.getSegmentValue)(e_),ey=[e_];return d.default.createElement(d.default.Fragment,null,ec,ey.map(a=>{let ec=(0,v.matchSegment)(a,ev),ed=(0,k.getSegmentValue)(a),eh=(0,$.createRouterCacheKey)(a);return d.default.createElement(p.TemplateContext.Provider,{key:(0,$.createRouterCacheKey)(a,!0),value:d.default.createElement(ScrollAndFocusHandler,{segmentPath:u},d.default.createElement(_.ErrorBoundary,{errorComponent:f,errorStyles:g,errorScripts:w},d.default.createElement(LoadingBoundary,{hasLoading:en,loading:z,loadingStyles:W,loadingScripts:er},d.default.createElement(x.NotFoundBoundary,{notFound:el,notFoundStyles:eu},d.default.createElement(S.RedirectBoundary,null,d.default.createElement(InnerLayoutRouter,{parallelRouterKey:l,url:ef,tree:ep,childNodes:eg,childProp:ec?c:null,segmentPath:u,cacheKey:eh,isActive:em===ed}))))))},N,U,ea)}))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4538:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{matchSegment:function(){return matchSegment},canSegmentBeOverridden:function(){return canSegmentBeOverridden}});let c=u(42290),matchSegment=(a,l)=>"string"==typeof a?"string"==typeof l&&a===l:"string"!=typeof l&&a[0]===l[0]&&a[1]===l[1],canSegmentBeOverridden=(a,l)=>{var u;return!Array.isArray(a)&&!!Array.isArray(l)&&(null==(u=(0,c.getSegmentParam)(a))?void 0:u.param)===l[0]};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},23094:(a,l,u)=>{"use strict";function maybePostpone(a,l){if(!a.isStaticGeneration||!a.experimental.ppr)return;let c=u(9885);"function"==typeof c.unstable_postpone&&c.unstable_postpone(l)}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"maybePostpone",{enumerable:!0,get:function(){return maybePostpone}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},4979:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{ReadonlyURLSearchParams:function(){return ReadonlyURLSearchParams},useSearchParams:function(){return useSearchParams},usePathname:function(){return usePathname},ServerInsertedHTMLContext:function(){return _.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return _.useServerInsertedHTML},useRouter:function(){return useRouter},useParams:function(){return useParams},useSelectedLayoutSegments:function(){return useSelectedLayoutSegments},useSelectedLayoutSegment:function(){return useSelectedLayoutSegment},redirect:function(){return v.redirect},permanentRedirect:function(){return v.permanentRedirect},RedirectType:function(){return v.RedirectType},notFound:function(){return w.notFound}});let c=u(9885),d=u(82428),p=u(11736),f=u(53402),g=u(31275),_=u(75753),v=u(1612),w=u(71103),S=Symbol("internal for urlsearchparams readonly");function readonlyURLSearchParamsError(){return Error("ReadonlyURLSearchParams cannot be modified")}let ReadonlyURLSearchParams=class ReadonlyURLSearchParams{[Symbol.iterator](){return this[S][Symbol.iterator]()}append(){throw readonlyURLSearchParamsError()}delete(){throw readonlyURLSearchParamsError()}set(){throw readonlyURLSearchParamsError()}sort(){throw readonlyURLSearchParamsError()}constructor(a){this[S]=a,this.entries=a.entries.bind(a),this.forEach=a.forEach.bind(a),this.get=a.get.bind(a),this.getAll=a.getAll.bind(a),this.has=a.has.bind(a),this.keys=a.keys.bind(a),this.values=a.values.bind(a),this.toString=a.toString.bind(a),this.size=a.size}};function useSearchParams(){(0,f.clientHookInServerComponentError)("useSearchParams");let a=(0,c.useContext)(p.SearchParamsContext),l=(0,c.useMemo)(()=>a?new ReadonlyURLSearchParams(a):null,[a]);{let{bailoutToClientRendering:a}=u(64954);a()}return l}function usePathname(){return(0,f.clientHookInServerComponentError)("usePathname"),(0,c.useContext)(p.PathnameContext)}function useRouter(){(0,f.clientHookInServerComponentError)("useRouter");let a=(0,c.useContext)(d.AppRouterContext);if(null===a)throw Error("invariant expected app router to be mounted");return a}function getSelectedParams(a,l){void 0===l&&(l={});let u=a[1];for(let a of Object.values(u)){let u=a[0],c=Array.isArray(u),d=c?u[1]:u;if(!d||d.startsWith("__PAGE__"))continue;let p=c&&("c"===u[2]||"oc"===u[2]);p?l[u[0]]=u[1].split("/"):c&&(l[u[0]]=u[1]),l=getSelectedParams(a,l)}return l}function useParams(){(0,f.clientHookInServerComponentError)("useParams");let a=(0,c.useContext)(d.GlobalLayoutRouterContext),l=(0,c.useContext)(p.PathParamsContext);return(0,c.useMemo)(()=>(null==a?void 0:a.tree)?getSelectedParams(a.tree):l,[null==a?void 0:a.tree,l])}function getSelectedLayoutSegmentPath(a,l,u,c){let d;if(void 0===u&&(u=!0),void 0===c&&(c=[]),u)d=a[1][l];else{var p;let l=a[1];d=null!=(p=l.children)?p:Object.values(l)[0]}if(!d)return c;let f=d[0],_=(0,g.getSegmentValue)(f);return!_||_.startsWith("__PAGE__")?c:(c.push(_),getSelectedLayoutSegmentPath(d,l,!1,c))}function useSelectedLayoutSegments(a){void 0===a&&(a="children"),(0,f.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:l}=(0,c.useContext)(d.LayoutRouterContext);return getSelectedLayoutSegmentPath(l,a)}function useSelectedLayoutSegment(a){void 0===a&&(a="children"),(0,f.clientHookInServerComponentError)("useSelectedLayoutSegment");let l=useSelectedLayoutSegments(a);return 0===l.length?null:l[0]}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},44714:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"NotFoundBoundary",{enumerable:!0,get:function(){return NotFoundBoundary}});let c=u(80085),d=c._(u(9885)),p=u(4979);let NotFoundErrorBoundary=class NotFoundErrorBoundary extends d.default.Component{static getDerivedStateFromError(a){if((null==a?void 0:a.digest)==="NEXT_NOT_FOUND")return{notFoundTriggered:!0};throw a}static getDerivedStateFromProps(a,l){return a.pathname!==l.previousPathname&&l.notFoundTriggered?{notFoundTriggered:!1,previousPathname:a.pathname}:{notFoundTriggered:l.notFoundTriggered,previousPathname:a.pathname}}render(){return this.state.notFoundTriggered?d.default.createElement(d.default.Fragment,null,d.default.createElement("meta",{name:"robots",content:"noindex"}),!1,this.props.notFoundStyles,this.props.notFound):this.props.children}constructor(a){super(a),this.state={notFoundTriggered:!!a.asNotFound,previousPathname:a.pathname}}};function NotFoundBoundary(a){let{notFound:l,notFoundStyles:u,asNotFound:c,children:f}=a,g=(0,p.usePathname)();return l?d.default.createElement(NotFoundErrorBoundary,{pathname:g,notFound:l,notFoundStyles:u,asNotFound:c},f):d.default.createElement(d.default.Fragment,null,f)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},71103:(a,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{notFound:function(){return notFound},isNotFoundError:function(){return isNotFoundError}});let u="NEXT_NOT_FOUND";function notFound(){let a=Error(u);throw a.digest=u,a}function isNotFoundError(a){return(null==a?void 0:a.digest)===u}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8862:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PromiseQueue",{enumerable:!0,get:function(){return PromiseQueue}});let c=u(13592),d=u(94941);var p=d._("_maxConcurrency"),f=d._("_runningCount"),g=d._("_queue"),_=d._("_processNext");let PromiseQueue=class PromiseQueue{enqueue(a){let l,u;let d=new Promise((a,c)=>{l=a,u=c}),task=async()=>{try{c._(this,f)[f]++;let u=await a();l(u)}catch(a){u(a)}finally{c._(this,f)[f]--,c._(this,_)[_]()}};return c._(this,g)[g].push({promiseFn:d,task}),c._(this,_)[_](),d}bump(a){let l=c._(this,g)[g].findIndex(l=>l.promiseFn===a);if(l>-1){let a=c._(this,g)[g].splice(l,1)[0];c._(this,g)[g].unshift(a),c._(this,_)[_](!0)}}constructor(a=5){Object.defineProperty(this,_,{value:processNext}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),c._(this,p)[p]=a,c._(this,f)[f]=0,c._(this,g)[g]=[]}};function processNext(a){if(void 0===a&&(a=!1),(c._(this,f)[f]<c._(this,p)[p]||a)&&c._(this,g)[g].length>0){var l;null==(l=c._(this,g)[g].shift())||l.task()}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},87502:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{RedirectErrorBoundary:function(){return RedirectErrorBoundary},RedirectBoundary:function(){return RedirectBoundary}});let c=u(8425),d=c._(u(9885)),p=u(4979),f=u(1612);function HandleRedirect(a){let{redirect:l,reset:u,redirectType:c}=a,g=(0,p.useRouter)();return(0,d.useEffect)(()=>{d.default.startTransition(()=>{c===f.RedirectType.push?g.push(l,{}):g.replace(l,{}),u()})},[l,c,u,g]),null}let RedirectErrorBoundary=class RedirectErrorBoundary extends d.default.Component{static getDerivedStateFromError(a){if((0,f.isRedirectError)(a)){let l=(0,f.getURLFromRedirectError)(a),u=(0,f.getRedirectTypeFromError)(a);return{redirect:l,redirectType:u}}throw a}render(){let{redirect:a,redirectType:l}=this.state;return null!==a&&null!==l?d.default.createElement(HandleRedirect,{redirect:a,redirectType:l,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(a){super(a),this.state={redirect:null,redirectType:null}}};function RedirectBoundary(a){let{children:l}=a,u=(0,p.useRouter)();return d.default.createElement(RedirectErrorBoundary,{router:u},l)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},1612:(a,l,u)=>{"use strict";var c;Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{RedirectType:function(){return c},getRedirectError:function(){return getRedirectError},redirect:function(){return redirect},permanentRedirect:function(){return permanentRedirect},isRedirectError:function(){return isRedirectError},getURLFromRedirectError:function(){return getURLFromRedirectError},getRedirectTypeFromError:function(){return getRedirectTypeFromError}});let d=u(55403),p="NEXT_REDIRECT";function getRedirectError(a,l,u){void 0===u&&(u=!1);let c=Error(p);c.digest=p+";"+l+";"+a+";"+u;let f=d.requestAsyncStorage.getStore();return f&&(c.mutableCookies=f.mutableCookies),c}function redirect(a,l){throw void 0===l&&(l="replace"),getRedirectError(a,l,!1)}function permanentRedirect(a,l){throw void 0===l&&(l="replace"),getRedirectError(a,l,!0)}function isRedirectError(a){if("string"!=typeof(null==a?void 0:a.digest))return!1;let[l,u,c,d]=a.digest.split(";",4);return l===p&&("replace"===u||"push"===u)&&"string"==typeof c&&("true"===d||"false"===d)}function getURLFromRedirectError(a){return isRedirectError(a)?a.digest.split(";",3)[2]:null}function getRedirectTypeFromError(a){if(!isRedirectError(a))throw Error("Not a redirect error");return a.digest.split(";",2)[1]}(function(a){a.push="push",a.replace="replace"})(c||(c={})),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},45392:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return RenderFromTemplateContext}});let c=u(8425),d=c._(u(9885)),p=u(82428);function RenderFromTemplateContext(){let a=(0,d.useContext)(p.TemplateContext);return d.default.createElement(d.default.Fragment,null,a)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},51847:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"applyFlightData",{enumerable:!0,get:function(){return applyFlightData}});let c=u(82428),d=u(65929),p=u(94059);function applyFlightData(a,l,u,f){void 0===f&&(f=!1);let[g,_,v]=u.slice(-3);return null!==_&&(3===u.length?(l.status=c.CacheStates.READY,l.subTreeData=_,(0,d.fillLazyItemsTillLeafWithHead)(l,a,g,v,f)):(l.status=c.CacheStates.READY,l.subTreeData=a.subTreeData,l.parallelRoutes=new Map(a.parallelRoutes),(0,p.fillCacheWithNewSubTreeData)(l,a,u,f)),!0)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},69605:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"applyRouterStatePatchToTree",{enumerable:!0,get:function(){return applyRouterStatePatchToTree}});let c=u(4538);function applyPatch(a,l){let[u,d]=a,[p,f]=l;if("__DEFAULT__"===p&&"__DEFAULT__"!==u)return a;if((0,c.matchSegment)(u,p)){let l={};for(let a in d){let u=void 0!==f[a];u?l[a]=applyPatch(d[a],f[a]):l[a]=d[a]}for(let a in f)l[a]||(l[a]=f[a]);let c=[u,l];return a[2]&&(c[2]=a[2]),a[3]&&(c[3]=a[3]),a[4]&&(c[4]=a[4]),c}return l}function applyRouterStatePatchToTree(a,l,u){let d;let[p,f,,,g]=l;if(1===a.length){let a=applyPatch(l,u);return a}let[_,v]=a;if(!(0,c.matchSegment)(_,p))return null;let w=2===a.length;if(w)d=applyPatch(f[v],u);else if(null===(d=applyRouterStatePatchToTree(a.slice(2),f[v],u)))return null;let S=[a[0],{...f,[v]:d}];return g&&(S[4]=!0),S}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},6663:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{extractPathFromFlightRouterState:function(){return extractPathFromFlightRouterState},computeChangedPath:function(){return computeChangedPath}});let c=u(84265),d=u(392),p=u(4538),removeLeadingSlash=a=>"/"===a[0]?a.slice(1):a,segmentToPathname=a=>"string"==typeof a?a:a[1];function normalizeSegments(a){return a.reduce((a,l)=>""===(l=removeLeadingSlash(l))||(0,d.isGroupSegment)(l)?a:a+"/"+l,"")||"/"}function extractPathFromFlightRouterState(a){var l;let u=Array.isArray(a[0])?a[0][1]:a[0];if("__DEFAULT__"===u||c.INTERCEPTION_ROUTE_MARKERS.some(a=>u.startsWith(a)))return;if(u.startsWith("__PAGE__"))return"";let d=[u],p=null!=(l=a[1])?l:{},f=p.children?extractPathFromFlightRouterState(p.children):void 0;if(void 0!==f)d.push(f);else for(let[a,l]of Object.entries(p)){if("children"===a)continue;let u=extractPathFromFlightRouterState(l);void 0!==u&&d.push(u)}return normalizeSegments(d)}function computeChangedPathImpl(a,l){let[u,d]=a,[f,g]=l,_=segmentToPathname(u),v=segmentToPathname(f);if(c.INTERCEPTION_ROUTE_MARKERS.some(a=>_.startsWith(a)||v.startsWith(a)))return"";if(!(0,p.matchSegment)(u,f)){var w;return null!=(w=extractPathFromFlightRouterState(l))?w:""}for(let a in d)if(g[a]){let l=computeChangedPathImpl(d[a],g[a]);if(null!==l)return segmentToPathname(f)+"/"+l}return null}function computeChangedPath(a,l){let u=computeChangedPathImpl(a,l);return null==u||"/"===u?u:normalizeSegments(u.split("/"))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},11706:(a,l)=>{"use strict";function createHrefFromUrl(a,l){return void 0===l&&(l=!0),a.pathname+a.search+(l?a.hash:"")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createHrefFromUrl",{enumerable:!0,get:function(){return createHrefFromUrl}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},29624:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createInitialRouterState",{enumerable:!0,get:function(){return createInitialRouterState}});let c=u(82428),d=u(11706),p=u(65929),f=u(6663);function createInitialRouterState(a){var l;let{buildId:u,initialTree:g,children:_,initialCanonicalUrl:v,initialParallelRoutes:w,isServer:S,location:x,initialHead:k}=a,$={status:c.CacheStates.READY,data:null,subTreeData:_,parallelRoutes:S?new Map:w};return(null===w||0===w.size)&&(0,p.fillLazyItemsTillLeafWithHead)($,void 0,g,k),{buildId:u,tree:g,cache:$,prefetchCache:new Map,pushRef:{pendingPush:!1,mpaNavigation:!1},focusAndScrollRef:{apply:!1,onlyHashChange:!1,hashFragment:null,segmentPaths:[]},canonicalUrl:x?(0,d.createHrefFromUrl)(x):v,nextUrl:null!=(l=(0,f.extractPathFromFlightRouterState)(g)||(null==x?void 0:x.pathname))?l:null}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},78775:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createOptimisticTree",{enumerable:!0,get:function(){return createOptimisticTree}});let c=u(4538);function createOptimisticTree(a,l,u){let d;let[p,f,g,_,v]=l||[null,{}],w=a[0],S=1===a.length,x=null!==p&&(0,c.matchSegment)(p,w),k=Object.keys(f).length>1,$=!l||!x||k,N={};if(null!==p&&x&&(N=f),!S&&!k){let l=createOptimisticTree(a.slice(1),N?N.children:null,u||$);d=l}let U=[w,{...N,...d?{children:d}:{}}];return g&&(U[2]=g),!u&&$?U[3]="refetch":x&&_&&(U[3]=_),x&&v&&(U[4]=v),U}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8026:(a,l)=>{"use strict";function createRecordFromThenable(a){return a.status="pending",a.then(l=>{"pending"===a.status&&(a.status="fulfilled",a.value=l)},l=>{"pending"===a.status&&(a.status="rejected",a.reason=l)}),a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createRecordFromThenable",{enumerable:!0,get:function(){return createRecordFromThenable}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},84701:(a,l)=>{"use strict";function createRouterCacheKey(a,l){return void 0===l&&(l=!1),Array.isArray(a)?(a[0]+"|"+a[1]+"|"+a[2]).toLowerCase():l&&a.startsWith("__PAGE__")?"__PAGE__":a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createRouterCacheKey",{enumerable:!0,get:function(){return createRouterCacheKey}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},79102:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fetchServerResponse",{enumerable:!0,get:function(){return fetchServerResponse}});let c=u(54361),d=u(13724),p=u(95422),f=u(3678),g=u(30755),_=u(45082),{createFromFetch:v}=u(12623);function doMpaNavigation(a){return[(0,d.urlToUrlWithoutFlightMarker)(a).toString(),void 0]}async function fetchServerResponse(a,l,u,w,S){let x={[c.RSC]:"1",[c.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(l))};S===f.PrefetchKind.AUTO&&(x[c.NEXT_ROUTER_PREFETCH]="1"),u&&(x[c.NEXT_URL]=u);let k=(0,g.hexHash)([x[c.NEXT_ROUTER_PREFETCH]||"0",x[c.NEXT_ROUTER_STATE_TREE],x[c.NEXT_URL]].join(","));try{let l=new URL(a);l.searchParams.set(c.NEXT_RSC_UNION_QUERY,k);let u=await fetch(l,{credentials:"same-origin",headers:x}),f=(0,d.urlToUrlWithoutFlightMarker)(u.url),g=u.redirected?f:void 0,S=u.headers.get("content-type")||"",$=!!u.headers.get(_.NEXT_DID_POSTPONE_HEADER);if(S!==c.RSC_CONTENT_TYPE_HEADER||!u.ok)return a.hash&&(f.hash=a.hash),doMpaNavigation(f.toString());let[N,U]=await v(Promise.resolve(u),{callServer:p.callServer});if(w!==N)return doMpaNavigation(u.url);return[U,g,$]}catch(l){return console.error("Failed to fetch RSC payload for "+a+". Falling back to browser navigation.",l),[a.toString(),void 0]}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},81924:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fillCacheWithDataProperty",{enumerable:!0,get:function(){return fillCacheWithDataProperty}});let c=u(82428),d=u(84701);function fillCacheWithDataProperty(a,l,u,p,f){void 0===f&&(f=!1);let g=u.length<=2,[_,v]=u,w=(0,d.createRouterCacheKey)(v),S=l.parallelRoutes.get(_);if(!S||f&&l.parallelRoutes.size>1)return{bailOptimistic:!0};let x=a.parallelRoutes.get(_);x&&x!==S||(x=new Map(S),a.parallelRoutes.set(_,x));let k=S.get(w),$=x.get(w);if(g){$&&$.data&&$!==k||x.set(w,{status:c.CacheStates.DATA_FETCH,data:p(),subTreeData:null,parallelRoutes:new Map});return}if(!$||!k){$||x.set(w,{status:c.CacheStates.DATA_FETCH,data:p(),subTreeData:null,parallelRoutes:new Map});return}return $===k&&($={status:$.status,data:$.data,subTreeData:$.subTreeData,parallelRoutes:new Map($.parallelRoutes)},x.set(w,$)),fillCacheWithDataProperty($,k,u.slice(2),p)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},94059:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fillCacheWithNewSubTreeData",{enumerable:!0,get:function(){return fillCacheWithNewSubTreeData}});let c=u(82428),d=u(32582),p=u(65929),f=u(84701);function fillCacheWithNewSubTreeData(a,l,u,g){let _=u.length<=5,[v,w]=u,S=(0,f.createRouterCacheKey)(w),x=l.parallelRoutes.get(v);if(!x)return;let k=a.parallelRoutes.get(v);k&&k!==x||(k=new Map(x),a.parallelRoutes.set(v,k));let $=x.get(S),N=k.get(S);if(_){N&&N.data&&N!==$||(N={status:c.CacheStates.READY,data:null,subTreeData:u[3],parallelRoutes:$?new Map($.parallelRoutes):new Map},$&&(0,d.invalidateCacheByRouterState)(N,$,u[2]),(0,p.fillLazyItemsTillLeafWithHead)(N,$,u[2],u[4],g),k.set(S,N));return}N&&$&&(N===$&&(N={status:N.status,data:N.data,subTreeData:N.subTreeData,parallelRoutes:new Map(N.parallelRoutes)},k.set(S,N)),fillCacheWithNewSubTreeData(N,$,u.slice(2),g))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},65929:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return fillLazyItemsTillLeafWithHead}});let c=u(82428),d=u(84701);function fillLazyItemsTillLeafWithHead(a,l,u,p,f){let g=0===Object.keys(u[1]).length;if(g){a.head=p;return}for(let g in u[1]){let _=u[1][g],v=_[0],w=(0,d.createRouterCacheKey)(v);if(l){let u=l.parallelRoutes.get(g);if(u){let l=new Map(u),d=l.get(w),v=f&&d?{status:d.status,data:d.data,subTreeData:d.subTreeData,parallelRoutes:new Map(d.parallelRoutes)}:{status:c.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map(null==d?void 0:d.parallelRoutes)};l.set(w,v),fillLazyItemsTillLeafWithHead(v,d,_,p,f),a.parallelRoutes.set(g,l);continue}}let S={status:c.CacheStates.LAZY_INITIALIZED,data:null,subTreeData:null,parallelRoutes:new Map},x=a.parallelRoutes.get(g);x?x.set(w,S):a.parallelRoutes.set(g,new Map([[w,S]])),fillLazyItemsTillLeafWithHead(S,void 0,_,p,f)}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},16699:(a,l)=>{"use strict";var u;function getPrefetchEntryCacheStatus(a){let{kind:l,prefetchTime:u,lastUsedTime:c}=a;return Date.now()<(null!=c?c:u)+3e4?c?"reusable":"fresh":"auto"===l&&Date.now()<u+3e5?"stale":"full"===l&&Date.now()<u+3e5?"reusable":"expired"}Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{PrefetchCacheEntryStatus:function(){return u},getPrefetchEntryCacheStatus:function(){return getPrefetchEntryCacheStatus}}),function(a){a.fresh="fresh",a.reusable="reusable",a.expired="expired",a.stale="stale"}(u||(u={})),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},43466:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"handleMutable",{enumerable:!0,get:function(){return handleMutable}});let c=u(6663);function handleMutable(a,l){var u,d,p,f;let g=null==(d=l.shouldScroll)||d;return{buildId:a.buildId,canonicalUrl:null!=l.canonicalUrl?l.canonicalUrl===a.canonicalUrl?a.canonicalUrl:l.canonicalUrl:a.canonicalUrl,pushRef:{pendingPush:null!=l.pendingPush?l.pendingPush:a.pushRef.pendingPush,mpaNavigation:null!=l.mpaNavigation?l.mpaNavigation:a.pushRef.mpaNavigation},focusAndScrollRef:{apply:!!g&&((null==l?void 0:l.scrollableSegments)!==void 0||a.focusAndScrollRef.apply),onlyHashChange:!!l.hashFragment&&a.canonicalUrl.split("#",1)[0]===(null==(u=l.canonicalUrl)?void 0:u.split("#",1)[0]),hashFragment:g?l.hashFragment&&""!==l.hashFragment?decodeURIComponent(l.hashFragment.slice(1)):a.focusAndScrollRef.hashFragment:null,segmentPaths:g?null!=(p=null==l?void 0:l.scrollableSegments)?p:a.focusAndScrollRef.segmentPaths:[]},cache:l.cache?l.cache:a.cache,prefetchCache:l.prefetchCache?l.prefetchCache:a.prefetchCache,tree:void 0!==l.patchedTree?l.patchedTree:a.tree,nextUrl:void 0!==l.patchedTree?null!=(f=(0,c.computeChangedPath)(a.tree,l.patchedTree))?f:a.canonicalUrl:a.nextUrl}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},21986:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return invalidateCacheBelowFlightSegmentPath}});let c=u(84701);function invalidateCacheBelowFlightSegmentPath(a,l,u){let d=u.length<=2,[p,f]=u,g=(0,c.createRouterCacheKey)(f),_=l.parallelRoutes.get(p);if(!_)return;let v=a.parallelRoutes.get(p);if(v&&v!==_||(v=new Map(_),a.parallelRoutes.set(p,v)),d){v.delete(g);return}let w=_.get(g),S=v.get(g);S&&w&&(S===w&&(S={status:S.status,data:S.data,subTreeData:S.subTreeData,parallelRoutes:new Map(S.parallelRoutes)},v.set(g,S)),invalidateCacheBelowFlightSegmentPath(S,w,u.slice(2)))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},32582:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return invalidateCacheByRouterState}});let c=u(84701);function invalidateCacheByRouterState(a,l,u){for(let d in u[1]){let p=u[1][d][0],f=(0,c.createRouterCacheKey)(p),g=l.parallelRoutes.get(d);if(g){let l=new Map(g);l.delete(f),a.parallelRoutes.set(d,l)}}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},90145:(a,l)=>{"use strict";function isNavigatingToNewRootLayout(a,l){let u=a[0],c=l[0];if(Array.isArray(u)&&Array.isArray(c)){if(u[0]!==c[0]||u[2]!==c[2])return!0}else if(u!==c)return!0;if(a[4])return!l[4];if(l[4])return!0;let d=Object.values(a[1])[0],p=Object.values(l[1])[0];return!d||!p||isNavigatingToNewRootLayout(d,p)}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return isNavigatingToNewRootLayout}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},84879:(a,l)=>{"use strict";function readRecordValue(a){if("fulfilled"===a.status)return a.value;throw a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"readRecordValue",{enumerable:!0,get:function(){return readRecordValue}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},92755:(a,l,u)=>{"use strict";function fastRefreshReducerNoop(a,l){return a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"fastRefreshReducer",{enumerable:!0,get:function(){return c}}),u(79102),u(8026),u(84879),u(11706),u(69605),u(90145),u(28237),u(43466),u(51847);let c=fastRefreshReducerNoop;("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},52226:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"findHeadInCache",{enumerable:!0,get:function(){return findHeadInCache}});let c=u(84701);function findHeadInCache(a,l){let u=0===Object.keys(l).length;if(u)return a.head;for(let u in l){let[d,p]=l[u],f=a.parallelRoutes.get(u);if(!f)continue;let g=(0,c.createRouterCacheKey)(d),_=f.get(g);if(!_)continue;let v=findHeadInCache(_,p);if(v)return v}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},31275:(a,l)=>{"use strict";function getSegmentValue(a){return Array.isArray(a)?a[1]:a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"getSegmentValue",{enumerable:!0,get:function(){return getSegmentValue}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},28237:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{handleExternalUrl:function(){return handleExternalUrl},navigateReducer:function(){return navigateReducer}});let c=u(82428),d=u(79102),p=u(8026),f=u(84879),g=u(11706),_=u(21986),v=u(81924),w=u(78775),S=u(69605),x=u(84320),k=u(90145),$=u(3678),N=u(43466),U=u(51847),z=u(16699),W=u(18155),er=u(31196);function handleExternalUrl(a,l,u,c){return l.previousTree=a.tree,l.mpaNavigation=!0,l.canonicalUrl=u,l.pendingPush=c,l.scrollableSegments=void 0,(0,N.handleMutable)(a,l)}function generateSegmentsFromPatch(a){let l=[],[u,c]=a;if(0===Object.keys(c).length)return[[u]];for(let[a,d]of Object.entries(c))for(let c of generateSegmentsFromPatch(d))""===u?l.push([a,...c]):l.push([u,a,...c]);return l}function addRefetchToLeafSegments(a,l,u,d,p){let f=!1;a.status=c.CacheStates.READY,a.subTreeData=l.subTreeData,a.parallelRoutes=new Map(l.parallelRoutes);let g=generateSegmentsFromPatch(d).map(a=>[...u,...a]);for(let u of g){let c=(0,v.fillCacheWithDataProperty)(a,l,u,p);(null==c?void 0:c.bailOptimistic)||(f=!0)}return f}function navigateReducer(a,l){let{url:u,isExternalUrl:en,navigateType:ea,cache:el,mutable:eu,forceOptimisticNavigation:ec,shouldScroll:ed}=l,{pathname:eh,hash:ep}=u,ef=(0,g.createHrefFromUrl)(u),eg="push"===ea;(0,W.prunePrefetchCache)(a.prefetchCache);let e_=JSON.stringify(eu.previousTree)===JSON.stringify(a.tree);if(e_)return(0,N.handleMutable)(a,eu);if(en)return handleExternalUrl(a,eu,u.toString(),eg);let ev=a.prefetchCache.get((0,g.createHrefFromUrl)(u,!1));if(ec&&(null==ev?void 0:ev.kind)!==$.PrefetchKind.TEMPORARY){let l=eh.split("/");l.push("__PAGE__");let f=(0,w.createOptimisticTree)(l,a.tree,!1),_={...el};_.status=c.CacheStates.READY,_.subTreeData=a.cache.subTreeData,_.parallelRoutes=new Map(a.cache.parallelRoutes);let S=null,x=l.slice(1).map(a=>["children",a]).flat(),k=(0,v.fillCacheWithDataProperty)(_,a.cache,x,()=>(S||(S=(0,p.createRecordFromThenable)((0,d.fetchServerResponse)(u,f,a.nextUrl,a.buildId))),S),!0);if(!(null==k?void 0:k.bailOptimistic))return eu.previousTree=a.tree,eu.patchedTree=f,eu.pendingPush=eg,eu.hashFragment=ep,eu.shouldScroll=ed,eu.scrollableSegments=[],eu.cache=_,eu.canonicalUrl=ef,a.prefetchCache.set((0,g.createHrefFromUrl)(u,!1),{data:S?(0,p.createRecordFromThenable)(Promise.resolve(S)):null,kind:$.PrefetchKind.TEMPORARY,prefetchTime:Date.now(),treeAtTimeOfPrefetch:a.tree,lastUsedTime:Date.now()}),(0,N.handleMutable)(a,eu)}if(!ev){let l=(0,p.createRecordFromThenable)((0,d.fetchServerResponse)(u,a.tree,a.nextUrl,a.buildId,void 0)),c={data:(0,p.createRecordFromThenable)(Promise.resolve(l)),kind:$.PrefetchKind.TEMPORARY,prefetchTime:Date.now(),treeAtTimeOfPrefetch:a.tree,lastUsedTime:null};a.prefetchCache.set((0,g.createHrefFromUrl)(u,!1),c),ev=c}let em=(0,z.getPrefetchEntryCacheStatus)(ev),{treeAtTimeOfPrefetch:ey,data:eb}=ev;er.prefetchQueue.bump(eb);let[ew,eS,eE]=(0,f.readRecordValue)(eb);if(ev.lastUsedTime||(ev.lastUsedTime=Date.now()),"string"==typeof ew)return handleExternalUrl(a,eu,ew,eg);let ex=a.tree,eR=a.cache,eP=[];for(let l of ew){let f=l.slice(0,-4),g=l.slice(-3)[0],v=["",...f],w=(0,S.applyRouterStatePatchToTree)(v,ex,g);if(null===w&&(w=(0,S.applyRouterStatePatchToTree)(v,ey,g)),null!==w){if((0,k.isNavigatingToNewRootLayout)(ex,w))return handleExternalUrl(a,eu,ef,eg);let S=!eE&&(0,U.applyFlightData)(eR,el,l,"auto"===ev.kind&&em===z.PrefetchCacheEntryStatus.reusable);S||em!==z.PrefetchCacheEntryStatus.stale||(S=addRefetchToLeafSegments(el,eR,f,g,()=>(0,p.createRecordFromThenable)((0,d.fetchServerResponse)(u,ex,a.nextUrl,a.buildId))));let $=(0,x.shouldHardNavigate)(v,ex);for(let a of($?(el.status=c.CacheStates.READY,el.subTreeData=eR.subTreeData,(0,_.invalidateCacheBelowFlightSegmentPath)(el,eR,f),eu.cache=el):S&&(eu.cache=el),eR=el,ex=w,generateSegmentsFromPatch(g))){let l=[...f,...a];"__DEFAULT__"!==l[l.length-1]&&eP.push(l)}}}return eu.previousTree=a.tree,eu.patchedTree=ex,eu.canonicalUrl=eS?(0,g.createHrefFromUrl)(eS):ef,eu.pendingPush=eg,eu.scrollableSegments=eP,eu.hashFragment=ep,eu.shouldScroll=ed,(0,N.handleMutable)(a,eu)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},31196:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{prefetchQueue:function(){return w},prefetchReducer:function(){return prefetchReducer}});let c=u(11706),d=u(79102),p=u(3678),f=u(8026),g=u(18155),_=u(54361),v=u(8862),w=new v.PromiseQueue(5);function prefetchReducer(a,l){(0,g.prunePrefetchCache)(a.prefetchCache);let{url:u}=l;u.searchParams.delete(_.NEXT_RSC_UNION_QUERY);let v=(0,c.createHrefFromUrl)(u,!1),S=a.prefetchCache.get(v);if(S&&(S.kind===p.PrefetchKind.TEMPORARY&&a.prefetchCache.set(v,{...S,kind:l.kind}),!(S.kind===p.PrefetchKind.AUTO&&l.kind===p.PrefetchKind.FULL)))return a;let x=(0,f.createRecordFromThenable)(w.enqueue(()=>(0,d.fetchServerResponse)(u,a.tree,a.nextUrl,a.buildId,l.kind)));return a.prefetchCache.set(v,{treeAtTimeOfPrefetch:a.tree,data:x,kind:l.kind,prefetchTime:Date.now(),lastUsedTime:null}),a}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},18155:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"prunePrefetchCache",{enumerable:!0,get:function(){return prunePrefetchCache}});let c=u(16699);function prunePrefetchCache(a){for(let[l,u]of a)(0,c.getPrefetchEntryCacheStatus)(u)===c.PrefetchCacheEntryStatus.expired&&a.delete(l)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},58038:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"refreshReducer",{enumerable:!0,get:function(){return refreshReducer}});let c=u(79102),d=u(8026),p=u(84879),f=u(11706),g=u(69605),_=u(90145),v=u(28237),w=u(43466),S=u(82428),x=u(65929);function refreshReducer(a,l){let{cache:u,mutable:k,origin:$}=l,N=a.canonicalUrl,U=a.tree,z=JSON.stringify(k.previousTree)===JSON.stringify(U);if(z)return(0,w.handleMutable)(a,k);u.data||(u.data=(0,d.createRecordFromThenable)((0,c.fetchServerResponse)(new URL(N,$),[U[0],U[1],U[2],"refetch"],a.nextUrl,a.buildId)));let[W,er]=(0,p.readRecordValue)(u.data);if("string"==typeof W)return(0,v.handleExternalUrl)(a,k,W,a.pushRef.pendingPush);for(let l of(u.data=null,W)){if(3!==l.length)return console.log("REFRESH FAILED"),a;let[c]=l,d=(0,g.applyRouterStatePatchToTree)([""],U,c);if(null===d)throw Error("SEGMENT MISMATCH");if((0,_.isNavigatingToNewRootLayout)(U,d))return(0,v.handleExternalUrl)(a,k,N,a.pushRef.pendingPush);let p=er?(0,f.createHrefFromUrl)(er):void 0;er&&(k.canonicalUrl=p);let[w,$]=l.slice(-2);null!==w&&(u.status=S.CacheStates.READY,u.subTreeData=w,(0,x.fillLazyItemsTillLeafWithHead)(u,void 0,c,$),k.cache=u,k.prefetchCache=new Map),k.previousTree=U,k.patchedTree=d,k.canonicalUrl=N,U=d}return(0,w.handleMutable)(a,k)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},72910:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"restoreReducer",{enumerable:!0,get:function(){return restoreReducer}});let c=u(11706);function restoreReducer(a,l){let{url:u,tree:d}=l,p=(0,c.createHrefFromUrl)(u);return{buildId:a.buildId,canonicalUrl:p,pushRef:a.pushRef,focusAndScrollRef:a.focusAndScrollRef,cache:a.cache,prefetchCache:a.prefetchCache,tree:d,nextUrl:u.pathname}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},39747:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"serverActionReducer",{enumerable:!0,get:function(){return serverActionReducer}});let c=u(95422),d=u(54361),p=u(8026),f=u(84879),g=u(16879),_=u(11706),v=u(28237),w=u(69605),S=u(90145),x=u(82428),k=u(43466),$=u(65929),{createFromFetch:N,encodeReply:U}=u(12623);async function fetchServerAction(a,l){let u,{actionId:p,actionArgs:f}=l,_=await U(f),v=await fetch("",{method:"POST",headers:{Accept:d.RSC_CONTENT_TYPE_HEADER,[d.ACTION]:p,[d.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(a.tree)),...a.nextUrl?{[d.NEXT_URL]:a.nextUrl}:{}},body:_}),w=v.headers.get("x-action-redirect");try{let a=JSON.parse(v.headers.get("x-action-revalidated")||"[[],0,0]");u={paths:a[0]||[],tag:!!a[1],cookie:a[2]}}catch(a){u={paths:[],tag:!1,cookie:!1}}let S=w?new URL((0,g.addBasePath)(w),new URL(a.canonicalUrl,window.location.href)):void 0;if(v.headers.get("content-type")===d.RSC_CONTENT_TYPE_HEADER){let a=await N(Promise.resolve(v),{callServer:c.callServer});if(w){let[,l]=null!=a?a:[];return{actionFlightData:l,redirectLocation:S,revalidatedParts:u}}let[l,[,d]]=null!=a?a:[];return{actionResult:l,actionFlightData:d,redirectLocation:S,revalidatedParts:u}}return{redirectLocation:S,revalidatedParts:u}}function serverActionReducer(a,l){let{mutable:u,cache:c,resolve:d,reject:g}=l,N=a.canonicalUrl,U=a.tree,z=JSON.stringify(u.previousTree)===JSON.stringify(U);if(z)return(0,k.handleMutable)(a,u);if(u.inFlightServerAction){if("fulfilled"!==u.inFlightServerAction.status&&u.globalMutable.pendingNavigatePath&&u.globalMutable.pendingNavigatePath!==N)return u.inFlightServerAction.then(()=>{u.actionResultResolved||(u.inFlightServerAction=null,u.globalMutable.pendingNavigatePath=void 0,u.globalMutable.refresh(),u.actionResultResolved=!0)},()=>{}),a}else u.inFlightServerAction=(0,p.createRecordFromThenable)(fetchServerAction(a,l));try{let{actionResult:l,actionFlightData:p,redirectLocation:g}=(0,f.readRecordValue)(u.inFlightServerAction);if(g&&(a.pushRef.pendingPush=!0,u.pendingPush=!0),u.previousTree=a.tree,!p){if(u.actionResultResolved||(d(l),u.actionResultResolved=!0),g)return(0,v.handleExternalUrl)(a,u,g.href,a.pushRef.pendingPush);return a}if("string"==typeof p)return(0,v.handleExternalUrl)(a,u,p,a.pushRef.pendingPush);for(let l of(u.inFlightServerAction=null,p)){if(3!==l.length)return console.log("SERVER ACTION APPLY FAILED"),a;let[d]=l,p=(0,w.applyRouterStatePatchToTree)([""],U,d);if(null===p)throw Error("SEGMENT MISMATCH");if((0,S.isNavigatingToNewRootLayout)(U,p))return(0,v.handleExternalUrl)(a,u,N,a.pushRef.pendingPush);let[f,g]=l.slice(-2);null!==f&&(c.status=x.CacheStates.READY,c.subTreeData=f,(0,$.fillLazyItemsTillLeafWithHead)(c,void 0,d,g),u.cache=c,u.prefetchCache=new Map),u.previousTree=U,u.patchedTree=p,u.canonicalUrl=N,U=p}if(g){let a=(0,_.createHrefFromUrl)(g,!1);u.canonicalUrl=a}return u.actionResultResolved||(d(l),u.actionResultResolved=!0),(0,k.handleMutable)(a,u)}catch(l){if("rejected"===l.status)return u.actionResultResolved||(g(l.reason),u.actionResultResolved=!0),a;throw l}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},89794:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"serverPatchReducer",{enumerable:!0,get:function(){return serverPatchReducer}});let c=u(11706),d=u(69605),p=u(90145),f=u(28237),g=u(51847),_=u(43466);function serverPatchReducer(a,l){let{flightData:u,previousTree:v,overrideCanonicalUrl:w,cache:S,mutable:x}=l,k=JSON.stringify(v)===JSON.stringify(a.tree);if(!k)return console.log("TREE MISMATCH"),a;if(x.previousTree)return(0,_.handleMutable)(a,x);if("string"==typeof u)return(0,f.handleExternalUrl)(a,x,u,a.pushRef.pendingPush);let $=a.tree,N=a.cache;for(let l of u){let u=l.slice(0,-4),[_]=l.slice(-3,-2),v=(0,d.applyRouterStatePatchToTree)(["",...u],$,_);if(null===v)throw Error("SEGMENT MISMATCH");if((0,p.isNavigatingToNewRootLayout)($,v))return(0,f.handleExternalUrl)(a,x,a.canonicalUrl,a.pushRef.pendingPush);let k=w?(0,c.createHrefFromUrl)(w):void 0;k&&(x.canonicalUrl=k),(0,g.applyFlightData)(N,S,l),x.previousTree=$,x.patchedTree=v,x.cache=S,N=S,$=v}return(0,_.handleMutable)(a,x)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3678:(a,l)=>{"use strict";var u;Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{PrefetchKind:function(){return u},ACTION_REFRESH:function(){return c},ACTION_NAVIGATE:function(){return d},ACTION_RESTORE:function(){return p},ACTION_SERVER_PATCH:function(){return f},ACTION_PREFETCH:function(){return g},ACTION_FAST_REFRESH:function(){return _},ACTION_SERVER_ACTION:function(){return v}});let c="refresh",d="navigate",p="restore",f="server-patch",g="prefetch",_="fast-refresh",v="server-action";(function(a){a.AUTO="auto",a.FULL="full",a.TEMPORARY="temporary"})(u||(u={})),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},77986:(a,l,u)=>{"use strict";function serverReducer(a,l){return a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"reducer",{enumerable:!0,get:function(){return c}}),u(3678),u(28237),u(89794),u(72910),u(58038),u(31196),u(92755),u(39747);let c=serverReducer;("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},84320:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"shouldHardNavigate",{enumerable:!0,get:function(){return shouldHardNavigate}});let c=u(4538);function shouldHardNavigate(a,l){let[u,d]=l,[p,f]=a;if(!(0,c.matchSegment)(p,u))return!!Array.isArray(p);let g=a.length<=2;return!g&&shouldHardNavigate(a.slice(2),d[f])}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},93032:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return createSearchParamsBailoutProxy}});let c=u(31492);function createSearchParamsBailoutProxy(){return new Proxy({},{get(a,l){"string"==typeof l&&(0,c.staticGenerationBailout)("searchParams."+l)}})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},31492:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"staticGenerationBailout",{enumerable:!0,get:function(){return staticGenerationBailout}});let c=u(45171),d=u(23094),p=u(94749);let StaticGenBailoutError=class StaticGenBailoutError extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}};function formatErrorMessage(a,l){let{dynamic:u,link:c}=l||{};return"Page"+(u?' with `dynamic = "'+u+'"`':"")+" couldn't be rendered statically because it used `"+a+"`."+(c?" See more info here: "+c:"")}let staticGenerationBailout=(a,l)=>{let u=p.staticGenerationAsyncStorage.getStore();if(!u)return!1;if(u.forceStatic)return!0;if(u.dynamicShouldError){var f;throw new StaticGenBailoutError(formatErrorMessage(a,{...l,dynamic:null!=(f=null==l?void 0:l.dynamic)?f:"error"}))}let g=formatErrorMessage(a,{...l,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if((0,d.maybePostpone)(u,g),u.revalidate=0,(null==l?void 0:l.dynamic)||(u.staticPrefetchBailout=!0),u.isStaticGeneration){let l=new c.DynamicServerError(g);throw u.dynamicUsageDescription=a,u.dynamicUsageStack=l.stack,l}return!1};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},8898:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return StaticGenerationSearchParamsBailoutProvider}});let c=u(80085),d=c._(u(9885)),p=u(93032);function StaticGenerationSearchParamsBailoutProvider(a){let{Component:l,propsForComponent:u,isStaticGeneration:c}=a;if(c){let a=(0,p.createSearchParamsBailoutProxy)();return d.default.createElement(l,{searchParams:a,...u})}return d.default.createElement(l,u)}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},79236:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"useReducerWithReduxDevtools",{enumerable:!0,get:function(){return d}});let c=u(9885);function useReducerWithReduxDevtoolsNoop(a,l){let[u,d]=(0,c.useReducer)(a,l);return[u,d,()=>{}]}let d=useReducerWithReduxDevtoolsNoop;("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},99760:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"hasBasePath",{enumerable:!0,get:function(){return hasBasePath}});let c=u(16364);function hasBasePath(a){return(0,c.pathHasPrefix)(a,"")}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},76945:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return normalizePathTrailingSlash}});let c=u(96923),d=u(65525),normalizePathTrailingSlash=a=>{if(!a.startsWith("/"))return a;let{pathname:l,query:u,hash:p}=(0,d.parsePath)(a);return""+(0,c.removeTrailingSlash)(l)+u+p};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},64978:(a,l,u)=>{"use strict";function removeBasePath(a){return a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"removeBasePath",{enumerable:!0,get:function(){return removeBasePath}}),u(99760),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},30755:(a,l)=>{"use strict";function djb2Hash(a){let l=5381;for(let u=0;u<a.length;u++){let c=a.charCodeAt(u);l=(l<<5)+l+c}return Math.abs(l)}function hexHash(a){return djb2Hash(a).toString(36).slice(0,5)}Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{djb2Hash:function(){return djb2Hash},hexHash:function(){return hexHash}})},61118:(a,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{NEXT_DYNAMIC_NO_SSR_CODE:function(){return u},throwWithNoSSR:function(){return throwWithNoSSR}});let u="NEXT_DYNAMIC_NO_SSR_CODE";function throwWithNoSSR(){let a=Error(u);throw a.digest=u,a}},61518:(a,l)=>{"use strict";function ensureLeadingSlash(a){return a.startsWith("/")?a:"/"+a}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"ensureLeadingSlash",{enumerable:!0,get:function(){return ensureLeadingSlash}})},8549:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"addPathPrefix",{enumerable:!0,get:function(){return addPathPrefix}});let c=u(65525);function addPathPrefix(a,l){if(!a.startsWith("/")||!l)return a;let{pathname:u,query:d,hash:p}=(0,c.parsePath)(a);return""+l+u+d+p}},48321:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{normalizeAppPath:function(){return normalizeAppPath},normalizeRscURL:function(){return normalizeRscURL},normalizePostponedURL:function(){return normalizePostponedURL}});let c=u(61518),d=u(392),p=u(57310);function normalizeAppPath(a){return(0,c.ensureLeadingSlash)(a.split("/").reduce((a,l,u,c)=>!l||(0,d.isGroupSegment)(l)||"@"===l[0]||("page"===l||"route"===l)&&u===c.length-1?a:a+"/"+l,""))}function normalizeRscURL(a){return a.replace(/\.rsc($|\?)/,"$1")}function normalizePostponedURL(a){let l=(0,p.parse)(a),{pathname:u}=l;return u&&u.startsWith("/_next/postponed")?(u=u.substring(16)||"/",(0,p.format)({...l,pathname:u})):a}},94361:(a,l)=>{"use strict";function handleSmoothScroll(a,l){if(void 0===l&&(l={}),l.onlyHashChange){a();return}let u=document.documentElement,c=u.style.scrollBehavior;u.style.scrollBehavior="auto",l.dontForceLayout||u.getClientRects(),a(),u.style.scrollBehavior=c}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"handleSmoothScroll",{enumerable:!0,get:function(){return handleSmoothScroll}})},34692:(a,l)=>{"use strict";function isBot(a){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(a)}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isBot",{enumerable:!0,get:function(){return isBot}})},65525:(a,l)=>{"use strict";function parsePath(a){let l=a.indexOf("#"),u=a.indexOf("?"),c=u>-1&&(l<0||u<l);return c||l>-1?{pathname:a.substring(0,c?u:l),query:c?a.substring(u,l>-1?l:void 0):"",hash:l>-1?a.slice(l):""}:{pathname:a,query:"",hash:""}}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"parsePath",{enumerable:!0,get:function(){return parsePath}})},16364:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"pathHasPrefix",{enumerable:!0,get:function(){return pathHasPrefix}});let c=u(65525);function pathHasPrefix(a,l){if("string"!=typeof a)return!1;let{pathname:u}=(0,c.parsePath)(a);return u===l||u.startsWith(l+"/")}},96923:(a,l)=>{"use strict";function removeTrailingSlash(a){return a.replace(/\/$/,"")||"/"}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"removeTrailingSlash",{enumerable:!0,get:function(){return removeTrailingSlash}})},392:(a,l)=>{"use strict";function isGroupSegment(a){return"("===a[0]&&a.endsWith(")")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isGroupSegment",{enumerable:!0,get:function(){return isGroupSegment}})},95153:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createProxy",{enumerable:!0,get:function(){return d}});let c=u(55951),d=c.createClientModuleProxy},28730:(a,l,u)=>{"use strict";let{createProxy:c}=u(95153);a.exports=c("/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/node_modules/next/dist/client/components/app-router.js")},37284:(a,l,u)=>{"use strict";let{createProxy:c}=u(95153);a.exports=c("/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/node_modules/next/dist/client/components/error-boundary.js")},79195:(a,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{DYNAMIC_ERROR_CODE:function(){return u},DynamicServerError:function(){return DynamicServerError}});let u="DYNAMIC_SERVER_USAGE";let DynamicServerError=class DynamicServerError extends Error{constructor(a){super("Dynamic server usage: "+a),this.digest=u}};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},68165:(a,l,u)=>{"use strict";let{createProxy:c}=u(95153);a.exports=c("/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/node_modules/next/dist/client/components/layout-router.js")},22236:(a,l,u)=>{"use strict";function maybePostpone(a,l){if(!a.isStaticGeneration||!a.experimental.ppr)return;let c=u(3542);"function"==typeof c.unstable_postpone&&c.unstable_postpone(l)}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"maybePostpone",{enumerable:!0,get:function(){return maybePostpone}}),("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},24009:(a,l,u)=>{"use strict";let{createProxy:c}=u(95153);a.exports=c("/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/node_modules/next/dist/client/components/not-found-boundary.js")},9291:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return NotFound}});let c=u(95196),d=c._(u(3542)),p={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function NotFound(){return d.default.createElement(d.default.Fragment,null,d.default.createElement("title",null,"404: This page could not be found."),d.default.createElement("div",{style:p.error},d.default.createElement("div",null,d.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),d.default.createElement("h1",{className:"next-error-h1",style:p.h1},"404"),d.default.createElement("div",{style:p.desc},d.default.createElement("h2",{style:p.h2},"This page could not be found.")))))}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},85676:(a,l,u)=>{"use strict";let{createProxy:c}=u(95153);a.exports=c("/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/node_modules/next/dist/client/components/render-from-template-context.js")},31263:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return createSearchParamsBailoutProxy}});let c=u(3657);function createSearchParamsBailoutProxy(){return new Proxy({},{get(a,l){"string"==typeof l&&(0,c.staticGenerationBailout)("searchParams."+l)}})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},3657:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"staticGenerationBailout",{enumerable:!0,get:function(){return staticGenerationBailout}});let c=u(79195),d=u(22236),p=u(45869);let StaticGenBailoutError=class StaticGenBailoutError extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}};function formatErrorMessage(a,l){let{dynamic:u,link:c}=l||{};return"Page"+(u?' with `dynamic = "'+u+'"`':"")+" couldn't be rendered statically because it used `"+a+"`."+(c?" See more info here: "+c:"")}let staticGenerationBailout=(a,l)=>{let u=p.staticGenerationAsyncStorage.getStore();if(!u)return!1;if(u.forceStatic)return!0;if(u.dynamicShouldError){var f;throw new StaticGenBailoutError(formatErrorMessage(a,{...l,dynamic:null!=(f=null==l?void 0:l.dynamic)?f:"error"}))}let g=formatErrorMessage(a,{...l,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if((0,d.maybePostpone)(u,g),u.revalidate=0,(null==l?void 0:l.dynamic)||(u.staticPrefetchBailout=!0),u.isStaticGeneration){let l=new c.DynamicServerError(g);throw u.dynamicUsageDescription=a,u.dynamicUsageStack=l.stack,l}return!1};("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),a.exports=l.default)},37701:(a,l,u)=>{"use strict";let{createProxy:c}=u(95153);a.exports=c("/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js")},32564:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{renderToReadableStream:function(){return c.renderToReadableStream},decodeReply:function(){return c.decodeReply},decodeAction:function(){return c.decodeAction},decodeFormState:function(){return c.decodeFormState},AppRouter:function(){return d.default},LayoutRouter:function(){return p.default},RenderFromTemplateContext:function(){return f.default},staticGenerationAsyncStorage:function(){return g.staticGenerationAsyncStorage},requestAsyncStorage:function(){return _.requestAsyncStorage},actionAsyncStorage:function(){return v.actionAsyncStorage},staticGenerationBailout:function(){return w.staticGenerationBailout},createSearchParamsBailoutProxy:function(){return x.createSearchParamsBailoutProxy},serverHooks:function(){return k},preloadStyle:function(){return $.preloadStyle},preloadFont:function(){return $.preloadFont},preconnect:function(){return $.preconnect},taintObjectReference:function(){return N.taintObjectReference},StaticGenerationSearchParamsBailoutProvider:function(){return S.default},NotFoundBoundary:function(){return U}});let c=u(55951),d=_interop_require_default(u(28730)),p=_interop_require_default(u(68165)),f=_interop_require_default(u(85676)),g=u(45869),_=u(54580),v=u(72934),w=u(3657),S=_interop_require_default(u(37701)),x=u(31263),k=_interop_require_wildcard(u(79195)),$=u(48483),N=u(13369);function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var l=new WeakMap,u=new WeakMap;return(_getRequireWildcardCache=function(a){return a?u:l})(a)}function _interop_require_wildcard(a,l){if(!l&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var u=_getRequireWildcardCache(l);if(u&&u.has(a))return u.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if("default"!==p&&Object.prototype.hasOwnProperty.call(a,p)){var f=d?Object.getOwnPropertyDescriptor(a,p):null;f&&(f.get||f.set)?Object.defineProperty(c,p,f):c[p]=a[p]}return c.default=a,u&&u.set(a,c),c}let{NotFoundBoundary:U}=u(24009)},48483:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{preloadStyle:function(){return preloadStyle},preloadFont:function(){return preloadFont},preconnect:function(){return preconnect}});let c=_interop_require_default(u(58337));function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}function preloadStyle(a,l){let u={as:"style"};"string"==typeof l&&(u.crossOrigin=l),c.default.preload(a,u)}function preloadFont(a,l,u){let d={as:"font",type:l};"string"==typeof u&&(d.crossOrigin=u),c.default.preload(a,d)}function preconnect(a,l){c.default.preconnect(a,"string"==typeof l?{crossOrigin:l}:void 0)}},13369:(a,l,u)=>{"use strict";function notImplemented(){throw Error("Taint can only be used with the taint flag.")}Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{taintObjectReference:function(){return c},taintUniqueValue:function(){return d}}),u(3542);let c=notImplemented,d=notImplemented},16132:(a,l)=>{"use strict";var u;Object.defineProperty(l,"x",{enumerable:!0,get:function(){return u}}),function(a){a.PAGES="PAGES",a.PAGES_API="PAGES_API",a.APP_PAGE="APP_PAGE",a.APP_ROUTE="APP_ROUTE"}(u||(u={}))},67096:(a,l,u)=>{"use strict";a.exports=u(20399)},58337:(a,l,u)=>{"use strict";a.exports=u(67096).vendored["react-rsc"].ReactDOM},4656:(a,l,u)=>{"use strict";a.exports=u(67096).vendored["react-rsc"].ReactJsxRuntime},55951:(a,l,u)=>{"use strict";a.exports=u(67096).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},3542:(a,l,u)=>{"use strict";a.exports=u(67096).vendored["react-rsc"].React},45082:(a,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{NEXT_QUERY_PARAM_PREFIX:function(){return u},PRERENDER_REVALIDATE_HEADER:function(){return c},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return d},NEXT_DID_POSTPONE_HEADER:function(){return p},NEXT_CACHE_TAGS_HEADER:function(){return f},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return g},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return _},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return v},NEXT_CACHE_TAG_MAX_LENGTH:function(){return w},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return S},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return x},CACHE_ONE_YEAR:function(){return k},MIDDLEWARE_FILENAME:function(){return $},MIDDLEWARE_LOCATION_REGEXP:function(){return N},INSTRUMENTATION_HOOK_FILENAME:function(){return U},PAGES_DIR_ALIAS:function(){return z},DOT_NEXT_ALIAS:function(){return W},ROOT_DIR_ALIAS:function(){return er},APP_DIR_ALIAS:function(){return en},RSC_MOD_REF_PROXY_ALIAS:function(){return ea},RSC_ACTION_VALIDATE_ALIAS:function(){return el},RSC_ACTION_PROXY_ALIAS:function(){return eu},RSC_ACTION_ENCRYPTION_ALIAS:function(){return ec},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return ed},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return eh},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return ep},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return ef},SERVER_PROPS_SSG_CONFLICT:function(){return eg},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return e_},SERVER_PROPS_EXPORT_ERROR:function(){return ev},GSP_NO_RETURNED_VALUE:function(){return em},GSSP_NO_RETURNED_VALUE:function(){return ey},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return eb},GSSP_COMPONENT_MEMBER_ERROR:function(){return ew},NON_STANDARD_NODE_ENV:function(){return eS},SSG_FALLBACK_EXPORT_ERROR:function(){return eE},ESLINT_DEFAULT_DIRS:function(){return ex},ESLINT_PROMPT_VALUES:function(){return eR},SERVER_RUNTIME:function(){return eP},WEBPACK_LAYERS:function(){return eO},WEBPACK_RESOURCE_QUERIES:function(){return eT}});let u="nxtP",c="x-prerender-revalidate",d="x-prerender-revalidate-if-generated",p="x-nextjs-postponed",f="x-next-cache-tags",g="x-next-cache-soft-tags",_="x-next-revalidated-tags",v="x-next-revalidate-tag-token",w=256,S=1024,x="_N_T_",k=31536e3,$="middleware",N=`(?:src/)?${$}`,U="instrumentation",z="private-next-pages",W="private-dot-next",er="private-next-root-dir",en="private-next-app-dir",ea="private-next-rsc-mod-ref-proxy",el="private-next-rsc-action-validate",eu="private-next-rsc-action-proxy",ec="private-next-rsc-action-encryption",ed="private-next-rsc-action-client-wrapper",eh="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",ep="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",ef="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",eg="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",e_="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",ev="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",em="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",ey="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",eb="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",ew="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",eS='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',eE="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",ex=["app","pages","components","lib","src"],eR=[{title:"Strict",recommended:!0,config:{extends:"next/core-web-vitals"}},{title:"Base",config:{extends:"next"}},{title:"Cancel",config:null}],eP={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ek={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},eO={...ek,GROUP:{server:[ek.reactServerComponents,ek.actionBrowser,ek.appMetadataRoute,ek.appRouteHandler],nonClientServerTarget:[ek.middleware,ek.api],app:[ek.reactServerComponents,ek.actionBrowser,ek.appMetadataRoute,ek.appRouteHandler,ek.serverSideRendering,ek.appPagesBrowser]}},eT={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},42290:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"getSegmentParam",{enumerable:!0,get:function(){return getSegmentParam}});let c=u(84265);function getSegmentParam(a){let l=c.INTERCEPTION_ROUTE_MARKERS.find(l=>a.startsWith(l));return(l&&(a=a.slice(l.length)),a.startsWith("[[...")&&a.endsWith("]]"))?{type:"optional-catchall",param:a.slice(5,-2)}:a.startsWith("[...")&&a.endsWith("]")?{type:"catchall",param:a.slice(4,-1)}:a.startsWith("[")&&a.endsWith("]")?{type:"dynamic",param:a.slice(1,-1)}:null}},84265:(a,l,u)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}(l,{INTERCEPTION_ROUTE_MARKERS:function(){return d},isInterceptionRouteAppPath:function(){return isInterceptionRouteAppPath},extractInterceptionRouteInformation:function(){return extractInterceptionRouteInformation}});let c=u(48321),d=["(..)(..)","(.)","(..)","(...)"];function isInterceptionRouteAppPath(a){return void 0!==a.split("/").find(a=>d.find(l=>a.startsWith(l)))}function extractInterceptionRouteInformation(a){let l,u,p;for(let c of a.split("/"))if(u=d.find(a=>c.startsWith(a))){[l,p]=a.split(u,2);break}if(!l||!u||!p)throw Error(`Invalid interception route: ${a}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(l=(0,c.normalizeAppPath)(l),u){case"(.)":p="/"===l?`/${p}`:l+"/"+p;break;case"(..)":if("/"===l)throw Error(`Invalid interception route: ${a}. Cannot use (..) marker at the root level, use (.) instead.`);p=l.split("/").slice(0,-1).concat(p).join("/");break;case"(...)":p="/"+p;break;case"(..)(..)":let f=l.split("/");if(f.length<=2)throw Error(`Invalid interception route: ${a}. Cannot use (..)(..) marker at the root level or one level up.`);p=f.slice(0,-2).concat(p).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:l,interceptedRoute:p}}},10316:(a,l,u)=>{"use strict";a.exports=u(20399)},82428:(a,l,u)=>{"use strict";a.exports=u(10316).vendored.contexts.AppRouterContext},11736:(a,l,u)=>{"use strict";a.exports=u(10316).vendored.contexts.HooksClientContext},75753:(a,l,u)=>{"use strict";a.exports=u(10316).vendored.contexts.ServerInsertedHtml},88908:(a,l,u)=>{"use strict";a.exports=u(10316).vendored["react-ssr"].ReactDOM},30784:(a,l,u)=>{"use strict";a.exports=u(10316).vendored["react-ssr"].ReactJsxRuntime},12623:(a,l,u)=>{"use strict";a.exports=u(10316).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},9885:(a,l,u)=>{"use strict";a.exports=u(10316).vendored["react-ssr"].React},30197:(a,l)=>{"use strict";var u="undefined"!=typeof window?window:void 0,c="undefined"!=typeof globalThis?globalThis:u,d=Array.prototype,p=d.forEach,f=d.indexOf,g=null==c?void 0:c.navigator,_=null==c?void 0:c.document,v=null==c?void 0:c.location,w=null==c?void 0:c.fetch,S=null!=c&&c.XMLHttpRequest&&"withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:void 0,x=null==c?void 0:c.AbortController,k=null==g?void 0:g.userAgent,$=null!=u?u:{},N={DEBUG:!1,LIB_VERSION:"1.260.2"},U="$copy_autocapture",z=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],W=function(a){return a.GZipJS="gzip-js",a.Base64="base64",a}({}),er=["fatal","error","warning","log","info","debug"];function m(a,l){return -1!==a.indexOf(l)}var b=function(a){return a.trim()},y=function(a){return a.replace(/^\$/,"")},en=Array.isArray,ea=Object.prototype,el=ea.hasOwnProperty,eu=ea.toString,ec=en||function(a){return"[object Array]"===eu.call(a)},E=a=>"function"==typeof a,I=a=>a===Object(a)&&!ec(a),P=a=>{if(I(a)){for(var l in a)if(el.call(a,l))return!1;return!0}return!1},R=a=>void 0===a,T=a=>"[object String]"==eu.call(a),M=a=>T(a)&&0===a.trim().length,C=a=>null===a,O=a=>R(a)||C(a),F=a=>"[object Number]"==eu.call(a),A=a=>"[object Boolean]"===eu.call(a),D=a=>a instanceof FormData,j=a=>m(z,a),L=a=>{var l={t:function(l){if(u&&(N.DEBUG||$.POSTHOG_DEBUG)&&!R(u.console)&&u.console){for(var c=("__rrweb_original__"in u.console[l])?u.console[l].__rrweb_original__:u.console[l],d=arguments.length,p=Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];c(a,...p)}},info:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.t("log",...u)},warn:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.t("warn",...u)},error:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.t("error",...u)},critical:function(){for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];console.error(a,...u)},uninitializedWarning:a=>{l.error("You must initialize PostHog before calling "+a)},createLogger:l=>L(a+" "+l)};return l},ed=L("[PostHog.js]"),eh=ed.createLogger,ep=eh("[ExternalScriptsLoader]"),q=(a,l,u)=>{if(a.config.disable_external_dependency_loading)return ep.warn(l+" was requested but loading of external scripts is disabled."),u("Loading of external scripts is disabled");var c=null==_?void 0:_.querySelectorAll("script");if(c){for(var d=0;d<c.length;d++)if(c[d].src===l)return u()}var n=()=>{if(!_)return u("document not found");var c=_.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=l,c.onload=a=>u(void 0,a),c.onerror=a=>u(a),a.config.prepare_external_dependency_script&&(c=a.config.prepare_external_dependency_script(c)),!c)return u("prepare_external_dependency_script returned null");var d,p=_.querySelectorAll("body > script");p.length>0?null==(d=p[0].parentNode)||d.insertBefore(c,p[0]):_.body.appendChild(c)};null!=_&&_.body?n():null==_||_.addEventListener("DOMContentLoaded",n)};function B(){return(B=Object.assign?Object.assign.bind():function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)({}).hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a}).apply(null,arguments)}function H(a,l){if(null==a)return{};var u={};for(var c in a)if(({}).hasOwnProperty.call(a,c)){if(-1!==l.indexOf(c))continue;u[c]=a[c]}return u}$.__PosthogExtensions__=$.__PosthogExtensions__||{},$.__PosthogExtensions__.loadExternalDependency=(a,l,u)=>{var c="/static/"+l+".js?v="+a.version;"remote-config"===l&&(c="/array/"+a.config.token+"/config.js"),"toolbar"===l&&(c=c+"&t="+3e5*Math.floor(Date.now()/3e5));var d=a.requestRouter.endpointFor("assets",c);q(a,d,u)},$.__PosthogExtensions__.loadSiteApp=(a,l,u)=>{var c=a.requestRouter.endpointFor("api",l);q(a,c,u)};var ef={};function G(a,l,u){if(ec(a)){if(p&&a.forEach===p)a.forEach(l,u);else if("length"in a&&a.length===+a.length){for(var c=0,d=a.length;c<d;c++)if(c in a&&l.call(u,a[c],c)===ef)return}}}function J(a,l,u){if(!O(a)){if(ec(a))return G(a,l,u);if(D(a)){for(var c of a.entries())if(l.call(u,c[1],c[0])===ef)return}else for(var d in a)if(el.call(a,d)&&l.call(u,a[d],d)===ef)return}}var V=function(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return G(u,function(l){for(var u in l)void 0!==l[u]&&(a[u]=l[u])}),a},K=function(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return G(u,function(l){G(l,function(l){a.push(l)})}),a};function Y(a){for(var l=Object.keys(a),u=l.length,c=Array(u);u--;)c[u]=[l[u],a[l[u]]];return c}var X=function(a){try{return a()}catch(a){return}},Q=function(a){return function(){try{for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a.apply(this,u)}catch(a){ed.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ed.critical(a)}}},Z=function(a){var l={};return J(a,function(a,u){(T(a)&&a.length>0||F(a))&&(l[u]=a)}),l};function tt(a,l){var u,c;return u=a=>T(a)&&!C(l)?a.slice(0,l):a,c=new Set,function t(a,l){var d;return a!==Object(a)?u?u(a,l):a:c.has(a)?void 0:(c.add(a),ec(a)?(d=[],G(a,a=>{d.push(t(a))})):(d={},J(a,(a,l)=>{c.has(a)||(d[l]=t(a,l))})),d)}(a)}var eg=["herokuapp.com","vercel.app","netlify.app"];function et(a){var l=null==a?void 0:a.hostname;if(!T(l))return!1;var u=l.split(".").slice(-2).join(".");for(var c of eg)if(u===c)return!1;return!0}function rt(a,l){for(var u=0;u<a.length;u++)if(l(a[u]))return a[u]}function st(a,l,u,c){var{capture:d=!1,passive:p=!0}=null!=c?c:{};null==a||a.addEventListener(l,u,{capture:d,passive:p})}var e_="$people_distinct_id",ev="__alias",em="__timers",ey="$autocapture_disabled_server_side",eb="$heatmaps_enabled_server_side",ew="$exception_capture_enabled_server_side",eS="$error_tracking_suppression_rules",eE="$error_tracking_capture_extension_exceptions",ex="$web_vitals_enabled_server_side",eR="$dead_clicks_enabled_server_side",eP="$web_vitals_allowed_metrics",ek="$session_recording_enabled_server_side",eO="$console_log_recording_enabled_server_side",eT="$session_recording_network_payload_capture",eA="$session_recording_masking",eI="$session_recording_canvas_recording",eC="$replay_sample_rate",eM="$replay_minimum_duration",eF="$replay_script_config",ej="$sesid",e$="$session_is_sampled",eN="$session_recording_url_trigger_activated_session",eL="$session_recording_event_trigger_activated_session",eD="$enabled_feature_flags",eB="$early_access_features",eU="$feature_flag_details",eH="$stored_person_properties",eq="$stored_group_properties",ez="$surveys",eV="$surveys_activated",eG="$flag_call_reported",eW="$user_state",eY="$client_session_props",eJ="$capture_rate_limit",eK="$initial_campaign_params",eX="$initial_referrer_info",eZ="$initial_person_info",eQ="$epp",e0="__POSTHOG_TOOLBAR__",e1="$posthog_cookieless",e2=[e_,ev,"__cmpns",em,ek,eb,ej,eD,eS,eW,eB,eU,eq,eH,ez,eG,eY,eJ,eK,eX,eQ,eZ];function Gt(a){return a instanceof Element&&(a.id===e0||!(null==a.closest||!a.closest(".toolbar-global-fade-container")))}function Jt(a){return!!a&&1===a.nodeType}function Vt(a,l){return!!a&&!!a.tagName&&a.tagName.toLowerCase()===l.toLowerCase()}function Kt(a){return!!a&&3===a.nodeType}function Yt(a){return!!a&&11===a.nodeType}function Xt(a){return a?b(a).split(/\s+/):[]}function Qt(a){var l=null==u?void 0:u.location.href;return!!(l&&a&&a.some(a=>l.match(a)))}function Zt(a){var l="";switch(typeof a.className){case"string":l=a.className;break;case"object":l=(a.className&&"baseVal"in a.className?a.className.baseVal:null)||a.getAttribute("class")||"";break;default:l=""}return Xt(l)}function ti(a){return O(a)?null:b(a).split(/(\s+)/).filter(a=>fi(a)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ii(a){var l="";return oi(a)&&!ai(a)&&a.childNodes&&a.childNodes.length&&J(a.childNodes,function(a){var u;Kt(a)&&a.textContent&&(l+=null!==(u=ti(a.textContent))&&void 0!==u?u:"")}),b(l)}function ei(a){var l;return R(a.target)?a.srcElement||null:null!=(l=a.target)&&l.shadowRoot?a.composedPath()[0]||null:a.target||null}var e3=["a","button","form","input","select","textarea","label"];function si(a){var l=a.parentNode;return!(!l||!Jt(l))&&l}function ni(a,l,c,d,p){if(void 0===c&&(c=void 0),!u||!a||Vt(a,"html")||!Jt(a)||null!=(f=c)&&f.url_allowlist&&!Qt(c.url_allowlist)||null!=(g=c)&&g.url_ignorelist&&Qt(c.url_ignorelist))return!1;if(null!=(_=c)&&_.dom_event_allowlist){var f,g,_,v=c.dom_event_allowlist;if(v&&!v.some(a=>l.type===a))return!1}for(var w=!1,S=[a],x=!0,k=a;k.parentNode&&!Vt(k,"body");)if(Yt(k.parentNode))S.push(k.parentNode.host),k=k.parentNode.host;else{if(!(x=si(k)))break;if(d||e3.indexOf(x.tagName.toLowerCase())>-1)w=!0;else{var $=u.getComputedStyle(x);$&&"pointer"===$.getPropertyValue("cursor")&&(w=!0)}S.push(x),k=x}if(!function(a,l){var u=null==l?void 0:l.element_allowlist;if(R(u))return!0;var c,s=function(a){if(u.some(l=>a.tagName.toLowerCase()===l))return{v:!0}};for(var d of a)if(c=s(d))return c.v;return!1}(S,c)||!function(a,l){var u=null==l?void 0:l.css_selector_allowlist;if(R(u))return!0;var c,s=function(a){if(u.some(l=>a.matches(l)))return{v:!0}};for(var d of a)if(c=s(d))return c.v;return!1}(S,c))return!1;var N=u.getComputedStyle(a);if(N&&"pointer"===N.getPropertyValue("cursor")&&"click"===l.type)return!0;var U=a.tagName.toLowerCase();switch(U){case"html":return!1;case"form":return(p||["submit"]).indexOf(l.type)>=0;case"input":case"select":case"textarea":return(p||["change","click"]).indexOf(l.type)>=0;default:return w?(p||["click"]).indexOf(l.type)>=0:(p||["click"]).indexOf(l.type)>=0&&(e3.indexOf(U)>-1||"true"===a.getAttribute("contenteditable"))}}function oi(a){for(var l=a;l.parentNode&&!Vt(l,"body");l=l.parentNode){var u=Zt(l);if(m(u,"ph-sensitive")||m(u,"ph-no-capture"))return!1}if(m(Zt(a),"ph-include"))return!0;var c=a.type||"";if(T(c))switch(c.toLowerCase()){case"hidden":case"password":return!1}var d=a.name||a.id||"";return!(T(d)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(d.replace(/[^a-zA-Z0-9]/g,"")))}function ai(a){return!!(Vt(a,"input")&&!["button","checkbox","submit","reset"].includes(a.type)||Vt(a,"select")||Vt(a,"textarea")||"true"===a.getAttribute("contenteditable"))}var e5="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",e6=RegExp("^(?:"+e5+")$"),e4=new RegExp(e5),e8="\\d{3}-?\\d{2}-?\\d{4}",e9=RegExp("^("+e8+")$"),e7=RegExp("("+e8+")");function fi(a,l){return void 0===l&&(l=!0),!(O(a)||T(a)&&(a=b(a),(l?e6:e4).test((a||"").replace(/[- ]/g,""))||(l?e9:e7).test(a)))}function pi(a){var l=ii(a);return fi(l=(l+" "+_i(a)).trim())?l:""}function _i(a){var l="";return a&&a.childNodes&&a.childNodes.length&&J(a.childNodes,function(a){var u;if(a&&"span"===(null==(u=a.tagName)?void 0:u.toLowerCase()))try{var c=ii(a);l=(l+" "+c).trim(),a.childNodes&&a.childNodes.length&&(l=(l+" "+_i(a)).trim())}catch(a){ed.error("[AutoCapture]",a)}}),l}function gi(a){return a.map(a=>{var l,u,c={text:null==(l=a.$el_text)?void 0:l.slice(0,400),tag_name:a.tag_name,href:null==(u=a.attr__href)?void 0:u.slice(0,2048),attr_class:bi(a),attr_id:a.attr__id,nth_child:a.nth_child,nth_of_type:a.nth_of_type,attributes:{}};return Y(a).filter(a=>{var[l]=a;return 0===l.indexOf("attr__")}).forEach(a=>{var[l,u]=a;return c.attributes[l]=u}),c}).map(a=>{var l,u,c="";if(a.tag_name&&(c+=a.tag_name),a.attr_class)for(var d of(a.attr_class.sort(),a.attr_class))c+="."+d.replace(/"/g,"");var p=B({},a.text?{text:a.text}:{},{"nth-child":null!==(l=a.nth_child)&&void 0!==l?l:0,"nth-of-type":null!==(u=a.nth_of_type)&&void 0!==u?u:0},a.href?{href:a.href}:{},a.attr_id?{attr_id:a.attr_id}:{},a.attributes),f={};return Y(p).sort((a,l)=>{var[u]=a,[c]=l;return u.localeCompare(c)}).forEach(a=>{var[l,u]=a;return f[mi(l.toString())]=mi(u.toString())}),c+=":"+Y(f).map(a=>{var[l,u]=a;return l+'="'+u+'"'}).join("")}).join(";")}function mi(a){return a.replace(/"|\\"/g,'\\"')}function bi(a){var l=a.attr__class;return l?ec(l)?l:Xt(l):void 0}let yi=class yi{constructor(){this.clicks=[]}isRageClick(a,l,u){var c=this.clicks[this.clicks.length-1];if(c&&Math.abs(a-c.x)+Math.abs(l-c.y)<30&&u-c.timestamp<1e3){if(this.clicks.push({x:a,y:l,timestamp:u}),3===this.clicks.length)return!0}else this.clicks=[{x:a,y:l,timestamp:u}];return!1}};var tn=["localhost","127.0.0.1"],Si=a=>{var l=null==_?void 0:_.createElement("a");return R(l)?null:(l.href=a,l)},$i=function(a,l){void 0===l&&(l="&");var u,c,d=[];return J(a,function(a,l){R(a)||R(l)||"undefined"===l||(u=encodeURIComponent(a instanceof File?a.name:a.toString()),c=encodeURIComponent(l),d[d.length]=c+"="+u)}),d.join(l)},xi=function(a,l){for(var u,c=((a.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),d=0;d<c.length;d++){var p=c[d].split("=");if(p[0]===l){u=p;break}}if(!ec(u)||u.length<2)return"";var f=u[1];try{f=decodeURIComponent(f)}catch(a){ed.error("Skipping decoding for malformed query param: "+f)}return f.replace(/\+/g," ")},ki=function(a,l,u){if(!a||!l||!l.length)return a;for(var c=a.split("#"),d=c[0]||"",p=c[1],f=d.split("?"),g=f[1],_=f[0],v=(g||"").split("&"),w=[],S=0;S<v.length;S++){var x=v[S].split("=");ec(x)&&(l.includes(x[0])?w.push(x[0]+"="+u):w.push(v[S]))}var k=_;return null!=g&&(k+="?"+w.join("&")),null!=p&&(k+="#"+p),k},Ei=function(a,l){var u=a.match(RegExp(l+"=([^&]*)"));return u?u[1]:null},ta=eh("[AutoCapture]");function Pi(a,l){return l.length>a?l.slice(0,a)+"...":l}function Ri(a){if(a.previousElementSibling)return a.previousElementSibling;var l=a;do l=l.previousSibling;while(l&&!Jt(l));return l}function Ti(a,l,u,c){var d=a.tagName.toLowerCase(),p={tag_name:d};e3.indexOf(d)>-1&&!u&&("a"===d.toLowerCase()||"button"===d.toLowerCase()?p.$el_text=Pi(1024,pi(a)):p.$el_text=Pi(1024,ii(a)));var f=Zt(a);f.length>0&&(p.classes=f.filter(function(a){return""!==a})),J(a.attributes,function(u){var d;if((!ai(a)||-1!==["name","id","class","aria-label"].indexOf(u.name))&&(null==c||!c.includes(u.name))&&!l&&fi(u.value)&&(!T(d=u.name)||"_ngcontent"!==d.substring(0,10)&&"_nghost"!==d.substring(0,7))){var f=u.value;"class"===u.name&&(f=Xt(f).join(" ")),p["attr__"+u.name]=Pi(1024,f)}});for(var g=1,_=1,v=a;v=Ri(v);)g++,v.tagName===a.tagName&&_++;return p.nth_child=g,p.nth_of_type=_,p}function Mi(a,l){for(var c,d,{e:p,maskAllElementAttributes:f,maskAllText:g,elementAttributeIgnoreList:_,elementsChainAsString:v}=l,w=[a],S=a;S.parentNode&&!Vt(S,"body");)Yt(S.parentNode)?(w.push(S.parentNode.host),S=S.parentNode.host):(w.push(S.parentNode),S=S.parentNode);var x,k=[],$={},N=!1,U=!1;if(J(w,a=>{var l=oi(a);"a"===a.tagName.toLowerCase()&&(N=a.getAttribute("href"),N=l&&N&&fi(N)&&N),m(Zt(a),"ph-no-capture")&&(U=!0),k.push(Ti(a,f,g,_)),V($,function(a){if(!oi(a))return{};var l={};return J(a.attributes,function(a){if(a.name&&0===a.name.indexOf("data-ph-capture-attribute")){var u=a.name.replace("data-ph-capture-attribute-",""),c=a.value;u&&c&&fi(c)&&(l[u]=c)}}),l}(a))}),U)return{props:{},explicitNoCapture:U};if(g||("a"===a.tagName.toLowerCase()||"button"===a.tagName.toLowerCase()?k[0].$el_text=pi(a):k[0].$el_text=ii(a)),N){k[0].attr__href=N;var z,W,er=null==(z=Si(N))?void 0:z.host,en=null==u||null==(W=u.location)?void 0:W.host;er&&en&&er!==en&&(x=N)}return{props:V({$event_type:p.type,$ce_version:1},v?{}:{$elements:k},{$elements_chain:gi(k)},null!=(c=k[0])&&c.$el_text?{$el_text:null==(d=k[0])?void 0:d.$el_text}:{},x&&"click"===p.type?{$external_click_url:x}:{},$)}}let Ci=class Ci{constructor(a){this.i=!1,this.o=null,this.rageclicks=new yi,this.h=!1,this.instance=a,this.m=null}get S(){var a,l,u=I(this.instance.config.autocapture)?this.instance.config.autocapture:{};return u.url_allowlist=null==(a=u.url_allowlist)?void 0:a.map(a=>new RegExp(a)),u.url_ignorelist=null==(l=u.url_ignorelist)?void 0:l.map(a=>new RegExp(a)),u}$(){if(this.isBrowserSupported()){if(u&&_){var i=a=>{a=a||(null==u?void 0:u.event);try{this.k(a)}catch(a){ta.error("Failed to capture event",a)}};if(st(_,"submit",i,{capture:!0}),st(_,"change",i,{capture:!0}),st(_,"click",i,{capture:!0}),this.S.capture_copied_text){var e=a=>{a=a||(null==u?void 0:u.event),this.k(a,U)};st(_,"copy",e,{capture:!0}),st(_,"cut",e,{capture:!0})}}}else ta.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(a){a.elementsChainAsString&&(this.h=a.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ey]:!!a.autocapture_opt_out}),this.o=!!a.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(a){this.m=a}getElementSelectors(a){var l,u=[];return null==(l=this.m)||l.forEach(l=>{var c=null==_?void 0:_.querySelectorAll(l);null==c||c.forEach(c=>{a===c&&u.push(l)})}),u}get isEnabled(){var a,l,u=null==(a=this.instance.persistence)?void 0:a.props[ey];if(C(this.o)&&!A(u)&&!this.instance.I())return!1;var c=null!==(l=this.o)&&void 0!==l?l:!!u;return!!this.instance.config.autocapture&&!c}k(a,l){if(void 0===l&&(l="$autocapture"),this.isEnabled){var c,d=ei(a);Kt(d)&&(d=d.parentNode||null),"$autocapture"===l&&"click"===a.type&&a instanceof MouseEvent&&this.instance.config.rageclick&&null!=(c=this.rageclicks)&&c.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.k(a,"$rageclick");var p=l===U;if(d&&ni(d,a,this.S,p,p?["copy","cut"]:void 0)){var{props:f,explicitNoCapture:g}=Mi(d,{e:a,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(g)return!1;var _=this.getElementSelectors(d);if(_&&_.length>0&&(f.$element_selectors=_),l===U){var v,w=ti(null==u||null==(v=u.getSelection())?void 0:v.toString()),S=a.type||"clipboard";if(!w)return!1;f.$selected_content=w,f.$copy_type=S}return this.instance.capture(l,f),!0}}}isBrowserSupported(){return E(null==_?void 0:_.querySelectorAll)}};Math.trunc||(Math.trunc=function(a){return a<0?Math.ceil(a):Math.floor(a)}),Number.isInteger||(Number.isInteger=function(a){return F(a)&&isFinite(a)&&Math.floor(a)===a});var tl="0123456789abcdef";let Fi=class Fi{constructor(a){if(this.bytes=a,16!==a.length)throw TypeError("not 128-bit length")}static fromFieldsV7(a,l,u,c){if(!Number.isInteger(a)||!Number.isInteger(l)||!Number.isInteger(u)||!Number.isInteger(c)||a<0||l<0||u<0||c<0||a>0xffffffffffff||l>4095||u>1073741823||c>4294967295)throw RangeError("invalid field value");var d=new Uint8Array(16);return d[0]=a/1099511627776,d[1]=a/4294967296,d[2]=a/16777216,d[3]=a/65536,d[4]=a/256,d[5]=a,d[6]=112|l>>>8,d[7]=l,d[8]=128|u>>>24,d[9]=u>>>16,d[10]=u>>>8,d[11]=u,d[12]=c>>>24,d[13]=c>>>16,d[14]=c>>>8,d[15]=c,new Fi(d)}toString(){for(var a="",l=0;l<this.bytes.length;l++)a=a+tl.charAt(this.bytes[l]>>>4)+tl.charAt(15&this.bytes[l]),3!==l&&5!==l&&7!==l&&9!==l||(a+="-");if(36!==a.length)throw Error("Invalid UUIDv7 was generated");return a}clone(){return new Fi(this.bytes.slice(0))}equals(a){return 0===this.compareTo(a)}compareTo(a){for(var l=0;l<16;l++){var u=this.bytes[l]-a.bytes[l];if(0!==u)return Math.sign(u)}return 0}};let Ai=class Ai{constructor(){this.P=0,this.R=0,this.T=new Li}generate(){var a=this.generateOrAbort();if(R(a)){this.P=0;var l=this.generateOrAbort();if(R(l))throw Error("Could not generate UUID after timestamp reset");return l}return a}generateOrAbort(){var a=Date.now();if(a>this.P)this.P=a,this.M();else{if(!(a+1e4>this.P))return;this.R++,this.R>4398046511103&&(this.P++,this.M())}return Fi.fromFieldsV7(this.P,Math.trunc(this.R/1073741824),1073741823&this.R,this.T.nextUint32())}M(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}};var tu,ji=a=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var l=0;l<a.length;l++)a[l]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return a};u&&!R(u.crypto)&&crypto.getRandomValues&&(ji=a=>crypto.getRandomValues(a));let Li=class Li{constructor(){this.C=new Uint32Array(8),this.O=1/0}nextUint32(){return this.O>=this.C.length&&(ji(this.C),this.O=0),this.C[this.O++]}};var Ni=()=>zi().toString(),zi=()=>(tu||(tu=new Ai)).generate(),tc="",td=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Bi(a,l){if(l){var u=function(a,l){if(void 0===l&&(l=_),tc)return tc;if(!l||["localhost","127.0.0.1"].includes(a))return"";for(var u=a.split("."),c=Math.min(u.length,8),d="dmn_chk_"+Ni();!tc&&c--;){var p=u.slice(c).join("."),f=d+"=1;domain=."+p+";path=/";l.cookie=f+";max-age=3",l.cookie.includes(d)&&(l.cookie=f+";max-age=0",tc=p)}return tc}(a);if(!u){var c,d=(c=a.match(td))?c[0]:"";d!==u&&ed.info("Warning: cookie subdomain discovery mismatch",d,u),u=d}return u?"; domain=."+u:""}return""}var th={F:()=>!!_,A:function(a){ed.error("cookieStore error: "+a)},D:function(a){if(_){try{for(var l=a+"=",u=_.cookie.split(";").filter(a=>a.length),c=0;c<u.length;c++){for(var d=u[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(l))return decodeURIComponent(d.substring(l.length,d.length))}}catch(a){}return null}},j:function(a){var l;try{l=JSON.parse(th.D(a))||{}}catch(a){}return l},L:function(a,l,u,c,d){if(_)try{var p="",f="",g=Bi(_.location.hostname,c);if(u){var v=new Date;v.setTime(v.getTime()+24*u*36e5),p="; expires="+v.toUTCString()}d&&(f="; secure");var w=a+"="+encodeURIComponent(JSON.stringify(l))+p+"; SameSite=Lax; path=/"+g+f;return w.length>3686.4&&ed.warn("cookieStore warning: large cookie, len="+w.length),_.cookie=w,w}catch(a){return}},N:function(a,l){if(null!=_&&_.cookie)try{th.L(a,"",-1,l)}catch(a){return}}},tp=null,tf={F:function(){if(!C(tp))return tp;var a=!0;if(R(u))a=!1;else try{var l="__mplssupport__";tf.L(l,"xyz"),'"xyz"'!==tf.D(l)&&(a=!1),tf.N(l)}catch(l){a=!1}return a||ed.error("localStorage unsupported; falling back to cookie store"),tp=a,a},A:function(a){ed.error("localStorage error: "+a)},D:function(a){try{return null==u?void 0:u.localStorage.getItem(a)}catch(a){tf.A(a)}return null},j:function(a){try{return JSON.parse(tf.D(a))||{}}catch(a){}return null},L:function(a,l){try{null==u||u.localStorage.setItem(a,JSON.stringify(l))}catch(a){tf.A(a)}},N:function(a){try{null==u||u.localStorage.removeItem(a)}catch(a){tf.A(a)}}},tg=["distinct_id",ej,e$,eQ,eZ],t_=B({},tf,{j:function(a){try{var l={};try{l=th.j(a)||{}}catch(a){}var u=V(l,JSON.parse(tf.D(a)||"{}"));return tf.L(a,u),u}catch(a){}return null},L:function(a,l,u,c,d,p){try{tf.L(a,l,void 0,void 0,p);var f={};tg.forEach(a=>{l[a]&&(f[a]=l[a])}),Object.keys(f).length&&th.L(a,f,u,c,d,p)}catch(a){tf.A(a)}},N:function(a,l){try{null==u||u.localStorage.removeItem(a),th.N(a,l)}catch(a){tf.A(a)}}}),tv={},tm={F:function(){return!0},A:function(a){ed.error("memoryStorage error: "+a)},D:function(a){return tv[a]||null},j:function(a){return tv[a]||null},L:function(a,l){tv[a]=l},N:function(a){delete tv[a]}},ty=null,tb={F:function(){if(!C(ty))return ty;if(ty=!0,R(u))ty=!1;else try{var a="__support__";tb.L(a,"xyz"),'"xyz"'!==tb.D(a)&&(ty=!1),tb.N(a)}catch(a){ty=!1}return ty},A:function(a){ed.error("sessionStorage error: ",a)},D:function(a){try{return null==u?void 0:u.sessionStorage.getItem(a)}catch(a){tb.A(a)}return null},j:function(a){try{return JSON.parse(tb.D(a))||null}catch(a){}return null},L:function(a,l){try{null==u||u.sessionStorage.setItem(a,JSON.stringify(l))}catch(a){tb.A(a)}},N:function(a){try{null==u||u.sessionStorage.removeItem(a)}catch(a){tb.A(a)}}},tw=function(a){return a[a.PENDING=-1]="PENDING",a[a.DENIED=0]="DENIED",a[a.GRANTED=1]="GRANTED",a}({});let te=class te{constructor(a){this._instance=a}get S(){return this._instance.config}get consent(){return this.U()?tw.DENIED:this.q}isOptedOut(){return"always"===this.S.cookieless_mode||this.consent===tw.DENIED||this.consent===tw.PENDING&&(this.S.opt_out_capturing_by_default||"on_reject"===this.S.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===tw.DENIED}optInOut(a){this.B.L(this.H,a?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:a,opt_out_capturing_cookie_prefix:l,consent_persistence_name:u}=this._instance.config;return u||(l?l+a:"__ph_opt_in_out_"+a)}get q(){var a=this.B.D(this.H);return"1"===a?tw.GRANTED:"0"===a?tw.DENIED:tw.PENDING}get B(){if(!this.W){var a=this.S.opt_out_capturing_persistence_type;this.W="localStorage"===a?tf:th;var l="localStorage"===a?th:tf;l.D(this.H)&&(this.W.D(this.H)||this.optInOut("1"===l.D(this.H)),l.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!rt([null==g?void 0:g.doNotTrack,null==g?void 0:g.msDoNotTrack,$.doNotTrack],a=>m([!0,1,"1","yes"],a))}};var tS=eh("[Dead Clicks]"),ee=()=>!0,re=a=>{var l,u=!(null==(l=a.instance.persistence)||!l.get_property(eR)),c=a.instance.config.capture_dead_clicks;return A(c)?c:u};let se=class se{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(a,l,u){this.instance=a,this.isEnabled=l,this.onCapture=u,this.startIfEnabled()}onRemoteConfig(a){this.instance.persistence&&this.instance.persistence.register({[eR]:null==a?void 0:a.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(a){var l,u;null!=(l=$.__PosthogExtensions__)&&l.initDeadClicksAutocapture&&a(),null==(u=$.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this.instance,"dead-clicks-autocapture",l=>{l?tS.error("failed to load script",l):a()})}V(){var a;if(_){if(!this.G&&null!=(a=$.__PosthogExtensions__)&&a.initDeadClicksAutocapture){var l=I(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};l.__onCapture=this.onCapture,this.G=$.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,l),this.G.start(_),tS.info("starting...")}}else tS.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,tS.info("stopping..."))}};function ne(a,l,u,c,d){return l>u&&(ed.warn("min cannot be greater than max."),l=u),F(a)?a>u?(c&&ed.warn(c+" cannot be  greater than max: "+u+". Using max value instead."),u):a<l?(c&&ed.warn(c+" cannot be less than min: "+l+". Using min value instead."),l):a:(c&&ed.warn(c+" must be a number. using max or fallback. max: "+u+", fallback: "+d),ne(d||u,l,u,c))}let oe=class oe{constructor(a){this.K={},this.Y=()=>{Object.keys(this.K).forEach(a=>{var l=this.X(a)+this.Z;l>=this.tt?delete this.K[a]:this.it(a,l)})},this.X=a=>this.K[String(a)],this.it=(a,l)=>{this.K[String(a)]=l},this.consumeRateLimit=a=>{var l,u=null!==(l=this.X(a))&&void 0!==l?l:this.tt;if(0===(u=Math.max(u-1,0)))return!0;this.it(a,u);var c,d=0===u;return d&&(null==(c=this.et)||c.call(this,a)),d},this.rt=a,this.et=this.rt.et,this.tt=ne(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=ne(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=ne(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}};var tE=eh("[ExceptionAutocapture]");let le=class le{constructor(a){var l,c,d;this.nt=()=>{var a;if(u&&this.isEnabled&&null!=(a=$.__PosthogExtensions__)&&a.errorWrappingFunctions){var l=$.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,c=$.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,d=$.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=l(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=c(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=d(this.captureException.bind(this)))}catch(a){tE.error("failed to start",a),this.ht()}}},this._instance=a,this.dt=!(null==(l=this._instance.persistence)||!l.props[ew]),this.S=this.vt(),this.ct=new oe({refillRate:null!==(c=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==c?c:1,bucketSize:null!==(d=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==d?d:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var a=this._instance.config.capture_exceptions,l={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return I(a)?l=B({},l,a):(R(a)?this.dt:a)&&(l=B({},l,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),l}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(tE.info("enabled"),this.J(this.nt))}J(a){var l,u;null!=(l=$.__PosthogExtensions__)&&l.errorWrappingFunctions&&a(),null==(u=$.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"exception-autocapture",l=>{if(l)return tE.error("failed to load script",l);a()})}ht(){var a,l,u;null==(a=this.ot)||a.call(this),this.ot=void 0,null==(l=this.lt)||l.call(this),this.lt=void 0,null==(u=this.ut)||u.call(this),this.ut=void 0}onRemoteConfig(a){var l=a.autocaptureExceptions;this.dt=!!l,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[ew]:this.dt}),this.startIfEnabled()}captureException(a){var l,u=this._instance.requestRouter.endpointFor("ui");a.$exception_personURL=u+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var c=null!==(l=a.$exception_list[0].type)&&void 0!==l?l:"Exception";this.ct.consumeRateLimit(c)?tE.info("Skipping exception capture because of client rate limiting.",{exception:a.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(a)}};function ue(a){return!R(Event)&&he(a,Event)}function he(a,l){try{return a instanceof l}catch(a){return!1}}function de(a){switch(Object.prototype.toString.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return he(a,Error)}}function ve(a,l){return Object.prototype.toString.call(a)==="[object "+l+"]"}function ce(a){return ve(a,"DOMError")}var tx=/\(error: (.*)\)/;function ge(a,l,u,c){var d={platform:"web:javascript",filename:a,function:"<anonymous>"===l?"?":l,in_app:!0};return R(u)||(d.lineno=u),R(c)||(d.colno=c),d}var tR=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tP=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tk=/\((\S*)(?::(\d+))(?::(\d+))\)/,tO=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tA=function(){for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=l.sort((a,l)=>a[0]-l[0]).map(a=>a[1]);return function(a,l){void 0===l&&(l=0);for(var u=[],d=a.split("\n"),p=l;p<d.length;p++){var f=d[p];if(!(f.length>1024)){var g=tx.test(f)?f.replace(tx,"$1"):f;if(!g.match(/\S*Error: /)){for(var _ of c){var v=_(g);if(v){u.push(v);break}}if(u.length>=50)break}}}return function(a){if(!a.length)return[];var l=Array.from(a);return l.reverse(),l.slice(0,50).map(a=>B({},a,{filename:a.filename||xe(l).filename,function:a.function||"?"}))}(u)}}(...[[30,a=>{var l=tR.exec(a);if(l){var[,u,c,d]=l;return ge(u,"?",+c,+d)}var p=tP.exec(a);if(p){if(p[2]&&0===p[2].indexOf("eval")){var f=tk.exec(p[2]);f&&(p[2]=f[1],p[3]=f[2],p[4]=f[3])}var[g,_]=Pe(p[1]||"?",p[2]);return ge(_,g,p[3]?+p[3]:void 0,p[4]?+p[4]:void 0)}}],[50,a=>{var l=tO.exec(a);if(l){if(l[3]&&l[3].indexOf(" > eval")>-1){var u=tT.exec(l[3]);u&&(l[1]=l[1]||"eval",l[3]=u[1],l[4]=u[2],l[5]="")}var c=l[3],d=l[1]||"?";return[d,c]=Pe(d,c),ge(c,d,l[4]?+l[4]:void 0,l[5]?+l[5]:void 0)}}]]);function xe(a){return a[a.length-1]||{}}var tI,tC,tM,Pe=(a,l)=>{var u=-1!==a.indexOf("safari-extension"),c=-1!==a.indexOf("safari-web-extension");return u||c?[-1!==a.indexOf("@")?a.split("@")[0]:"?",u?"safari-extension:"+l:"safari-web-extension:"+l]:[a,l]},tF=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Te(a,l){void 0===l&&(l=0);var u=a.stacktrace||a.stack||"",c=a&&tj.test(a.message)?1:0;try{var d,p,f=(d=tA(u,c),p=function(a){var l=globalThis._posthogChunkIds;if(!l)return{};var u=Object.keys(l);return tM&&u.length===tC||(tC=u.length,tM=u.reduce((u,c)=>{tI||(tI={});var d=tI[c];if(d)u[d[0]]=d[1];else for(var p=a(c),f=p.length-1;f>=0;f--){var g=p[f],_=null==g?void 0:g.filename,v=l[c];if(_&&v){u[_]=v,tI[c]=[_,v];break}}return u},{})),tM}(tA),d.forEach(a=>{a.filename&&(a.chunk_id=p[a.filename])}),d);return f.slice(0,f.length-l)}catch(a){}return[]}var tj=/Minified React error #\d+;/i;function Ce(a,l){var u,c,d,p=Te(a),f=null===(c=null==l?void 0:l.handled)||void 0===c||c,g=null!==(d=null==l?void 0:l.synthetic)&&void 0!==d&&d;return{type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:a.name,value:(u=a.message).error&&"string"==typeof u.error.message?String(u.error.message):String(u),stacktrace:{frames:p,type:"raw"},mechanism:{handled:f,synthetic:g}}}function Oe(a,l){var u=Ce(a,l);return a.cause&&de(a.cause)&&a.cause!==a?[u,...Oe(a.cause,{handled:null==l?void 0:l.handled,synthetic:null==l?void 0:l.synthetic})]:[u]}function Fe(a,l){return{$exception_list:Oe(a,l),$exception_level:"error"}}function Ae(a,l){var u,c,d,p=null===(u=null==l?void 0:l.handled)||void 0===u||u,f=null===(c=null==l?void 0:l.synthetic)||void 0===c||c,g={type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:null!==(d=null==l?void 0:l.defaultExceptionType)&&void 0!==d?d:"Error",value:a||(null==l?void 0:l.defaultExceptionMessage),mechanism:{handled:p,synthetic:f}};if(null!=l&&l.syntheticException){var _=Te(l.syntheticException,1);_.length&&(g.stacktrace={frames:_,type:"raw"})}return{$exception_list:[g],$exception_level:"error"}}function De(a){return T(a)&&!M(a)&&er.indexOf(a)>=0}function je(a,l){var u,c,d=null===(u=null==l?void 0:l.handled)||void 0===u||u,p=null===(c=null==l?void 0:l.synthetic)||void 0===c||c,f={type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:ue(a)?a.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(a,l){void 0===l&&(l=40);var u=Object.keys(a);if(u.sort(),!u.length)return"[object has no keys]";for(var c=u.length;c>0;c--){var d=u.slice(0,c).join(", ");if(!(d.length>l))return c===u.length||d.length<=l?d:d.slice(0,l)+"..."}return""}(a),mechanism:{handled:d,synthetic:p}};if(null!=l&&l.syntheticException){var g=Te(null==l?void 0:l.syntheticException,1);g.length&&(f.stacktrace={frames:g,type:"raw"})}return{$exception_list:[f],$exception_level:De(a.level)?a.level:"error"}}function Le(a,l){var{error:u,event:c}=a,d={$exception_list:[]},p=u||c;if(ce(p)||ve(p,"DOMException")){if("stack"in p)d=Fe(p,l);else{var f=p.name||(ce(p)?"DOMError":"DOMException"),g=p.message?f+": "+p.message:f;d=Ae(g,B({},l,{overrideExceptionType:ce(p)?"DOMError":"DOMException",defaultExceptionMessage:g}))}return"code"in p&&(d.$exception_DOMException_code=""+p.code),d}if(ve(p,"ErrorEvent")&&p.error)return Fe(p.error,l);if(de(p))return Fe(p,l);if(ve(p,"Object")||ue(p))return je(p,l);if(R(u)&&T(c)){var _="Error",v=c,w=c.match(tF);return w&&(_=w[1],v=w[2]),Ae(v,B({},l,{overrideExceptionType:_,defaultExceptionMessage:v}))}return Ae(p,l)}function Ne(a,l,u){try{if(!(l in a))return()=>{};var c=a[l],d=u(c);return E(d)&&(d.prototype=d.prototype||{},Object.defineProperties(d,{__posthog_wrapped__:{enumerable:!1,value:!0}})),a[l]=d,()=>{a[l]=c}}catch(a){return()=>{}}}let ze=class ze{constructor(a){var l;this._instance=a,this.ft=(null==u||null==(l=u.location)?void 0:l.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(ed.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this._t&&this._t(),this._t=void 0,ed.info("History API monitoring stopped")}monitorHistoryChanges(){var a,l;if(u&&u.history){var c=this;null!=(a=u.history.pushState)&&a.__posthog_wrapped__||Ne(u.history,"pushState",a=>function(l,u,d){a.call(this,l,u,d),c.gt("pushState")}),null!=(l=u.history.replaceState)&&l.__posthog_wrapped__||Ne(u.history,"replaceState",a=>function(l,u,d){a.call(this,l,u,d),c.gt("replaceState")}),this.bt()}}gt(a){try{var l,c=null==u||null==(l=u.location)?void 0:l.pathname;if(!c)return;c!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:a}),this.ft=c}catch(l){ed.error("Error capturing "+a+" pageview",l)}}bt(){if(!this._t){var i=()=>{this.gt("popstate")};st(u,"popstate",i),this._t=()=>{u&&u.removeEventListener("popstate",i)}}}};function Ue(a){var l,u;return(null==(l=JSON.stringify(a,(u=[],function(a,l){if(I(l)){for(;u.length>0&&u[u.length-1]!==this;)u.pop();return u.includes(l)?"[Circular]":(u.push(l),l)}return l})))?void 0:l.length)||0}function qe(a,l){if(void 0===l&&(l=6606028.8),a.size>=l&&a.data.length>1){var u=Math.floor(a.data.length/2),c=a.data.slice(0,u),d=a.data.slice(u);return[qe({size:Ue(c),data:c,sessionId:a.sessionId,windowId:a.windowId}),qe({size:Ue(d),data:d,sessionId:a.sessionId,windowId:a.windowId})].flatMap(a=>a)}return[a]}var t$=((iX=t$||{})[iX.DomContentLoaded=0]="DomContentLoaded",iX[iX.Load=1]="Load",iX[iX.FullSnapshot=2]="FullSnapshot",iX[iX.IncrementalSnapshot=3]="IncrementalSnapshot",iX[iX.Meta=4]="Meta",iX[iX.Custom=5]="Custom",iX[iX.Plugin=6]="Plugin",iX),tN=((iZ=tN||{})[iZ.Mutation=0]="Mutation",iZ[iZ.MouseMove=1]="MouseMove",iZ[iZ.MouseInteraction=2]="MouseInteraction",iZ[iZ.Scroll=3]="Scroll",iZ[iZ.ViewportResize=4]="ViewportResize",iZ[iZ.Input=5]="Input",iZ[iZ.TouchMove=6]="TouchMove",iZ[iZ.MediaInteraction=7]="MediaInteraction",iZ[iZ.StyleSheetRule=8]="StyleSheetRule",iZ[iZ.CanvasMutation=9]="CanvasMutation",iZ[iZ.Font=10]="Font",iZ[iZ.Log=11]="Log",iZ[iZ.Drag=12]="Drag",iZ[iZ.StyleDeclaration=13]="StyleDeclaration",iZ[iZ.Selection=14]="Selection",iZ[iZ.AdoptedStyleSheet=15]="AdoptedStyleSheet",iZ[iZ.CustomElement=16]="CustomElement",iZ),tL="[SessionRecording]",tD="redacted",tB={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:a=>a,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},tU=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],tH=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],tq=["/s/","/e/","/i/"];function Xe(a,l,u,c){if(O(a))return a;var d=(null==l?void 0:l["content-length"])||new Blob([a]).size;return T(d)&&(d=parseInt(d)),d>u?tL+" "+c+" body too large to record ("+d+" bytes)":a}function Qe(a,l){if(O(a))return a;var u=a;return fi(u,!1)||(u=tL+" "+l+" body "+tD),J(tH,a=>{var c,d;null!=(c=u)&&c.length&&-1!==(null==(d=u)?void 0:d.indexOf(a))&&(u=tL+" "+l+" body "+tD+" as might contain: "+a)}),u}var Ze=(a,l)=>{var u,c,d={payloadSizeLimitBytes:tB.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...tB.performanceEntryTypeToObserve],payloadHostDenyList:[...l.payloadHostDenyList||[],...tB.payloadHostDenyList]},p=!1!==a.session_recording.recordHeaders&&l.recordHeaders,f=!1!==a.session_recording.recordBody&&l.recordBody,g=!1!==a.capture_performance&&l.recordPerformance,_=(c=Math.min(1e6,null!==(u=d.payloadSizeLimitBytes)&&void 0!==u?u:1e6),a=>(null!=a&&a.requestBody&&(a.requestBody=Xe(a.requestBody,a.requestHeaders,c,"Request")),null!=a&&a.responseBody&&(a.responseBody=Xe(a.responseBody,a.responseHeaders,c,"Response")),a)),h=l=>{var u;return _(((a,l)=>{var u,c=Si(a.name),d=0===l.indexOf("http")?null==(u=Si(l))?void 0:u.pathname:l;"/"===d&&(d="");var p=null==c?void 0:c.pathname.replace(d||"","");if(!(c&&p&&tq.some(a=>0===p.indexOf(a))))return a})((O(u=l.requestHeaders)||J(Object.keys(null!=u?u:{}),a=>{tU.includes(a.toLowerCase())&&(u[a]=tD)}),l),a.api_host))},v=E(a.session_recording.maskNetworkRequestFn);return v&&E(a.session_recording.maskCapturedNetworkRequestFn)&&ed.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),v&&(a.session_recording.maskCapturedNetworkRequestFn=l=>{var u=a.session_recording.maskNetworkRequestFn({url:l.name});return B({},l,{name:null==u?void 0:u.url})}),d.maskRequestFn=E(a.session_recording.maskCapturedNetworkRequestFn)?l=>{var u,c=h(l);return c&&null!==(u=null==a.session_recording.maskCapturedNetworkRequestFn?void 0:a.session_recording.maskCapturedNetworkRequestFn(c))&&void 0!==u?u:void 0}:a=>(function(a){if(!R(a))return a.requestBody=Qe(a.requestBody,"Request"),a.responseBody=Qe(a.responseBody,"Response"),a})(h(a)),B({},tB,d,{recordHeaders:p,recordBody:f,recordPerformance:g,recordInitialRequests:g})};let tr=class tr{constructor(a,l){var u,c;void 0===l&&(l={}),this.yt={},this.wt=a=>{if(!this.yt[a]){this.yt[a]=!0;var l,u,c=this.St(a);null==(l=(u=this.rt).onBlockedNode)||l.call(u,a,c)}},this.$t=a=>{var l=this.St(a);if("svg"!==(null==l?void 0:l.nodeName)&&l instanceof Element){var u=l.closest("svg");if(u)return[this._rrweb.mirror.getId(u),u]}return[a,l]},this.St=a=>this._rrweb.mirror.getNode(a),this.xt=a=>{var l,u,c,d,p,f,g,_;return(null!==(l=null==(u=a.removes)?void 0:u.length)&&void 0!==l?l:0)+(null!==(c=null==(d=a.attributes)?void 0:d.length)&&void 0!==c?c:0)+(null!==(p=null==(f=a.texts)?void 0:f.length)&&void 0!==p?p:0)+(null!==(g=null==(_=a.adds)?void 0:_.length)&&void 0!==g?g:0)},this.throttleMutations=a=>{if(3!==a.type||0!==a.data.source)return a;var l=a.data,u=this.xt(l);l.attributes&&(l.attributes=l.attributes.filter(a=>{var[l]=this.$t(a.id);return!this.ct.consumeRateLimit(l)&&a}));var c=this.xt(l);return 0!==c||u===c?a:void 0},this._rrweb=a,this.rt=l,this.ct=new oe({bucketSize:null!==(u=this.rt.bucketSize)&&void 0!==u?u:100,refillRate:null!==(c=this.rt.refillRate)&&void 0!==c?c:10,refillInterval:1e3,et:this.wt})}};var tz=Uint8Array,tV=Uint16Array,tG=Uint32Array,tW=new tz([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tY=new tz([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tJ=new tz([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ar=function(a,l){for(var u=new tV(31),c=0;c<31;++c)u[c]=l+=1<<a[c-1];var d=new tG(u[30]);for(c=1;c<30;++c)for(var p=u[c];p<u[c+1];++p)d[p]=p-u[c]<<5|c;return[u,d]},tK=ar(tW,2),tX=tK[0],tZ=tK[1];tX[28]=258,tZ[258]=28;for(var tQ=ar(tY,0)[1],t0=new tV(32768),t1=0;t1<32768;++t1){var t2=(43690&t1)>>>1|(21845&t1)<<1;t2=(61680&(t2=(52428&t2)>>>2|(13107&t2)<<2))>>>4|(3855&t2)<<4,t0[t1]=((65280&t2)>>>8|(255&t2)<<8)>>>1}var pr=function(a,l,u){for(var c=a.length,d=0,p=new tV(l);d<c;++d)++p[a[d]-1];var f,g=new tV(l);for(d=0;d<l;++d)g[d]=g[d-1]+p[d-1]<<1;if(u){f=new tV(1<<l);var _=15-l;for(d=0;d<c;++d)if(a[d])for(var v=d<<4|a[d],w=l-a[d],S=g[a[d]-1]++<<w,x=S|(1<<w)-1;S<=x;++S)f[t0[S]>>>_]=v}else for(f=new tV(c),d=0;d<c;++d)f[d]=t0[g[a[d]-1]++]>>>15-a[d];return f},t3=new tz(288);for(t1=0;t1<144;++t1)t3[t1]=8;for(t1=144;t1<256;++t1)t3[t1]=9;for(t1=256;t1<280;++t1)t3[t1]=7;for(t1=280;t1<288;++t1)t3[t1]=8;var t5=new tz(32);for(t1=0;t1<32;++t1)t5[t1]=5;var t6=pr(t3,9,0),t4=pr(t5,5,0),yr=function(a){return(a/8>>0)+(7&a&&1)},wr=function(a,l,u){(null==u||u>a.length)&&(u=a.length);var c=new(a instanceof tV?tV:a instanceof tG?tG:tz)(u-l);return c.set(a.subarray(l,u)),c},Sr=function(a,l,u){u<<=7&l;var c=l/8>>0;a[c]|=u,a[c+1]|=u>>>8},$r=function(a,l,u){u<<=7&l;var c=l/8>>0;a[c]|=u,a[c+1]|=u>>>8,a[c+2]|=u>>>16},xr=function(a,l){for(var u=[],c=0;c<a.length;++c)a[c]&&u.push({s:c,f:a[c]});var d=u.length,p=u.slice();if(!d)return[new tz(0),0];if(1==d){var f=new tz(u[0].s+1);return f[u[0].s]=1,[f,1]}u.sort(function(a,l){return a.f-l.f}),u.push({s:-1,f:25001});var g=u[0],_=u[1],v=0,w=1,S=2;for(u[0]={s:-1,f:g.f+_.f,l:g,r:_};w!=d-1;)g=u[u[v].f<u[S].f?v++:S++],_=u[v!=w&&u[v].f<u[S].f?v++:S++],u[w++]={s:-1,f:g.f+_.f,l:g,r:_};var x=p[0].s;for(c=1;c<d;++c)p[c].s>x&&(x=p[c].s);var k=new tV(x+1),$=kr(u[w-1],k,0);if($>l){c=0;var N=0,U=$-l,z=1<<U;for(p.sort(function(a,l){return k[l.s]-k[a.s]||a.f-l.f});c<d;++c){var W=p[c].s;if(!(k[W]>l))break;N+=z-(1<<$-k[W]),k[W]=l}for(N>>>=U;N>0;){var er=p[c].s;k[er]<l?N-=1<<l-k[er]++-1:++c}for(;c>=0&&N;--c){var en=p[c].s;k[en]==l&&(--k[en],++N)}$=l}return[new tz(k),$]},kr=function(a,l,u){return -1==a.s?Math.max(kr(a.l,l,u+1),kr(a.r,l,u+1)):l[a.s]=u},Er=function(a){for(var l=a.length;l&&!a[--l];);for(var u=new tV(++l),c=0,d=a[0],p=1,o=function(a){u[c++]=a},f=1;f<=l;++f)if(a[f]==d&&f!=l)++p;else{if(!d&&p>2){for(;p>138;p-=138)o(32754);p>2&&(o(p>10?p-11<<5|28690:p-3<<5|12305),p=0)}else if(p>3){for(o(d),--p;p>6;p-=6)o(8304);p>2&&(o(p-3<<5|8208),p=0)}for(;p--;)o(d);p=1,d=a[f]}return[u.subarray(0,c),l]},Ir=function(a,l){for(var u=0,c=0;c<l.length;++c)u+=a[c]*l[c];return u},Pr=function(a,l,u){var c=u.length,d=yr(l+2);a[d]=255&c,a[d+1]=c>>>8,a[d+2]=255^a[d],a[d+3]=255^a[d+1];for(var p=0;p<c;++p)a[d+p+4]=u[p];return 8*(d+4+c)},Rr=function(a,l,u,c,d,p,f,g,_,v,w){Sr(l,w++,u),++d[256];for(var S=xr(d,15),x=S[0],k=S[1],$=xr(p,15),N=$[0],U=$[1],z=Er(x),W=z[0],er=z[1],en=Er(N),ea=en[0],el=en[1],eu=new tV(19),ec=0;ec<W.length;++ec)eu[31&W[ec]]++;for(ec=0;ec<ea.length;++ec)eu[31&ea[ec]]++;for(var ed=xr(eu,7),eh=ed[0],ep=ed[1],ef=19;ef>4&&!eh[tJ[ef-1]];--ef);var eg,e_,ev,em,ey=v+5<<3,eb=Ir(d,t3)+Ir(p,t5)+f,ew=Ir(d,x)+Ir(p,N)+f+14+3*ef+Ir(eu,eh)+(2*eu[16]+3*eu[17]+7*eu[18]);if(ey<=eb&&ey<=ew)return Pr(l,w,a.subarray(_,_+v));if(Sr(l,w,1+(ew<eb)),w+=2,ew<eb){eg=pr(x,k,0),e_=x,ev=pr(N,U,0),em=N;var eS=pr(eh,ep,0);for(Sr(l,w,er-257),Sr(l,w+5,el-1),Sr(l,w+10,ef-4),w+=14,ec=0;ec<ef;++ec)Sr(l,w+3*ec,eh[tJ[ec]]);w+=3*ef;for(var eE=[W,ea],ex=0;ex<2;++ex){var eR=eE[ex];for(ec=0;ec<eR.length;++ec){var eP=31&eR[ec];Sr(l,w,eS[eP]),w+=eh[eP],eP>15&&(Sr(l,w,eR[ec]>>>5&127),w+=eR[ec]>>>12)}}}else eg=t6,e_=t3,ev=t4,em=t5;for(ec=0;ec<g;++ec)if(c[ec]>255){$r(l,w,eg[(eP=c[ec]>>>18&31)+257]),w+=e_[eP+257],eP>7&&(Sr(l,w,c[ec]>>>23&31),w+=tW[eP]);var ek=31&c[ec];$r(l,w,ev[ek]),w+=em[ek],ek>3&&($r(l,w,c[ec]>>>5&8191),w+=tY[ek])}else $r(l,w,eg[c[ec]]),w+=e_[c[ec]];return $r(l,w,eg[256]),w+e_[256]},t8=new tG([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),t9=function(){for(var a=new tG(256),l=0;l<256;++l){for(var u=l,c=9;--c;)u=(1&u&&3988292384)^u>>>1;a[l]=u}return a}(),Cr=function(){var a=4294967295;return{p:function(l){for(var u=a,c=0;c<l.length;++c)u=t9[255&u^l[c]]^u>>>8;a=u},d:function(){return 4294967295^a}}},Fr=function(a,l,u){for(;u;++l)a[l]=u,u>>>=8},Ar=function(a,l){var u=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:9==l.level?2:0,a[9]=3,0!=l.mtime&&Fr(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),u){a[3]=8;for(var c=0;c<=u.length;++c)a[c+10]=u.charCodeAt(c)}};function jr(a,l){void 0===l&&(l={});var u,c,d,p=Cr(),f=a.length;p.p(a);var g=(c=l,d=10+((u=l).filename&&u.filename.length+1||0),function(a,l,u,c,d,p){var f=a.length,g=new tz(c+f+5*(1+Math.floor(f/7e3))+d),_=g.subarray(c,g.length-d),v=0;if(!l||f<8)for(var w=0;w<=f;w+=65535){var S=w+65535;S<f?v=Pr(_,v,a.subarray(w,S)):(_[w]=p,v=Pr(_,v,a.subarray(w,f)))}else{for(var x=t8[l-1],k=x>>>13,$=8191&x,N=(1<<u)-1,U=new tV(32768),z=new tV(N+1),W=Math.ceil(u/3),er=2*W,y=function(l){return(a[l]^a[l+1]<<W^a[l+2]<<er)&N},en=new tG(25e3),ea=new tV(288),el=new tV(32),eu=0,ec=0,ed=(w=0,0),eh=0,ep=0;w<f;++w){var ef=y(w),eg=32767&w,e_=z[ef];if(U[eg]=e_,z[ef]=eg,eh<=w){var ev=f-w;if((eu>7e3||ed>24576)&&ev>423){v=Rr(a,_,0,en,ea,el,ec,ed,ep,w-ep,v),ed=eu=ec=0,ep=w;for(var em=0;em<286;++em)ea[em]=0;for(em=0;em<30;++em)el[em]=0}var ey=2,eb=0,ew=$,eS=eg-e_&32767;if(ev>2&&ef==y(w-eS))for(var eE=Math.min(k,ev)-1,ex=Math.min(32767,w),eR=Math.min(258,ev);eS<=ex&&--ew&&eg!=e_;){if(a[w+ey]==a[w+ey-eS]){for(var eP=0;eP<eR&&a[w+eP]==a[w+eP-eS];++eP);if(eP>ey){if(ey=eP,eb=eS,eP>eE)break;var ek=Math.min(eS,eP-2),eO=0;for(em=0;em<ek;++em){var eT=w-eS+em+32768&32767,eA=eT-U[eT]+32768&32767;eA>eO&&(eO=eA,e_=eT)}}}eS+=(eg=e_)-(e_=U[eg])+32768&32767}if(eb){en[ed++]=268435456|tZ[ey]<<18|tQ[eb];var eI=31&tZ[ey],eC=31&tQ[eb];ec+=tW[eI]+tY[eC],++ea[257+eI],++el[eC],eh=w+ey,++eu}else en[ed++]=a[w],++ea[a[w]]}}v=Rr(a,_,p,en,ea,el,ec,ed,ep,w-ep,v)}return wr(g,0,c+yr(v)+d)}(a,null==c.level?6:c.level,null==c.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+c.mem,d,8,!0)),_=g.length;return Ar(g,l),Fr(g,_-8,p.d()),Fr(g,_-4,f),g}function Lr(a,l){var u=a.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(a);for(var c=new tz(a.length+(a.length>>>1)),d=0,n=function(a){c[d++]=a},p=0;p<u;++p){if(d+5>c.length){var f=new tz(d+8+(u-p<<1));f.set(c),c=f}var g=a.charCodeAt(p);g<128||l?n(g):(g<2048?n(192|g>>>6):(g>55295&&g<57344?(n(240|(g=65536+(1047552&g)|1023&a.charCodeAt(++p))>>>18),n(128|g>>>12&63)):n(224|g>>>12),n(128|g>>>6&63)),n(128|63&g))}return wr(c,0,d)}function Nr(a,l){return function(a){for(var l=0,u=0;u<a.length;u++)l=(l<<5)-l+a.charCodeAt(u)|0;return Math.abs(l)}(a)%100<ne(100*l,0,100)}var t7="disabled",rr="sampled",ri="active",rn="buffering",rl="paused",ru="trigger",rc=ru+"_activated",rd=ru+"_pending",rh=ru+"_"+t7;function Kr(a,l){return l.some(l=>"regex"===l.matching&&new RegExp(l.url).test(a))}let Yr=class Yr{constructor(a){this.kt=a}triggerStatus(a){var l=this.kt.map(l=>l.triggerStatus(a));return l.includes(rc)?rc:l.includes(rd)?rd:rh}stop(){this.kt.forEach(a=>a.stop())}};let Xr=class Xr{constructor(a){this.kt=a}triggerStatus(a){var l=new Set;for(var u of this.kt)l.add(u.triggerStatus(a));switch(l.delete(rh),l.size){case 0:return rh;case 1:return Array.from(l)[0];default:return rd}}stop(){this.kt.forEach(a=>a.stop())}};let Qr=class Qr{triggerStatus(){return rd}stop(){}};let Zr=class Zr{constructor(a){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=a}onRemoteConfig(a){var l,u;this.Et=(null==(l=a.sessionRecording)?void 0:l.urlTriggers)||[],this.It=(null==(u=a.sessionRecording)?void 0:u.urlBlocklist)||[]}Pt(a){var l;return 0===this.Et.length?rh:(null==(l=this._instance)?void 0:l.get_property(eN))===a?rc:rd}triggerStatus(a){var l=this.Pt(a),u=l===rc?rc:l===rd?rd:rh;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:u}),u}checkUrlTriggerConditions(a,l,c){if(void 0!==u&&u.location.href){var d=u.location.href,p=this.urlBlocked,f=Kr(d,this.It);p&&f||(f&&!p?a():!f&&p&&l(),Kr(d,this.Et)&&c("url"))}}stop(){}};let ts=class ts{constructor(a){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=a}triggerStatus(){var a=rd;return O(this.linkedFlag)&&(a=rh),this.linkedFlagSeen&&(a=rc),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:a}),a}onRemoteConfig(a,l){var u;if(this.linkedFlag=(null==(u=a.sessionRecording)?void 0:u.linkedFlag)||null,!O(this.linkedFlag)&&!this.linkedFlagSeen){var c=T(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,d=T(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((a,u)=>{var p=!1;if(I(u)&&c in u){var f=u[c];p=A(f)?!0===f:d?f===d:!!f}this.linkedFlagSeen=p,p&&l(c,d)})}}stop(){this.Rt()}};let is=class is{constructor(a){this.Tt=[],this._instance=a}onRemoteConfig(a){var l;this.Tt=(null==(l=a.sessionRecording)?void 0:l.eventTriggers)||[]}Mt(a){var l;return 0===this.Tt.length?rh:(null==(l=this._instance)?void 0:l.get_property(eL))===a?rc:rd}triggerStatus(a){var l=this.Mt(a),u=l===rc?rc:l===rd?rd:rh;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:u}),u}stop(){}};function es(a){return a.isRecordingEnabled?rn:t7}function rs(a){if(!a.receivedFlags)return rn;if(!a.isRecordingEnabled)return t7;if(a.urlTriggerMatching.urlBlocked)return rl;var l=!0===a.isSampled,u=new Yr([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId);return l?rr:u===rc?ri:u===rd?rn:!1===a.isSampled?t7:ri}function ss(a){if(!a.receivedFlags)return rn;if(!a.isRecordingEnabled)return t7;if(a.urlTriggerMatching.urlBlocked)return rl;var l=new Xr([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId),u=l!==rh,c=A(a.isSampled);return u&&l===rd?rn:u&&l===rh||c&&!a.isSampled?t7:!0===a.isSampled?rr:ri}var rp="[SessionRecording]",rf=eh(rp);function as(){var a;return null==$||null==(a=$.__PosthogExtensions__)||null==(a=a.rrweb)?void 0:a.record}var rg=[tN.MouseMove,tN.MouseInteraction,tN.Scroll,tN.ViewportResize,tN.Input,tN.TouchMove,tN.MediaInteraction,tN.Drag],hs=a=>({rrwebMethod:a,enqueuedAt:Date.now(),attempt:1});function ds(a){return function(a,l){for(var u="",c=0;c<a.length;){var d=a[c++];d<128||l?u+=String.fromCharCode(d):d<224?u+=String.fromCharCode((31&d)<<6|63&a[c++]):d<240?u+=String.fromCharCode((15&d)<<12|(63&a[c++])<<6|63&a[c++]):u+=String.fromCharCode(55296|(d=((15&d)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536)>>10,56320|1023&d)}return u}(jr(Lr(JSON.stringify(a))),!0)}function vs(a){return a.type===t$.Custom&&"sessionIdle"===a.data.tag}let cs=class cs{get sessionId(){return this.Ct}get Ot(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ft}get At(){if(!this._instance.sessionManager)throw Error(rp+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var a,l;return this.jt.triggerStatus(this.sessionId)===rd?6e4:null!==(a=null==(l=this._instance.config.session_recording)?void 0:l.full_snapshot_interval_millis)&&void 0!==a?a:3e5}get Lt(){var a=this._instance.get_property(e$);return A(a)?a:null}get Nt(){var a,l,u=null==(a=this.C)?void 0:a.data[(null==(l=this.C)?void 0:l.data.length)-1],{sessionStartTimestamp:c}=this.At.checkAndGetSessionAndWindowId(!0);return u?u.timestamp-c:null}get zt(){var a=!!this._instance.get_property(ek),l=!this._instance.config.disable_session_recording;return u&&a&&l}get Ut(){var a=!!this._instance.get_property(eO),l=this._instance.config.enable_recording_console_log;return null!=l?l:a}get qt(){var a,l,u,c,d,p,f=this._instance.config.session_recording.captureCanvas,g=this._instance.get_property(eI),_=null!==(a=null!==(l=null==f?void 0:f.recordCanvas)&&void 0!==l?l:null==g?void 0:g.enabled)&&void 0!==a&&a,v=null!==(u=null!==(c=null==f?void 0:f.canvasFps)&&void 0!==c?c:null==g?void 0:g.fps)&&void 0!==u?u:4,w=null!==(d=null!==(p=null==f?void 0:f.canvasQuality)&&void 0!==p?p:null==g?void 0:g.quality)&&void 0!==d?d:.4;if("string"==typeof w){var S=parseFloat(w);w=isNaN(S)?.4:S}return{enabled:_,fps:ne(v,0,12,"canvas recording fps",4),quality:ne(w,0,1,"canvas recording quality",.4)}}get Bt(){var a,l,u=this._instance.get_property(eT),c={recordHeaders:null==(a=this._instance.config.session_recording)?void 0:a.recordHeaders,recordBody:null==(l=this._instance.config.session_recording)?void 0:l.recordBody},d=(null==c?void 0:c.recordHeaders)||(null==u?void 0:u.recordHeaders),p=(null==c?void 0:c.recordBody)||(null==u?void 0:u.recordBody),f=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,g=!!(A(f)?f:null==u?void 0:u.capturePerformance);return d||p||g?{recordHeaders:d,recordBody:p,recordPerformance:g}:void 0}get Ht(){var a,l,u,c,d,p,f=this._instance.get_property(eA),g={maskAllInputs:null==(a=this._instance.config.session_recording)?void 0:a.maskAllInputs,maskTextSelector:null==(l=this._instance.config.session_recording)?void 0:l.maskTextSelector,blockSelector:null==(u=this._instance.config.session_recording)?void 0:u.blockSelector},_=null!==(c=null==g?void 0:g.maskAllInputs)&&void 0!==c?c:null==f?void 0:f.maskAllInputs,v=null!==(d=null==g?void 0:g.maskTextSelector)&&void 0!==d?d:null==f?void 0:f.maskTextSelector,w=null!==(p=null==g?void 0:g.blockSelector)&&void 0!==p?p:null==f?void 0:f.blockSelector;return R(_)&&R(v)&&R(w)?void 0:{maskAllInputs:null==_||_,maskTextSelector:v,blockSelector:w}}get Wt(){var a=this._instance.get_property(eC);return F(a)?a:null}get Gt(){var a=this._instance.get_property(eM);return F(a)?a:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.Lt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):rn}constructor(a){if(this.Vt=es,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.jt=new Qr,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(null!=_&&_.visibilityState){var a="window "+_.visibilityState;this.ui(a,{})}},this._instance=a,this.Ft=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw rf.error("started without valid sessionManager"),Error(rp+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw Error(rp+' cannot be used with cookieless_mode="always"');this.Xt=new ts(this._instance),this.Kt=new Zr(this._instance),this.Yt=new is(this._instance);var{sessionId:l,windowId:u}=this.At.checkAndGetSessionAndWindowId();this.Ct=l,this.fi=u,this.C=this.pi(),this.Ot>=this.At.sessionTimeoutMs&&rf.warn("session_idle_threshold_ms ("+this.Ot+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(a){this.zt?(this.gi(a),st(u,"beforeunload",this.oi),st(u,"offline",this.li),st(u,"online",this.hi),st(u,"visibilitychange",this.di),this.mi(),this.bi(),O(this.ii)&&(this.ii=this._instance.on("eventCaptured",a=>{try{if("$pageview"===a.event){var l=null!=a&&a.properties.$current_url?this.yi(null==a?void 0:a.properties.$current_url):"";if(!l)return;this.ui("$pageview",{href:l})}}catch(a){rf.error("Could not add $pageview to rrweb session",a)}})),this.ei||(this.ei=this.At.onSessionId((a,l,u)=>{var c,d;u&&(this.ui("$session_id_change",{sessionId:a,windowId:l,changeReason:u}),null==(c=this._instance)||null==(c=c.persistence)||c.unregister(eL),null==(d=this._instance)||null==(d=d.persistence)||d.unregister(eN))}))):this.stopRecording()}stopRecording(){var a,l,c,d;this.Ft&&this.ci&&(this.ci(),this.ci=void 0,this.Ft=!1,null==u||u.removeEventListener("beforeunload",this.oi),null==u||u.removeEventListener("offline",this.li),null==u||u.removeEventListener("online",this.hi),null==u||u.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),null==(a=this.ii)||a.call(this),this.ii=void 0,null==(l=this.ni)||l.call(this),this.ni=void 0,null==(c=this.ei)||c.call(this),this.ei=void 0,null==(d=this.si)||d.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),rf.info("stopped"))}Si(){var a;null==(a=this._instance.persistence)||a.unregister(e$)}$i(a){var l,u=this.Ct!==a,c=this.Wt;if(F(c)){var d=this.Lt,p=u||!A(d),f=p?Nr(a,c):d;p&&(f?this.xi(rr):rf.warn("Sample rate ("+c+") has determined that this sessionId ("+a+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:c,isSampled:f})),null==(l=this._instance.persistence)||l.register({[e$]:f})}else this.Si()}onRemoteConfig(a){var l,u,c,d;this.ui("$remote_config_received",a),this.ki(a),null!=(l=a.sessionRecording)&&l.endpoint&&(this.vi=null==(d=a.sessionRecording)?void 0:d.endpoint),this.mi(),"any"===(null==(u=a.sessionRecording)?void 0:u.triggerMatchType)?(this.Vt=rs,this.jt=new Yr([this.Yt,this.Kt])):(this.Vt=ss,this.jt=new Xr([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(c=a.sessionRecording)?void 0:c.triggerMatchType}),this.Kt.onRemoteConfig(a),this.Yt.onRemoteConfig(a),this.Xt.onRemoteConfig(a,(a,l)=>{this.xi("linked_flag_matched",{flag:a,variant:l})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){F(this.Wt)&&O(this.si)&&(this.si=this.At.onSessionId(a=>{this.$i(a)}))}ki(a){if(this._instance.persistence){var l,u=this._instance.persistence,r=()=>{var l,c,d,p,f,g,_,v,w,S=null==(l=a.sessionRecording)?void 0:l.sampleRate,x=O(S)?null:parseFloat(S);O(x)&&this.Si();var k=null==(c=a.sessionRecording)?void 0:c.minimumDurationMilliseconds;u.register({[ek]:!!a.sessionRecording,[eO]:null==(d=a.sessionRecording)?void 0:d.consoleLogRecordingEnabled,[eT]:B({capturePerformance:a.capturePerformance},null==(p=a.sessionRecording)?void 0:p.networkPayloadCapture),[eA]:null==(f=a.sessionRecording)?void 0:f.masking,[eI]:{enabled:null==(g=a.sessionRecording)?void 0:g.recordCanvas,fps:null==(_=a.sessionRecording)?void 0:_.canvasFps,quality:null==(v=a.sessionRecording)?void 0:v.canvasQuality},[eC]:x,[eM]:R(k)?null:k,[eF]:null==(w=a.sessionRecording)?void 0:w.scriptConfig})};r(),null==(l=this.ri)||l.call(this),this.ri=this.At.onSessionId(r)}}log(a,l){var u;void 0===l&&(l="log"),null==(u=this._instance.sessionRecording)||u.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:l,trace:[],payload:[JSON.stringify(a)]}},timestamp:Date.now()})}gi(a){if(!R(Object.assign)&&!R(Array.from)&&!(this.Ft||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var l;(this.Ft=!0,this.At.checkAndGetSessionAndWindowId(),as())?this.Ei():null==(l=$.__PosthogExtensions__)||null==l.loadExternalDependency||l.loadExternalDependency(this._instance,this.Ii,a=>{if(a)return rf.error("could not load recorder",a);this.Ei()}),rf.info("starting"),this.status===ri&&this.xi(a||"recording_initialized")}}get Ii(){var a;return(null==(a=this._instance)||null==(a=a.persistence)||null==(a=a.get_property(eF))?void 0:a.script)||"recorder"}Pi(a){var l;return 3===a.type&&-1!==rg.indexOf(null==(l=a.data)?void 0:l.source)}Ri(a){var l=this.Pi(a);l||this.Zt||a.timestamp-this.ti>this.Ot&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:a.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ot,bufferLength:this.C.data.length,bufferSize:this.C.size}),this.ai());var u=!1;if(l&&(this.ti=a.timestamp,this.Zt)){var c="unknown"===this.Zt;this.Zt=!1,c||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:a.type}),u=!0)}if(!this.Zt){var{windowId:d,sessionId:p}=this.At.checkAndGetSessionAndWindowId(!l,a.timestamp),f=this.Ct!==p,g=this.fi!==d;this.fi=d,this.Ct=p,f||g?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):u&&this.Ti()}}Mi(a){try{return a.rrwebMethod(),!0}catch(l){return this.Qt.length<10?this.Qt.push({enqueuedAt:a.enqueuedAt||Date.now(),attempt:a.attempt++,rrwebMethod:a.rrwebMethod}):rf.warn("could not emit queued rrweb event.",l,a),!1}}ui(a,l){return this.Mi(hs(()=>as().addCustomEvent(a,l)))}Ci(){return this.Mi(hs(()=>as().takeFullSnapshot()))}Ei(){var a,l,u,c,d={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[p,f]of Object.entries(this._instance.config.session_recording||{}))p in d&&("maskInputOptions"===p?d.maskInputOptions=B({password:!0},f):d[p]=f);this.qt&&this.qt.enabled&&(d.recordCanvas=!0,d.sampling={canvas:this.qt.fps},d.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(d.maskAllInputs=null===(l=this.Ht.maskAllInputs)||void 0===l||l,d.maskTextSelector=null!==(u=this.Ht.maskTextSelector)&&void 0!==u?u:void 0,d.blockSelector=null!==(c=this.Ht.blockSelector)&&void 0!==c?c:void 0);var g=as();if(g){this.Oi=null!==(a=this.Oi)&&void 0!==a?a:new tr(g,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(a,l)=>{var u="Too many mutations on node '"+a+"'. Rate limiting. This could be due to SVG animations or something similar";rf.info(u,{node:l}),this.log(rp+" "+u,"warn")}});var _=this.Fi();this.ci=g(B({emit:a=>{this.onRRwebEmit(a)},plugins:_},d)),this.ti=Date.now(),this.Zt=A(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:d,activePlugins:_.map(a=>null==a?void 0:a.name)}),this.ui("$posthog_config",{config:this._instance.config})}else rf.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),!0!==this.Zt){var a=this.Dt;a&&(this.wi=setInterval(()=>{this.Ci()},a))}}Fi(){var a,l,u=[],c=null==(a=$.__PosthogExtensions__)||null==(a=a.rrwebPlugins)?void 0:a.getRecordConsolePlugin;c&&this.Ut&&u.push(c());var d=null==(l=$.__PosthogExtensions__)||null==(l=l.rrwebPlugins)?void 0:l.getRecordNetworkPlugin;return this.Bt&&E(d)&&(!tn.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?u.push(d(Ze(this._instance.config,this.Bt))):rf.info("NetworkCapture not started because we are on localhost.")),u}onRRwebEmit(a){var l;if(this.Ai(),a&&I(a)){if(a.type===t$.Meta){var u=this.yi(a.data.href);if(this.Di=u,!u)return;a.data.href=u}else this.ji();if(this.Kt.checkUrlTriggerConditions(()=>this.Li(),()=>this.Ni(),a=>this.zi(a)),!this.Kt.urlBlocked||a.type===t$.Custom&&"recording paused"===a.data.tag){a.type===t$.FullSnapshot&&this.Ti(),a.type===t$.FullSnapshot&&this.Jt&&this.jt.triggerStatus(this.sessionId)===rd&&this.pi();var c=this.Oi?this.Oi.throttleMutations(a):a;if(c){var d=function(a){if(a&&I(a)&&6===a.type&&I(a.data)&&"rrweb/console@1"===a.data.plugin){a.data.payload.payload.length>10&&(a.data.payload.payload=a.data.payload.payload.slice(0,10),a.data.payload.payload.push("...[truncated]"));for(var l=[],u=0;u<a.data.payload.payload.length;u++)a.data.payload.payload[u]&&a.data.payload.payload[u].length>2e3?l.push(a.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):l.push(a.data.payload.payload[u]);return a.data.payload.payload=l,a}return a}(c);if(this.Ri(d),!0!==this.Zt||vs(d)){if(vs(d)){var p=d.data.payload;if(p){var f=p.lastActivityTimestamp,g=p.threshold;d.timestamp=f+g}}var _=null===(l=this._instance.config.session_recording.compress_events)||void 0===l||l?function(a){if(1024>Ue(a))return a;try{if(a.type===t$.FullSnapshot)return B({},a,{data:ds(a.data),cv:"2024-10"});if(a.type===t$.IncrementalSnapshot&&a.data.source===tN.Mutation)return B({},a,{cv:"2024-10",data:B({},a.data,{texts:ds(a.data.texts),attributes:ds(a.data.attributes),removes:ds(a.data.removes),adds:ds(a.data.adds)})});if(a.type===t$.IncrementalSnapshot&&a.data.source===tN.StyleSheetRule)return B({},a,{cv:"2024-10",data:B({},a.data,{adds:a.data.adds?ds(a.data.adds):void 0,removes:a.data.removes?ds(a.data.removes):void 0})})}catch(a){rf.error("could not compress event - will use uncompressed event",a)}return a}(d):d,v={$snapshot_bytes:Ue(_),$snapshot_data:_,$session_id:this.Ct,$window_id:this.fi};this.status!==t7?this.Ui(v):this.pi()}}}}}ji(){if(!this._instance.config.capture_pageview&&u){var a=this.yi(u.location.href);this.Di!==a&&(this.ui("$url_changed",{href:a}),this.Di=a)}}Ai(){if(this.Qt.length){var a=[...this.Qt];this.Qt=[],a.forEach(a=>{Date.now()-a.enqueuedAt<=2e3&&this.Mi(a)})}}yi(a){var l=this._instance.config.session_recording;if(l.maskNetworkRequestFn){var u,c={url:a};return null==(u=c=l.maskNetworkRequestFn(c))?void 0:u.url}return a}pi(){return this.C={size:0,data:[],sessionId:this.Ct,windowId:this.fi},this.C}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var a=this.Gt,l=this.Nt,u=F(l)&&l>=0,c=F(a)&&u&&l<a;return this.status===rn||this.status===rl||this.status===t7||c?(this.qi=setTimeout(()=>{this.ai()},2e3),this.C):(this.C.data.length>0&&qe(this.C).forEach(a=>{this.Bi({$snapshot_bytes:a.size,$snapshot_data:a.data,$session_id:a.sessionId,$window_id:a.windowId,$lib:"web",$lib_version:N.LIB_VERSION})}),this.pi())}Ui(a){var l,u=2+((null==(l=this.C)?void 0:l.data.length)||0);!this.Zt&&(this.C.size+a.$snapshot_bytes+u>943718.4||this.C.sessionId!==this.Ct)&&(this.C=this.ai()),this.C.size+=a.$snapshot_bytes,this.C.data.push(a.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(a){this._instance.capture("$snapshot",a,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(a){var l;this.jt.triggerStatus(this.sessionId)===rd&&(null==(l=this._instance)||null==(l=l.persistence)||l.register({["url"===a?eN:eL]:this.Ct}),this.ai(),this.xi(a+"_trigger_matched"))}Li(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),rf.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Ci(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),rf.info("recording resumed"))}bi(){0!==this.Yt.Tt.length&&O(this.ni)&&(this.ni=this._instance.on("eventCaptured",a=>{try{this.Yt.Tt.includes(a.event)&&this.zi("event")}catch(a){rf.error("Could not activate event trigger",a)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Ci(),this.xi("linked_flag_overridden")}overrideSampling(){var a;null==(a=this._instance.persistence)||a.register({[e$]:!0}),this.Ci(),this.xi("sampling_overridden")}overrideTrigger(a){this.zi(a)}xi(a,l){this._instance.register_for_session({$session_recording_start_reason:a}),rf.info(a.replace("_"," "),l),m(["recording_initialized","session_id_changed"],a)||this.ui(a,l)}get sdkDebugProperties(){var{sessionStartTimestamp:a}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.C.data.length,$sdk_debug_replay_internal_buffer_size:this.C.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:a}}};var r_=eh("[SegmentIntegration]");function ps(a,l){var u=a.config.segment;if(!u)return l();!function(a,l){var u=a.config.segment;if(!u)return l();var r=u=>{var r=()=>u.anonymousId()||Ni();a.config.get_device_id=r,u.id()&&(a.register({distinct_id:u.id(),$device_id:r()}),a.persistence.set_property(eW,"identified")),l()},c=u.user();"then"in c&&E(c.then)?c.then(a=>r(a)):r(c)}(a,()=>{var c;u.register((Promise&&Promise.resolve||r_.warn("This browser does not have Promise support, and can not use the segment integration"),c=(l,u)=>{if(!u)return l;l.event.userId||l.event.anonymousId===a.get_distinct_id()||(r_.info("No userId set, resetting PostHog"),a.reset()),l.event.userId&&l.event.userId!==a.get_distinct_id()&&(r_.info("UserId set, identifying with PostHog"),a.identify(l.event.userId));var c=a.calculateEventProperties(u,l.event.properties);return l.event.properties=Object.assign({},c,l.event.properties),l},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>c(a,a.event.event),page:a=>c(a,"$pageview"),identify:a=>c(a,"$identify"),screen:a=>c(a,"$screen")})).then(()=>{l()})})}var rv="posthog-js";function gs(a,l){var{organization:u,projectId:c,prefix:d,severityAllowList:p=["error"]}=void 0===l?{}:l;return l=>{if(!("*"===p||p.includes(l.level))||!a.__loaded)return l;l.tags||(l.tags={});var f,g,_,v,w,S=a.requestRouter.endpointFor("ui","/project/"+a.config.token+"/person/"+a.get_distinct_id());l.tags["PostHog Person URL"]=S,a.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=a.get_session_replay_url({withTimestamp:!0}));var x=(null==(f=l.exception)?void 0:f.values)||[],k=x.map(a=>B({},a,{stacktrace:a.stacktrace?B({},a.stacktrace,{type:"raw",frames:(a.stacktrace.frames||[]).map(a=>B({},a,{platform:"web:javascript"}))}):void 0})),$={$exception_message:(null==(g=x[0])?void 0:g.value)||l.message,$exception_type:null==(_=x[0])?void 0:_.type,$exception_personURL:S,$exception_level:l.level,$exception_list:k,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:(null==(v=x[0])?void 0:v.value)||l.message,$sentry_exception_type:null==(w=x[0])?void 0:w.type,$sentry_tags:l.tags};return u&&c&&($.$sentry_url=(d||"https://sentry.io/organizations/")+u+"/issues/?project="+c+"&query="+l.event_id),a.exceptions.sendExceptionEvent($),l}}let ms=class ms{constructor(a,l,u,c,d){this.name=rv,this.setupOnce=function(p){p(gs(a,{organization:l,projectId:u,prefix:c,severityAllowList:d}))}}};var rm=null!=u&&u.location?Ei(u.location.hash,"__posthog")||Ei(location.hash,"state"):null,ry="_postHogToolbarParams",rb=eh("[Toolbar]"),rw=function(a){return a[a.UNINITIALIZED=0]="UNINITIALIZED",a[a.LOADING=1]="LOADING",a[a.LOADED=2]="LOADED",a}(rw||{});let $s=class $s{constructor(a){this.instance=a}Hi(a){$.ph_toolbar_state=a}Wi(){var a;return null!==(a=$.ph_toolbar_state)&&void 0!==a?a:rw.UNINITIALIZED}maybeLoadToolbar(a,l,c){if(void 0===a&&(a=void 0),void 0===l&&(l=void 0),void 0===c&&(c=void 0),!u||!_)return!1;a=null!=a?a:u.location,c=null!=c?c:u.history;try{if(!l){try{u.localStorage.setItem("test","test"),u.localStorage.removeItem("test")}catch(a){return!1}l=null==u?void 0:u.localStorage}var d,p=rm||Ei(a.hash,"__posthog")||Ei(a.hash,"state"),f=p?X(()=>JSON.parse(atob(decodeURIComponent(p))))||X(()=>JSON.parse(decodeURIComponent(p))):null;return f&&"ph_authorize"===f.action?((d=f).source="url",d&&Object.keys(d).length>0&&(f.desiredHash?a.hash=f.desiredHash:c?c.replaceState(c.state,"",a.pathname+a.search):a.hash="")):((d=JSON.parse(l.getItem(ry)||"{}")).source="localstorage",delete d.userIntent),!(!d.token||this.instance.config.token!==d.token)&&(this.loadToolbar(d),!0)}catch(a){return!1}}Gi(a){var l=$.ph_load_toolbar||$.ph_load_editor;!O(l)&&E(l)?l(a,this.instance):rb.warn("No toolbar load function found")}loadToolbar(a){var l,c=!(null==_||!_.getElementById(e0));if(!u||c)return!1;var d="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,p=B({token:this.instance.config.token},a,{apiURL:this.instance.requestRouter.endpointFor("ui")},d?{instrument:!1}:{});return(u.localStorage.setItem(ry,JSON.stringify(B({},p,{source:void 0}))),this.Wi()===rw.LOADED)?this.Gi(p):this.Wi()===rw.UNINITIALIZED&&(this.Hi(rw.LOADING),null==(l=$.__PosthogExtensions__)||null==l.loadExternalDependency||l.loadExternalDependency(this.instance,"toolbar",a=>{if(a)return rb.error("[Toolbar] Failed to load",a),void this.Hi(rw.UNINITIALIZED);this.Hi(rw.LOADED),this.Gi(p)}),st(u,"turbolinks:load",()=>{this.Hi(rw.UNINITIALIZED),this.loadToolbar(p)})),!0}Ji(a){return this.loadToolbar(a)}maybeLoadEditor(a,l,u){return void 0===a&&(a=void 0),void 0===l&&(l=void 0),void 0===u&&(u=void 0),this.maybeLoadToolbar(a,l,u)}};var rS=eh("[TracingHeaders]");let ks=class ks{constructor(a){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var a,l;R(this.Vi)&&(null==(a=$.__PosthogExtensions__)||null==(a=a.tracingHeadersPatchFns)||a._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),R(this.Ki)&&(null==(l=$.__PosthogExtensions__)||null==(l=l.tracingHeadersPatchFns)||l._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=a}J(a){var l,u;null!=(l=$.__PosthogExtensions__)&&l.tracingHeadersPatchFns&&a(),null==(u=$.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"tracing-headers",l=>{if(l)return rS.error("failed to load script",l);a()})}startIfEnabledOrStop(){var a,l;this._instance.config.__add_tracing_headers?this.J(this.nt):(null==(a=this.Vi)||a.call(this),null==(l=this.Ki)||l.call(this),this.Vi=void 0,this.Ki=void 0)}};var rE=eh("[Web Vitals]");let Ps=class Ps{constructor(a){var l;this.Yi=!1,this.i=!1,this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),0!==this.C.metrics.length&&(this._instance.capture("$web_vitals",this.C.metrics.reduce((a,l)=>B({},a,{["$web_vitals_"+l.name+"_event"]:B({},l),["$web_vitals_"+l.name+"_value"]:l.value}),{})),this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=a=>{var l,u=null==(l=this._instance.sessionManager)?void 0:l.checkAndGetSessionAndWindowId(!0);if(R(u))rE.error("Could not read session ID. Dropping metrics!");else{this.C=this.C||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var c=this.te();R(c)||(O(null==a?void 0:a.name)||O(null==a?void 0:a.value)?rE.error("Invalid metric received",a):this.ie&&a.value>=this.ie?rE.error("Ignoring metric with value >= "+this.ie,a):(this.C.url!==c&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),R(this.C.url)&&(this.C.url=c),this.C.firstMetricTimestamp=R(this.C.firstMetricTimestamp)?Date.now():this.C.firstMetricTimestamp,a.attribution&&a.attribution.interactionTargetElement&&(a.attribution.interactionTargetElement=void 0),this.C.metrics.push(B({},a,{$current_url:c,$session_id:u.sessionId,$window_id:u.windowId,timestamp:Date.now()})),this.C.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var a,l,u,c,d=$.__PosthogExtensions__;R(d)||R(d.postHogWebVitalsCallbacks)||({onLCP:a,onCLS:l,onFCP:u,onINP:c}=d.postHogWebVitalsCallbacks),a&&l&&u&&c?(this.allowedMetrics.indexOf("LCP")>-1&&a(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&l(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&u(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&c(this.Zi.bind(this)),this.i=!0):rE.error("web vitals callbacks not loaded - not starting")},this._instance=a,this.Yi=!(null==(l=this._instance.persistence)||!l.props[ex]),this.startIfEnabled()}get allowedMetrics(){var a,l,u=I(this._instance.config.capture_performance)?null==(a=this._instance.config.capture_performance)?void 0:a.web_vitals_allowed_metrics:void 0;return R(u)?(null==(l=this._instance.persistence)?void 0:l.props[eP])||["CLS","FCP","INP","LCP"]:u}get flushToCaptureTimeoutMs(){return(I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var a=I(this._instance.config.capture_performance)&&F(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<a&&a<=6e4?9e5:a}get isEnabled(){var a=null==v?void 0:v.protocol;if("http:"!==a&&"https:"!==a)return rE.info("Web Vitals are disabled on non-http/https protocols"),!1;var l=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:A(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return A(l)?l:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(rE.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(a){var l=I(a.capturePerformance)&&!!a.capturePerformance.web_vitals,u=I(a.capturePerformance)?a.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[ex]:l}),this._instance.persistence.register({[eP]:u})),this.Yi=l,this.startIfEnabled()}J(a){var l,u;null!=(l=$.__PosthogExtensions__)&&l.postHogWebVitalsCallbacks&&a(),null==(u=$.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"web-vitals",l=>{l?rE.error("failed to load script",l):a()})}te(){var a=u?u.location.href:void 0;return a||rE.error("Could not determine current URL"),a}};var rx=eh("[Heatmaps]");function Ts(a){return I(a)&&"clientX"in a&&"clientY"in a&&F(a.clientX)&&F(a.clientY)}let Ms=class Ms{constructor(a){var l;this.rageclicks=new yi,this.Yi=!1,this.i=!1,this.ee=null,this.instance=a,this.Yi=!(null==(l=this.instance.persistence)||!l.props[eb])}get flushIntervalMilliseconds(){var a=5e3;return I(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(a=this.instance.config.capture_heatmaps.flush_interval_milliseconds),a}get isEnabled(){return R(this.instance.config.capture_heatmaps)?R(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.i||(rx.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds));else{var a,l;clearInterval(null!==(a=this.ee)&&void 0!==a?a:void 0),null==(l=this.ne)||l.stop(),this.getAndClearBuffer()}}onRemoteConfig(a){var l=!!a.heatmaps;this.instance.persistence&&this.instance.persistence.register({[eb]:l}),this.Yi=l,this.startIfEnabled()}getAndClearBuffer(){var a=this.C;return this.C=void 0,a}oe(a){this.ae(a.originalEvent,"deadclick")}re(){u&&_&&(st(u,"beforeunload",this.se.bind(this)),st(_,"click",a=>this.ae(a||(null==u?void 0:u.event)),{capture:!0}),st(_,"mousemove",a=>this.le(a||(null==u?void 0:u.event)),{capture:!0}),this.ne=new se(this.instance,ee,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(a,l){var c=this.instance.scrollManager.scrollY(),d=this.instance.scrollManager.scrollX(),p=this.instance.scrollManager.scrollElement(),f=function(a,l,c){for(var d=a;d&&Jt(d)&&!Vt(d,"body")&&d!==c;){if(m(l,null==u?void 0:u.getComputedStyle(d).position))return!0;d=si(d)}return!1}(ei(a),["fixed","sticky"],p);return{x:a.clientX+(f?0:d),y:a.clientY+(f?0:c),target_fixed:f,type:l}}ae(a,l){var u;if(void 0===l&&(l="click"),!Gt(a.target)&&Ts(a)){var c=this.ue(a,l);null!=(u=this.rageclicks)&&u.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.he(B({},c,{type:"rageclick"})),this.he(c)}}le(a){!Gt(a.target)&&Ts(a)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(a,"mousemove"))},500))}he(a){if(u){var l=u.location.href;this.C=this.C||{},this.C[l]||(this.C[l]=[]),this.C[l].push(a)}}se(){this.C&&!P(this.C)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}};let Cs=class Cs{constructor(a){this._instance=a}doPageView(a,l){var c,d=this.ve(a,l);return this.ce={pathname:null!==(c=null==u?void 0:u.location.pathname)&&void 0!==c?c:"",pageViewId:l,timestamp:a},this._instance.scrollManager.resetContext(),d}doPageLeave(a){var l;return this.ve(a,null==(l=this.ce)?void 0:l.pageViewId)}doEvent(){var a;return{$pageview_id:null==(a=this.ce)?void 0:a.pageViewId}}ve(a,l){var u=this.ce;if(!u)return{$pageview_id:l};var c={$pageview_id:l,$prev_pageview_id:u.pageViewId},d=this._instance.scrollManager.getContext();if(d&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:p,lastScrollY:f,maxScrollY:g,maxContentHeight:_,lastContentY:v,maxContentY:w}=d;if(!(R(p)||R(f)||R(g)||R(_)||R(v)||R(w))){p=Math.ceil(p),f=Math.ceil(f),g=Math.ceil(g),_=Math.ceil(_),v=Math.ceil(v),w=Math.ceil(w);var S=p<=1?1:ne(f/p,0,1),x=p<=1?1:ne(g/p,0,1),k=_<=1?1:ne(v/_,0,1),$=_<=1?1:ne(w/_,0,1);c=V(c,{$prev_pageview_last_scroll:f,$prev_pageview_last_scroll_percentage:S,$prev_pageview_max_scroll:g,$prev_pageview_max_scroll_percentage:x,$prev_pageview_last_content:v,$prev_pageview_last_content_percentage:k,$prev_pageview_max_content:w,$prev_pageview_max_content_percentage:$})}}return u.pathname&&(c.$prev_pageview_pathname=u.pathname),u.timestamp&&(c.$prev_pageview_duration=(a.getTime()-u.timestamp.getTime())/1e3),c}};var Os=function(a){var l,u,c,d,p="";for(l=u=0,c=(a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,d=0;d<c;d++){var f=a.charCodeAt(d),g=null;f<128?u++:g=f>127&&f<2048?String.fromCharCode(f>>6|192,63&f|128):String.fromCharCode(f>>12|224,f>>6&63|128,63&f|128),C(g)||(u>l&&(p+=a.substring(l,u)),p+=g,l=u=d+1)}return u>l&&(p+=a.substring(l,a.length)),p},rR=!!S||!!w,rP="text/plain",Ds=(a,l)=>{var[u,c]=a.split("?"),d=B({},l);null==c||c.split("&").forEach(a=>{var[l]=a.split("=");delete d[l]});var p=$i(d);return u+"?"+(p=p?(c?c+"&":"")+p:c)},js=(a,l)=>JSON.stringify(a,(a,l)=>"bigint"==typeof l?l.toString():l,l),Ls=a=>{var{data:l,compression:u}=a;if(l){if(u===W.GZipJS){var c=jr(Lr(js(l)),{mtime:0}),d=new Blob([c],{type:rP});return{contentType:rP,body:d,estimatedSize:d.size}}if(u===W.Base64){var p,f="data="+encodeURIComponent("string"==typeof(p=function(a){var l,u,c,d,p,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=0,_=0,v="",w=[];if(!a)return a;a=Os(a);do l=(p=a.charCodeAt(g++)<<16|a.charCodeAt(g++)<<8|a.charCodeAt(g++))>>18&63,u=p>>12&63,c=p>>6&63,d=63&p,w[_++]=f.charAt(l)+f.charAt(u)+f.charAt(c)+f.charAt(d);while(g<a.length);switch(v=w.join(""),a.length%3){case 1:v=v.slice(0,-2)+"==";break;case 2:v=v.slice(0,-1)+"="}return v}(js(l)))?p:js(p));return{contentType:"application/x-www-form-urlencoded",body:f,estimatedSize:new Blob([f]).size}}var g=js(l);return{contentType:"application/json",body:g,estimatedSize:new Blob([g]).size}}},rk=[];w&&rk.push({transport:"fetch",method:a=>{var l,u,{contentType:c,body:d,estimatedSize:p}=null!==(l=Ls(a))&&void 0!==l?l:{},f=new Headers;J(a.headers,function(a,l){f.append(l,a)}),c&&f.append("Content-Type",c);var g=a.url,_=null;if(x){var v=new x;_={signal:v.signal,timeout:setTimeout(()=>v.abort(),a.timeout)}}w(g,B({method:(null==a?void 0:a.method)||"GET",headers:f,keepalive:"POST"===a.method&&52428.8>(p||0),body:d,signal:null==(u=_)?void 0:u.signal},a.fetchOptions)).then(l=>l.text().then(u=>{var c={statusCode:l.status,text:u};if(200===l.status)try{c.json=JSON.parse(u)}catch(a){ed.error(a)}null==a.callback||a.callback(c)})).catch(l=>{ed.error(l),null==a.callback||a.callback({statusCode:0,text:l})}).finally(()=>_?clearTimeout(_.timeout):null)}}),S&&rk.push({transport:"XHR",method:a=>{var l,u=new S;u.open(a.method||"GET",a.url,!0);var{contentType:c,body:d}=null!==(l=Ls(a))&&void 0!==l?l:{};J(a.headers,function(a,l){u.setRequestHeader(l,a)}),c&&u.setRequestHeader("Content-Type",c),a.timeout&&(u.timeout=a.timeout),u.withCredentials=!0,u.onreadystatechange=()=>{if(4===u.readyState){var l={statusCode:u.status,text:u.responseText};if(200===u.status)try{l.json=JSON.parse(u.responseText)}catch(a){}null==a.callback||a.callback(l)}},u.send(d)}}),null!=g&&g.sendBeacon&&rk.push({transport:"sendBeacon",method:a=>{var l=Ds(a.url,{beacon:"1"});try{var u,{contentType:c,body:d}=null!==(u=Ls(a))&&void 0!==u?u:{},p="string"==typeof d?new Blob([d],{type:c}):d;g.sendBeacon(l,p)}catch(a){}}});var zs=function(a,l){if(!function(a){try{new RegExp(a)}catch(a){return!1}return!0}(l))return!1;try{return new RegExp(l).test(a)}catch(a){return!1}};function Us(a,l,u){return js({distinct_id:a,userPropertiesToSet:l,userPropertiesToSetOnce:u})}var rO={exact:(a,l)=>l.some(l=>a.some(a=>l===a)),is_not:(a,l)=>l.every(l=>a.every(a=>l!==a)),regex:(a,l)=>l.some(l=>a.some(a=>zs(l,a))),not_regex:(a,l)=>l.every(l=>a.every(a=>!zs(l,a))),icontains:(a,l)=>l.map(Bs).some(l=>a.map(Bs).some(a=>l.includes(a))),not_icontains:(a,l)=>l.map(Bs).every(l=>a.map(Bs).every(a=>!l.includes(a)))},Bs=a=>a.toLowerCase(),rT=eh("[Error tracking]");let Ws=class Ws{constructor(a){var l,u;this.fe=[],this._instance=a,this.fe=null!==(l=null==(u=this._instance.persistence)?void 0:u.get_property(eS))&&void 0!==l?l:[]}onRemoteConfig(a){var l,u,c,d=null!==(l=null==(u=a.errorTracking)?void 0:u.suppressionRules)&&void 0!==l?l:[],p=null==(c=a.errorTracking)?void 0:c.captureExtensionExceptions;this.fe=d,this._instance.persistence&&this._instance.persistence.register({[eS]:this.fe,[eE]:p})}get pe(){var a,l=!!this._instance.get_property(eE),u=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(a=null!=u?u:l)&&void 0!==a&&a}sendExceptionEvent(a){if(this._e(a))rT.info("Skipping exception capture because a suppression rule matched");else{if(this.pe||!this.ge(a))return this._instance.capture("$exception",a,{_noTruncate:!0,_batchKey:"exceptionEvent"});rT.info("Skipping exception capture because it was thrown by an extension")}}_e(a){var l=a.$exception_list;if(!l||!ec(l)||0===l.length)return!1;var u=l.reduce((a,l)=>{var{type:u,value:c}=l;return T(u)&&u.length>0&&a.$exception_types.push(u),T(c)&&c.length>0&&a.$exception_values.push(c),a},{$exception_types:[],$exception_values:[]});return this.fe.some(a=>{var l=a.values.map(a=>{var l,c=rO[a.operator],d=ec(a.value)?a.value:[a.value],p=null!==(l=u[a.key])&&void 0!==l?l:[];return d.length>0&&c(d,p)});return"OR"===a.type?l.some(Boolean):l.every(Boolean)})}ge(a){var l=a.$exception_list;return!(!l||!ec(l))&&l.flatMap(a=>{var l,u;return null!==(l=null==(u=a.stacktrace)?void 0:u.frames)&&void 0!==l?l:[]}).some(a=>a.filename&&a.filename.startsWith("chrome-extension://"))}};var rA="Mobile",rI="Android",rC="Tablet",rM=rI+" "+rC,rF="iPad",rj="Apple",r$=rj+" Watch",rN="Safari",rL="BlackBerry",rD="Samsung",rB=rD+"Browser",rU=rD+" Internet",rH="Chrome",rq=rH+" OS",rz=rH+" iOS",rV="Internet Explorer",rG=rV+" "+rA,rW="Opera",rY=rW+" Mini",rJ="Edge",rK="Microsoft "+rJ,rX="Firefox",rZ=rX+" iOS",rQ="Nintendo",r0="PlayStation",r1="Xbox",r2=rI+" "+rA,r3=rA+" "+rN,r5="Windows",r6=r5+" Phone",r4="Nokia",r8="Ouya",r9="Generic",r7=r9+" "+rA.toLowerCase(),ie=r9+" "+rC.toLowerCase(),it="Konqueror",ir="(\\d+(\\.\\d+)?)",il=RegExp("Version/"+ir),iu=RegExp(r1,"i"),ic=RegExp(r0+" \\w+","i"),id=RegExp(rQ+" \\w+","i"),ih=RegExp(rL+"|PlayBook|BB10","i"),ip={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},jn=(a,l)=>l&&m(l,rj)||function(a){return m(a,rN)&&!m(a,rH)&&!m(a,rI)}(a),Ln=function(a,l){return l=l||"",m(a," OPR/")&&m(a,"Mini")?rY:m(a," OPR/")?rW:ih.test(a)?rL:m(a,"IE"+rA)||m(a,"WPDesktop")?rG:m(a,rB)?rU:m(a,rJ)||m(a,"Edg/")?rK:m(a,"FBIOS")?"Facebook "+rA:m(a,"UCWEB")||m(a,"UCBrowser")?"UC Browser":m(a,"CriOS")?rz:m(a,"CrMo")||m(a,rH)?rH:m(a,rI)&&m(a,rN)?r2:m(a,"FxiOS")?rZ:m(a.toLowerCase(),it.toLowerCase())?it:jn(a,l)?m(a,rA)?r3:rN:m(a,rX)?rX:m(a,"MSIE")||m(a,"Trident/")?rV:m(a,"Gecko")?rX:""},ig={[rG]:[RegExp("rv:"+ir)],[rK]:[RegExp(rJ+"?\\/"+ir)],[rH]:[RegExp("("+rH+"|CrMo)\\/"+ir)],[rz]:[RegExp("CriOS\\/"+ir)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+ir)],[rN]:[il],[r3]:[il],[rW]:[RegExp("(Opera|OPR)\\/"+ir)],[rX]:[RegExp(rX+"\\/"+ir)],[rZ]:[RegExp("FxiOS\\/"+ir)],[it]:[RegExp("Konqueror[:/]?"+ir,"i")],[rL]:[RegExp(rL+" "+ir),il],[r2]:[RegExp("android\\s"+ir,"i")],[rU]:[RegExp(rB+"\\/"+ir)],[rV]:[RegExp("(rv:|MSIE )"+ir)],Mozilla:[RegExp("rv:"+ir)]},zn=function(a,l){var u=ig[Ln(a,l)];if(R(u))return null;for(var c=0;c<u.length;c++){var d=u[c],p=a.match(d);if(p)return parseFloat(p[p.length-2])}return null},i_=[[RegExp(r1+"; "+r1+" (.*?)[);]","i"),a=>[r1,a&&a[1]||""]],[RegExp(rQ,"i"),[rQ,""]],[RegExp(r0,"i"),[r0,""]],[ih,[rL,""]],[RegExp(r5,"i"),(a,l)=>{if(/Phone/.test(l)||/WPDesktop/.test(l))return[r6,""];if(new RegExp(rA).test(l)&&!/IEMobile\b/.test(l))return[r5+" "+rA,""];var u=/Windows NT ([0-9.]+)/i.exec(l);if(u&&u[1]){var c=ip[u[1]]||"";return/arm/i.test(l)&&(c="RT"),[r5,c]}return[r5,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,a=>a&&a[3]?["iOS",[a[3],a[4],a[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,a=>{var l="";return a&&a.length>=3&&(l=R(a[2])?a[3]:a[2]),["watchOS",l]}],[RegExp("("+rI+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+rI+")","i"),a=>a&&a[2]?[rI,[a[2],a[3],a[4]||"0"].join(".")]:[rI,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,a=>{var l=["Mac OS X",""];if(a&&a[1]){var u=[a[1],a[2],a[3]||"0"];l[1]=u.join(".")}return l}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[rq,""]],[/Linux|debian/i,["Linux",""]]],qn=function(a){return id.test(a)?rQ:ic.test(a)?r0:iu.test(a)?r1:RegExp(r8,"i").test(a)?r8:RegExp("("+r6+"|WPDesktop)","i").test(a)?r6:/iPad/.test(a)?rF:/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(a)?r$:ih.test(a)?rL:/(kobo)\s(ereader|touch)/i.test(a)?"Kobo":RegExp(r4,"i").test(a)?r4:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(a)||/(kf[a-z]+)( bui|\)).+silk\//i.test(a)?"Kindle Fire":/(Android|ZTE)/i.test(a)?!new RegExp(rA).test(a)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(a)?/pixel[\daxl ]{1,6}/i.test(a)&&!/pixel c/i.test(a)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(a)||/lmy47v/i.test(a)&&!/QTAQZ3/i.test(a)?rI:rM:rI:RegExp("(pda|"+rA+")","i").test(a)?r7:RegExp(rC,"i").test(a)&&!RegExp(rC+" pc","i").test(a)?ie:""},iv="https?://(.*)",im=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],iy=K(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],im),ib="<masked>",iw=["li_fat_id"];function Vn(a,l,u){if(!_)return{};var c,d=l?K([],im,u||[]):[],p=Kn(ki(_.URL,d,ib),a);return V((c={},J(iw,function(a){var l=th.D(a);c[a]=l||null}),c),p)}function Kn(a,l){var u=iy.concat(l||[]),c={};return J(u,function(l){var u=xi(a,l);c[l]=u||null}),c}function Yn(a){var l=a?0===a.search(iv+"google.([^/?]*)")?"google":0===a.search(iv+"bing.com")?"bing":0===a.search(iv+"yahoo.com")?"yahoo":0===a.search(iv+"duckduckgo.com")?"duckduckgo":null:null,u="yahoo"!=l?"q":"p",c={};if(!C(l)){c.$search_engine=l;var d=_?xi(_.referrer,u):"";d.length&&(c.ph_keyword=d)}return c}function Xn(){return navigator.language||navigator.userLanguage}function Qn(){return(null==_?void 0:_.referrer)||"$direct"}function Zn(a,l){var u=a?K([],im,l||[]):[],c=null==v?void 0:v.href.substring(0,1e3);return{r:Qn().substring(0,1e3),u:c?ki(c,u,ib):void 0}}function to(a){var l,{r:u,u:c}=a,d={$referrer:u,$referring_domain:null==u?void 0:"$direct"==u?"$direct":null==(l=Si(u))?void 0:l.host};if(c){d.$current_url=c;var p=Si(c);d.$host=null==p?void 0:p.host,d.$pathname=null==p?void 0:p.pathname,V(d,Kn(c))}return u&&V(d,Yn(u)),d}function io(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(a){return}}function eo(){try{return(new Date).getTimezoneOffset()}catch(a){return}}function ro(a,l){if(!k)return{};var c,d,p=a?K([],im,l||[]):[],[f,g]=function(a){for(var l=0;l<i_.length;l++){var[u,c]=i_[l],d=u.exec(a),p=d&&(E(c)?c(d,a):c);if(p)return p}return["",""]}(k);return V(Z({$os:f,$os_version:g,$browser:Ln(k,navigator.vendor),$device:qn(k),$device_type:(d=qn(k))===rF||d===rM||"Kobo"===d||"Kindle Fire"===d||d===ie?rC:d===rQ||d===r1||d===r0||d===r8?"Console":d===r$?"Wearable":d?rA:"Desktop",$timezone:io(),$timezone_offset:eo()}),{$current_url:ki(null==v?void 0:v.href,p,ib),$host:null==v?void 0:v.host,$pathname:null==v?void 0:v.pathname,$raw_user_agent:k.length>1e3?k.substring(0,997)+"...":k,$browser_version:zn(k,navigator.vendor),$browser_language:Xn(),$browser_language_prefix:"string"==typeof(c=Xn())?c.split("-")[0]:void 0,$screen_height:null==u?void 0:u.screen.height,$screen_width:null==u?void 0:u.screen.width,$viewport_height:null==u?void 0:u.innerHeight,$viewport_width:null==u?void 0:u.innerWidth,$lib:"web",$lib_version:N.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var iS=eh("[FeatureFlags]"),iE="$active_feature_flags",ix="$override_feature_flags",iR="$feature_flag_payloads",iP="$override_feature_flag_payloads",ik="$feature_flag_request_id",ho=a=>{var l={};for(var[u,c]of Y(a||{}))c&&(l[u]=c);return l},vo=a=>{var l=a.flags;return l?(a.featureFlags=Object.fromEntries(Object.keys(l).map(a=>{var u;return[a,null!==(u=l[a].variant)&&void 0!==u?u:l[a].enabled]})),a.featureFlagPayloads=Object.fromEntries(Object.keys(l).filter(a=>l[a].enabled).filter(a=>{var u;return null==(u=l[a].metadata)?void 0:u.payload}).map(a=>{var u;return[a,null==(u=l[a].metadata)?void 0:u.payload]}))):iS.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),a},iO=function(a){return a.FeatureFlags="feature_flags",a.Recordings="recordings",a}({});let fo=class fo{constructor(a){this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this._instance=a,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.$e=!0;else{var a=!this.ke&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ee({disableFlags:a})}}get hasLoadedFlags(){return this.be}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var a=this._instance.get_property(eU),l=this._instance.get_property(ix),u=this._instance.get_property(iP);if(!u&&!l)return a||{};var c=V({},a||{});for(var d of[...new Set([...Object.keys(u||{}),...Object.keys(l||{})])]){var p,f,g=c[d],_=null==l?void 0:l[d],v=R(_)?null!==(p=null==g?void 0:g.enabled)&&void 0!==p&&p:!!_,w=R(_)?g.variant:"string"==typeof _?_:void 0,S=null==u?void 0:u[d],x=B({},g,{enabled:v,variant:v?null!=w?w:null==g?void 0:g.variant:void 0});v!==(null==g?void 0:g.enabled)&&(x.original_enabled=null==g?void 0:g.enabled),w!==(null==g?void 0:g.variant)&&(x.original_variant=null==g?void 0:g.variant),S&&(x.metadata=B({},null==g?void 0:g.metadata,{payload:S,original_payload:null==g||null==(f=g.metadata)?void 0:f.payload})),c[d]=x}return this.me||(iS.warn(" Overriding feature flag details!",{flagDetails:a,overriddenPayloads:u,finalDetails:c}),this.me=!0),c}getFlagVariants(){var a=this._instance.get_property(eD),l=this._instance.get_property(ix);if(!l)return a||{};for(var u=V({},a),c=Object.keys(l),d=0;d<c.length;d++)u[c[d]]=l[c[d]];return this.me||(iS.warn(" Overriding feature flags!",{enabledFlags:a,overriddenFlags:l,finalFlags:u}),this.me=!0),u}getFlagPayloads(){var a=this._instance.get_property(iR),l=this._instance.get_property(iP);if(!l)return a||{};for(var u=V({},a||{}),c=Object.keys(l),d=0;d<c.length;d++)u[c[d]]=l[c[d]];return this.me||(iS.warn(" Overriding feature flag payloads!",{flagPayloads:a,overriddenPayloads:l,finalPayloads:u}),this.me=!0),u}reloadFeatureFlags(){this.we||this._instance.config.advanced_disable_feature_flags||this.ke||(this.ke=setTimeout(()=>{this.Ee()},5))}Ie(){clearTimeout(this.ke),this.ke=void 0}ensureFlagsLoaded(){this.be||this.ye||this.ke||this.reloadFeatureFlags()}setAnonymousDistinctId(a){this.$anon_distinct_id=a}setReloadingPaused(a){this.we=a}Ee(a){var l;if(this.Ie(),!this._instance.I()){if(this.ye)this.Se=!0;else{var u={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:B({},(null==(l=this._instance.persistence)?void 0:l.get_initial_props())||{},this._instance.get_property(eH)||{}),group_properties:this._instance.get_property(eq)};(null!=a&&a.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(u.disable_flags=!0);var c=this._instance.config.__preview_remote_config,d=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",p=this._instance.requestRouter.endpointFor("api",(c?"/flags/?v=2":"/flags/?v=2&config=true")+d);c&&(u.timezone=io()),this.ye=!0,this._instance.Pe({method:"POST",url:p,data:u,compression:this._instance.config.disable_compression?void 0:W.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var l,c,d,p=!0;200===a.statusCode&&(this.Se||(this.$anon_distinct_id=void 0),p=!1),this.ye=!1,this.$e||(this.$e=!0,this._instance.Re(null!==(d=a.json)&&void 0!==d?d:{})),(!u.disable_flags||this.Se)&&((this.xe=!p,a.json&&null!=(c=a.json.quotaLimited)&&c.includes(iO.FeatureFlags))?iS.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(u.disable_flags||this.receivedFeatureFlags(null!==(l=a.json)&&void 0!==l?l:{},p),this.Se&&(this.Se=!1,this.Ee())))}})}}}getFeatureFlag(a,l){if(void 0===l&&(l={}),this.be||this.getFlags()&&this.getFlags().length>0){var u=this.getFlagVariants()[a],c=""+u,d=this._instance.get_property(ik)||void 0,p=this._instance.get_property(eG)||{};if((l.send_event||!("send_event"in l))&&(!(a in p)||!p[a].includes(c))){ec(p[a])?p[a].push(c):p[a]=[c],null==(_=this._instance.persistence)||_.register({[eG]:p});var f=this.getFeatureFlagDetails(a),g={$feature_flag:a,$feature_flag_response:u,$feature_flag_payload:this.getFeatureFlagPayload(a)||null,$feature_flag_request_id:d,$feature_flag_bootstrapped_response:(null==(v=this._instance.config.bootstrap)||null==(v=v.featureFlags)?void 0:v[a])||null,$feature_flag_bootstrapped_payload:(null==(w=this._instance.config.bootstrap)||null==(w=w.featureFlagPayloads)?void 0:w[a])||null,$used_bootstrap_value:!this.xe};R(null==f||null==(S=f.metadata)?void 0:S.version)||(g.$feature_flag_version=f.metadata.version);var _,v,w,S,x,k,$,N,U,z,W=null!==(x=null==f||null==(k=f.reason)?void 0:k.description)&&void 0!==x?x:null==f||null==($=f.reason)?void 0:$.code;W&&(g.$feature_flag_reason=W),null!=f&&null!=(N=f.metadata)&&N.id&&(g.$feature_flag_id=f.metadata.id),R(null==f?void 0:f.original_variant)&&R(null==f?void 0:f.original_enabled)||(g.$feature_flag_original_response=R(f.original_variant)?f.original_enabled:f.original_variant),null!=f&&null!=(U=f.metadata)&&U.original_payload&&(g.$feature_flag_original_payload=null==f||null==(z=f.metadata)?void 0:z.original_payload),this._instance.capture("$feature_flag_called",g)}return u}iS.warn('getFeatureFlag for key "'+a+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(a){return this.getFlagsWithDetails()[a]}getFeatureFlagPayload(a){return this.getFlagPayloads()[a]}getRemoteConfigPayload(a,l){var u=this._instance.config.token;this._instance.Pe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:u},compression:this._instance.config.disable_compression?void 0:W.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:u=>{var c,d=null==(c=u.json)?void 0:c.featureFlagPayloads;l((null==d?void 0:d[a])||void 0)}})}isFeatureEnabled(a,l){if(void 0===l&&(l={}),this.be||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(a,l);iS.warn('isFeatureEnabled for key "'+a+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(a){this.featureFlagEventHandlers.push(a)}removeFeatureFlagsHandler(a){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(l=>l!==a)}receivedFeatureFlags(a,l){if(this._instance.persistence){this.be=!0;var u=this.getFlagVariants(),c=this.getFlagPayloads(),d=this.getFlagsWithDetails();(function(a,l,u,c,d){void 0===u&&(u={}),void 0===c&&(c={}),void 0===d&&(d={});var p=vo(a),f=p.flags,g=p.featureFlags,_=p.featureFlagPayloads;if(g){var v=a.requestId;if(ec(g)){iS.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var w={};if(g)for(var S=0;S<g.length;S++)w[g[S]]=!0;l&&l.register({[iE]:g,[eD]:w})}else{var x=g,k=_,$=f;a.errorsWhileComputingFlags&&(x=B({},u,x),k=B({},c,k),$=B({},d,$)),l&&l.register(B({[iE]:Object.keys(ho(x)),[eD]:x||{},[iR]:k||{},[eU]:$||{}},v?{[ik]:v}:{}))}}})(a,this._instance.persistence,u,c,d),this.Te(l)}}override(a,l){void 0===l&&(l=!1),iS.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:a,suppressWarning:l})}overrideFeatureFlags(a){if(!this._instance.__loaded||!this._instance.persistence)return iS.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===a)return this._instance.persistence.unregister(ix),this._instance.persistence.unregister(iP),void this.Te();if(a&&"object"==typeof a&&("flags"in a||"payloads"in a)){var l;if(this.me=!!(null!==(l=a.suppressWarning)&&void 0!==l&&l),"flags"in a){if(!1===a.flags)this._instance.persistence.unregister(ix);else if(a.flags){if(ec(a.flags)){for(var u={},c=0;c<a.flags.length;c++)u[a.flags[c]]=!0;this._instance.persistence.register({[ix]:u})}else this._instance.persistence.register({[ix]:a.flags})}}return"payloads"in a&&(!1===a.payloads?this._instance.persistence.unregister(iP):a.payloads&&this._instance.persistence.register({[iP]:a.payloads})),void this.Te()}this.Te()}onFeatureFlags(a){if(this.addFeatureFlagsHandler(a),this.be){var{flags:l,flagVariants:u}=this.Me();a(l,u)}return()=>this.removeFeatureFlagsHandler(a)}updateEarlyAccessFeatureEnrollment(a,l,u){var c,d=(this._instance.get_property(eB)||[]).find(l=>l.flagKey===a),p={["$feature_enrollment/"+a]:l},f={$feature_flag:a,$feature_enrollment:l,$set:p};d&&(f.$early_access_feature_name=d.name),u&&(f.$feature_enrollment_stage=u),this._instance.capture("$feature_enrollment_update",f),this.setPersonPropertiesForFlags(p,!1);var g=B({},this.getFlagVariants(),{[a]:l});null==(c=this._instance.persistence)||c.register({[iE]:Object.keys(ho(g)),[eD]:g}),this.Te()}getEarlyAccessFeatures(a,l,u){void 0===l&&(l=!1);var c=this._instance.get_property(eB),d=u?"&"+u.map(a=>"stage="+a).join("&"):"";if(c&&!l)return a(c);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+d),method:"GET",callback:l=>{var u,c;if(l.json){var d=l.json.earlyAccessFeatures;return null==(u=this._instance.persistence)||u.unregister(eB),null==(c=this._instance.persistence)||c.register({[eB]:d}),a(d)}}})}Me(){var a=this.getFlags(),l=this.getFlagVariants();return{flags:a.filter(a=>l[a]),flagVariants:Object.keys(l).filter(a=>l[a]).reduce((a,u)=>(a[u]=l[u],a),{})}}Te(a){var{flags:l,flagVariants:u}=this.Me();this.featureFlagEventHandlers.forEach(c=>c(l,u,{errorsLoading:a}))}setPersonPropertiesForFlags(a,l){void 0===l&&(l=!0);var u=this._instance.get_property(eH)||{};this._instance.register({[eH]:B({},u,a)}),l&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(eH)}setGroupPropertiesForFlags(a,l){void 0===l&&(l=!0);var u=this._instance.get_property(eq)||{};0!==Object.keys(u).length&&Object.keys(u).forEach(l=>{u[l]=B({},u[l],a[l]),delete a[l]}),this._instance.register({[eq]:B({},u,a)}),l&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(a){if(a){var l=this._instance.get_property(eq)||{};this._instance.register({[eq]:B({},l,{[a]:{}})})}else this._instance.unregister(eq)}reset(){this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.$anon_distinct_id=void 0,this.Ie(),this.me=!1}};var iT=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];let _o=class _o{constructor(a,l){this.S=a,this.props={},this.Ce=!1,this.Oe=(a=>{var l="";return a.token&&(l=a.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),a.persistence_name?"ph_"+a.persistence_name:"ph_"+l+"_posthog"})(a),this.B=this.Fe(a),this.load(),a.debug&&ed.info("Persistence loaded",a.persistence,B({},this.props)),this.update_config(a,a,l),this.save()}isDisabled(){return!!this.Ae}Fe(a){-1===iT.indexOf(a.persistence.toLowerCase())&&(ed.critical("Unknown persistence type "+a.persistence+"; falling back to localStorage+cookie"),a.persistence="localStorage+cookie");var l=a.persistence.toLowerCase();return"localstorage"===l&&tf.F()?tf:"localstorage+cookie"===l&&t_.F()?t_:"sessionstorage"===l&&tb.F()?tb:"memory"===l?tm:"cookie"===l?th:t_.F()?t_:th}properties(){var a={};return J(this.props,function(l,u){if(u===eD&&I(l))for(var c,d=Object.keys(l),p=0;p<d.length;p++)a["$feature/"+d[p]]=l[d[p]];else c=!1,(C(e2)?c:f&&e2.indexOf===f?-1!=e2.indexOf(u):(J(e2,function(a){if(c||(c=a===u))return ef}),c))||(a[u]=l)}),a}load(){if(!this.Ae){var a=this.B.j(this.Oe);a&&(this.props=V({},a))}}save(){this.Ae||this.B.L(this.Oe,this.props,this.De,this.je,this.Le,this.S.debug)}remove(){this.B.N(this.Oe,!1),this.B.N(this.Oe,!0)}clear(){this.remove(),this.props={}}register_once(a,l,u){if(I(a)){R(l)&&(l="None"),this.De=R(u)?this.Ne:u;var c=!1;if(J(a,(a,u)=>{this.props.hasOwnProperty(u)&&this.props[u]!==l||(this.props[u]=a,c=!0)}),c)return this.save(),!0}return!1}register(a,l){if(I(a)){this.De=R(l)?this.Ne:l;var u=!1;if(J(a,(l,c)=>{a.hasOwnProperty(c)&&this.props[c]!==l&&(this.props[c]=l,u=!0)}),u)return this.save(),!0}return!1}unregister(a){a in this.props&&(delete this.props[a],this.save())}update_campaign_params(){if(!this.Ce){var a=Vn(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);P(Z(a))||this.register(a),this.Ce=!0}}update_search_keyword(){var a;this.register((a=null==_?void 0:_.referrer)?Yn(a):{})}update_referrer_info(){var a;this.register_once({$referrer:Qn(),$referring_domain:null!=_&&_.referrer&&(null==(a=Si(_.referrer))?void 0:a.host)||"$direct"},void 0)}set_initial_person_info(){this.props[eK]||this.props[eX]||this.register_once({[eZ]:Zn(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var a={};J([eX,eK],l=>{var u=this.props[l];u&&J(u,function(l,u){a["$initial_"+y(u)]=l})});var l,u,c=this.props[eZ];return c&&V(a,(l=to(c),u={},J(l,function(a,l){u["$initial_"+y(l)]=a}),u)),a}safe_merge(a){return J(this.props,function(l,u){u in a||(a[u]=l)}),a}update_config(a,l,u){if(this.Ne=this.De=a.cookie_expiration,this.set_disabled(a.disable_persistence||!!u),this.set_cross_subdomain(a.cross_subdomain_cookie),this.set_secure(a.secure_cookie),a.persistence!==l.persistence){var c=this.Fe(a),d=this.props;this.clear(),this.B=c,this.props=d,this.save()}}set_disabled(a){this.Ae=a,this.Ae?this.remove():this.save()}set_cross_subdomain(a){a!==this.je&&(this.je=a,this.remove(),this.save())}set_secure(a){a!==this.Le&&(this.Le=a,this.remove(),this.save())}set_event_timer(a,l){var u=this.props[em]||{};u[a]=l,this.props[em]=u,this.save()}remove_event_timer(a){var l=(this.props[em]||{})[a];return R(l)||(delete this.props[em][a],this.save()),l}get_property(a){return this.props[a]}set_property(a,l){this.props[a]=l,this.save()}};let go=class go{constructor(){this.ze={},this.ze={}}on(a,l){return this.ze[a]||(this.ze[a]=[]),this.ze[a].push(l),()=>{this.ze[a]=this.ze[a].filter(a=>a!==l)}}emit(a,l){for(var u of this.ze[a]||[])u(l);for(var c of this.ze["*"]||[])c(a,l)}};let mo=class mo{constructor(a){this.Ue=new go,this.qe=(a,l)=>this.Be(a,l)&&this.He(a,l)&&this.We(a,l),this.Be=(a,l)=>null==l||!l.event||(null==a?void 0:a.event)===(null==l?void 0:l.event),this._instance=a,this.Ge=new Set,this.Je=new Set}init(){var a,l;R(null==(a=this._instance)?void 0:a.Ve)||null==(l=this._instance)||l.Ve((a,l)=>{this.on(a,l)})}register(a){var l,u;if(!R(null==(l=this._instance)?void 0:l.Ve)&&(a.forEach(a=>{var l,u;null==(l=this.Je)||l.add(a),null==(u=a.steps)||u.forEach(a=>{var l;null==(l=this.Ge)||l.add((null==a?void 0:a.event)||"")})}),null!=(u=this._instance)&&u.autocapture)){var c,d=new Set;a.forEach(a=>{var l;null==(l=a.steps)||l.forEach(a=>{null!=a&&a.selector&&d.add(null==a?void 0:a.selector)})}),null==(c=this._instance)||c.autocapture.setElementSelectors(d)}}on(a,l){var u;null!=l&&0!=a.length&&(this.Ge.has(a)||this.Ge.has(null==l?void 0:l.event))&&this.Je&&(null==(u=this.Je)?void 0:u.size)>0&&this.Je.forEach(a=>{this.Ke(l,a)&&this.Ue.emit("actionCaptured",a.name)})}Ye(a){this.onAction("actionCaptured",l=>a(l))}Ke(a,l){if(null==(null==l?void 0:l.steps))return!1;for(var u of l.steps)if(this.qe(a,u))return!0;return!1}onAction(a,l){return this.Ue.on(a,l)}He(a,l){if(null!=l&&l.url){var u,c=null==a||null==(u=a.properties)?void 0:u.$current_url;if(!c||"string"!=typeof c||!mo.Xe(c,null==l?void 0:l.url,(null==l?void 0:l.url_matching)||"contains"))return!1}return!0}static Xe(a,l,c){switch(c){case"regex":return!!u&&zs(a,l);case"exact":return l===a;case"contains":return zs(a,mo.Qe(l).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static Qe(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}We(a,l){if((null!=l&&l.href||null!=l&&l.tag_name||null!=l&&l.text)&&!this.Ze(a).some(a=>!(null!=l&&l.href&&!mo.Xe(a.href||"",null==l?void 0:l.href,(null==l?void 0:l.href_matching)||"exact"))&&(null==l||!l.tag_name||a.tag_name===(null==l?void 0:l.tag_name))&&!(null!=l&&l.text&&!mo.Xe(a.text||"",null==l?void 0:l.text,(null==l?void 0:l.text_matching)||"exact")&&!mo.Xe(a.$el_text||"",null==l?void 0:l.text,(null==l?void 0:l.text_matching)||"exact"))))return!1;if(null!=l&&l.selector){var u,c=null==a||null==(u=a.properties)?void 0:u.$element_selectors;if(!c||!c.includes(null==l?void 0:l.selector))return!1}return!0}Ze(a){return null==(null==a?void 0:a.properties.$elements)?[]:null==a?void 0:a.properties.$elements}};(function(a){a.Button="button",a.Tab="tab",a.Selector="selector"})({}),function(a){a.TopLeft="top_left",a.TopRight="top_right",a.TopCenter="top_center",a.MiddleLeft="middle_left",a.MiddleRight="middle_right",a.MiddleCenter="middle_center",a.Left="left",a.Center="center",a.Right="right",a.NextToTrigger="next_to_trigger"}({});var iA=function(a){return a.Popover="popover",a.API="api",a.Widget="widget",a.ExternalSurvey="external_survey",a}({}),iI=(function(a){a.Open="open",a.MultipleChoice="multiple_choice",a.SingleChoice="single_choice",a.Rating="rating",a.Link="link"}({}),function(a){a.NextQuestion="next_question",a.End="end",a.ResponseBased="response_based",a.SpecificQuestion="specific_question"}({}),function(a){a.Once="once",a.Recurring="recurring",a.Always="always"}({}),function(a){return a.SHOWN="survey shown",a.DISMISSED="survey dismissed",a.SENT="survey sent",a}({})),iC=function(a){return a.SURVEY_ID="$survey_id",a.SURVEY_NAME="$survey_name",a.SURVEY_RESPONSE="$survey_response",a.SURVEY_ITERATION="$survey_iteration",a.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",a.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",a.SURVEY_SUBMISSION_ID="$survey_submission_id",a.SURVEY_QUESTIONS="$survey_questions",a.SURVEY_COMPLETED="$survey_completed",a}({}),iM=eh("[Surveys]"),iF="seenSurvey_",Ro=(a,l)=>{var u="$survey_"+l+"/"+a.id;return a.current_iteration&&a.current_iteration>0&&(u="$survey_"+l+"/"+a.id+"/"+a.current_iteration),u},To=a=>{var l=""+iF+a.id;return a.current_iteration&&a.current_iteration>0&&(l=""+iF+a.id+"_"+a.current_iteration),l},ij=[iA.Popover,iA.Widget,iA.API];let Co=class Co{constructor(a){this._instance=a,this.tr=new Map,this.ir=new Map}register(a){var l;R(null==(l=this._instance)?void 0:l.Ve)||(this.er(a),this.rr(a))}rr(a){var l=a.filter(a=>{var l,u;return(null==(l=a.conditions)?void 0:l.actions)&&(null==(u=a.conditions)||null==(u=u.actions)||null==(u=u.values)?void 0:u.length)>0});0!==l.length&&(null==this.sr&&(this.sr=new mo(this._instance),this.sr.init(),this.sr.Ye(a=>{this.onAction(a)})),l.forEach(a=>{var l,u,c,d,p;a.conditions&&null!=(l=a.conditions)&&l.actions&&null!=(u=a.conditions)&&null!=(u=u.actions)&&u.values&&(null==(c=a.conditions)||null==(c=c.actions)||null==(c=c.values)?void 0:c.length)>0&&(null==(d=this.sr)||d.register(a.conditions.actions.values),null==(p=a.conditions)||null==(p=p.actions)||null==(p=p.values)||p.forEach(l=>{if(l&&l.name){var u=this.ir.get(l.name);u&&u.push(a.id),this.ir.set(l.name,u||[a.id])}}))}))}er(a){var l;0!==a.filter(a=>{var l,u;return(null==(l=a.conditions)?void 0:l.events)&&(null==(u=a.conditions)||null==(u=u.events)||null==(u=u.values)?void 0:u.length)>0}).length&&(null==(l=this._instance)||l.Ve((a,l)=>{this.onEvent(a,l)}),a.forEach(a=>{var l;null==(l=a.conditions)||null==(l=l.events)||null==(l=l.values)||l.forEach(l=>{if(l&&l.name){var u=this.tr.get(l.name);u&&u.push(a.id),this.tr.set(l.name,u||[a.id])}})}))}onEvent(a,l){var u,c=(null==(u=this._instance)||null==(u=u.persistence)?void 0:u.props[eV])||[];if("survey shown"===a&&l&&c.length>0){iM.info("survey event matched, removing survey from activated surveys",{event:a,eventPayload:l,existingActivatedSurveys:c});var d,p=null==l||null==(d=l.properties)?void 0:d.$survey_id;if(p){var f=c.indexOf(p);f>=0&&(c.splice(f,1),this.nr(c))}}else this.tr.has(a)&&(iM.info("survey event matched, updating activated surveys",{event:a,surveys:this.tr.get(a)}),this.nr(c.concat(this.tr.get(a)||[])))}onAction(a){var l,u=(null==(l=this._instance)||null==(l=l.persistence)?void 0:l.props[eV])||[];this.ir.has(a)&&this.nr(u.concat(this.ir.get(a)||[]))}nr(a){var l;null==(l=this._instance)||null==(l=l.persistence)||l.register({[eV]:[...new Set(a)]})}getSurveys(){var a;return(null==(a=this._instance)||null==(a=a.persistence)?void 0:a.props[eV])||[]}getEventToSurveys(){return this.tr}ar(){return this.sr}};let Oo=class Oo{constructor(a){this.lr=void 0,this._surveyManager=null,this.ur=!1,this.hr=!1,this.dr=[],this._instance=a,this._surveyEventReceiver=null}onRemoteConfig(a){var l=a.surveys;if(O(l))return iM.warn("Flags not loaded yet. Not loading surveys.");var u=ec(l);this.lr=u?l.length>0:l,iM.info("flags response received, isSurveysEnabled: "+this.lr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var a=[],l=0;l<localStorage.length;l++){var u=localStorage.key(l);(null!=u&&u.startsWith(iF)||null!=u&&u.startsWith("inProgressSurvey_"))&&a.push(u)}a.forEach(a=>localStorage.removeItem(a))}loadIfEnabled(){if(!this._surveyManager){if(this.hr)iM.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)iM.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode)iM.info("Not loading surveys in cookieless mode.");else{var a=null==$?void 0:$.__PosthogExtensions__;if(a){if(!R(this.lr)||this._instance.config.advanced_enable_surveys){var l=this.lr||this._instance.config.advanced_enable_surveys;this.hr=!0;try{var u=a.generateSurveys;if(u)return void this.vr(u,l);var c=a.loadExternalDependency;if(!c)return void this.cr("PostHog loadExternalDependency extension not found.");c(this._instance,"surveys",u=>{u||!a.generateSurveys?this.cr("Could not load surveys script",u):this.vr(a.generateSurveys,l)})}catch(a){throw this.cr("Error initializing surveys",a),a}finally{this.hr=!1}}}else iM.error("PostHog Extensions not found.")}}}vr(a,l){this._surveyManager=a(this._instance,l),this._surveyEventReceiver=new Co(this._instance),iM.info("Surveys loaded successfully"),this.pr({isLoaded:!0})}cr(a,l){iM.error(a,l),this.pr({isLoaded:!1,error:a})}onSurveysLoaded(a){return this.dr.push(a),this._surveyManager&&this.pr({isLoaded:!0}),()=>{this.dr=this.dr.filter(l=>l!==a)}}getSurveys(a,l){if(void 0===l&&(l=!1),this._instance.config.disable_surveys)return iM.info("Disabled. Not loading surveys."),a([]);var u=this._instance.get_property(ez);if(u&&!l)return a(u,{isLoaded:!0});if(this.ur)return a([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.ur=!0,this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:l=>{this.ur=!1;var u=l.statusCode;if(200!==u||!l.json){var c="Surveys API could not be loaded, status: "+u;return iM.error(c),a([],{isLoaded:!1,error:c})}var d,p,f=l.json.surveys||[],g=f.filter(a=>{var l,u;return!(!a.start_date||a.end_date)&&(!(null==(l=a.conditions)||null==(l=l.events)||null==(l=l.values)||!l.length)||!(null==(u=a.conditions)||null==(u=u.actions)||null==(u=u.values)||!u.length))});return g.length>0&&(null==(p=this._surveyEventReceiver)||p.register(g)),null==(d=this._instance.persistence)||d.register({[ez]:f}),a(f,{isLoaded:!0})}})}catch(a){throw this.ur=!1,a}}pr(a){for(var l of this.dr)try{if(!a.isLoaded)return l([],a);this.getSurveys(l)}catch(a){iM.error("Error in survey callback",a)}}getActiveMatchingSurveys(a,l){if(void 0===l&&(l=!1),!O(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(a,l);iM.warn("init was not called")}_r(a){var l=null;return this.getSurveys(u=>{var c;l=null!==(c=u.find(l=>l.id===a))&&void 0!==c?c:null}),l}gr(a){if(O(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var l="string"==typeof a?this._r(a):a;return l?this._surveyManager.checkSurveyEligibility(l):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(a){if(O(this._surveyManager))return iM.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var l=this.gr(a);return{visible:l.eligible,disabledReason:l.reason}}canRenderSurveyAsync(a,l){return O(this._surveyManager)?(iM.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(u=>{this.getSurveys(l=>{var c,d=null!==(c=l.find(l=>l.id===a))&&void 0!==c?c:null;if(d){var p=this.gr(d);u({visible:p.eligible,disabledReason:p.reason})}else u({visible:!1,disabledReason:"Survey not found"})},l)})}renderSurvey(a,l){if(O(this._surveyManager))iM.warn("init was not called");else{var u=this._r(a);if(u){if(ij.includes(u.type)){var c=null==_?void 0:_.querySelector(l);c?this._surveyManager.renderSurvey(u,c):iM.warn("Survey element not found")}else iM.warn("Surveys of type "+u.type+" cannot be rendered in the app")}else iM.warn("Survey not found")}}};var i$=eh("[RateLimiter]");let Ao=class Ao{constructor(a){var l,u;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=a=>{var l=a.text;if(l&&l.length)try{(JSON.parse(l).quota_limited||[]).forEach(a=>{i$.info((a||"events")+" is quota limited."),this.serverLimits[a]=(new Date).getTime()+6e4})}catch(a){return void i$.warn('could not rate limit - continuing. Error: "'+(null==a?void 0:a.message)+'"',{text:l})}},this.instance=a,this.captureEventsPerSecond=(null==(l=a.config.rate_limiting)?void 0:l.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(u=a.config.rate_limiting)?void 0:u.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(a){void 0===a&&(a=!1);var l,u,c,d=(new Date).getTime(),p=null!==(l=null==(u=this.instance.persistence)?void 0:u.get_property(eJ))&&void 0!==l?l:{tokens:this.captureEventsBurstLimit,last:d};p.tokens+=(d-p.last)/1e3*this.captureEventsPerSecond,p.last=d,p.tokens>this.captureEventsBurstLimit&&(p.tokens=this.captureEventsBurstLimit);var f=p.tokens<1;return f||a||(p.tokens=Math.max(0,p.tokens-1)),!f||this.lastEventRateLimited||a||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=f,null==(c=this.instance.persistence)||c.set_property(eJ,p),{isRateLimited:f,remainingTokens:p.tokens}}isServerRateLimited(a){var l=this.serverLimits[a||"events"]||!1;return!1!==l&&(new Date).getTime()<l}};var iN=eh("[RemoteConfig]");let jo=class jo{constructor(a){this._instance=a}get remoteConfig(){var a;return null==(a=$._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.config}mr(a){var l,u;null!=(l=$.__PosthogExtensions__)&&l.loadExternalDependency?null==(u=$.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"remote-config",()=>a(this.remoteConfig)):(iN.error("PostHog Extensions not found. Cannot load remote config."),a())}br(a){this._instance.Pe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:l=>{a(l.json)}})}load(){try{if(this.remoteConfig)return iN.info("Using preloaded remote config",this.remoteConfig),void this.Re(this.remoteConfig);if(this._instance.I())return void iN.warn("Remote config is disabled. Falling back to local config.");this.mr(a=>{if(!a)return iN.info("No config found after loading remote JS config. Falling back to JSON."),void this.br(a=>{this.Re(a)});this.Re(a)})}catch(a){iN.error("Error loading remote config",a)}}Re(a){a?this._instance.config.__preview_remote_config?(this._instance.Re(a),!1!==a.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):iN.info("__preview_remote_config is disabled. Logging config instead",a):iN.error("Failed to fetch remote config from PostHog.")}};let No=class No{constructor(a,l){this.yr=!0,this.wr=[],this.Sr=ne((null==l?void 0:l.flush_interval_ms)||3e3,250,5e3,"flush interval",3e3),this.$r=a}enqueue(a){this.wr.push(a),this.kr||this.Er()}unload(){this.Ir();var a=Object.values(this.wr.length>0?this.Pr():{});[...a.filter(a=>0===a.url.indexOf("/e")),...a.filter(a=>0!==a.url.indexOf("/e"))].map(a=>{this.$r(B({},a,{transport:"sendBeacon"}))})}enable(){this.yr=!1,this.Er()}Er(){var a=this;this.yr||(this.kr=setTimeout(()=>{if(this.Ir(),this.wr.length>0){var l=this.Pr();for(var u in l)!function(){var c=l[u],d=(new Date).getTime();c.data&&ec(c.data)&&J(c.data,a=>{a.offset=Math.abs(a.timestamp-d),delete a.timestamp}),a.$r(c)}()}},this.Sr))}Ir(){clearTimeout(this.kr),this.kr=void 0}Pr(){var a={};return J(this.wr,l=>{var u,c=(l?l.batchKey:null)||l.url;R(a[c])&&(a[c]=B({},l,{data:[]})),null==(u=a[c].data)||u.push(l.data)}),this.wr=[],a}};var iL=["retriesPerformedSoFar"];let Uo=class Uo{constructor(a){this.Rr=!1,this.Tr=3e3,this.wr=[],this._instance=a,this.wr=[],this.Mr=!0,!R(u)&&"onLine"in u.navigator&&(this.Mr=u.navigator.onLine,st(u,"online",()=>{this.Mr=!0,this.se()}),st(u,"offline",()=>{this.Mr=!1}))}get length(){return this.wr.length}retriableRequest(a){var{retriesPerformedSoFar:l}=a,u=H(a,iL);F(l)&&l>0&&(u.url=Ds(u.url,{retry_count:l})),this._instance.Pe(B({},u,{callback:a=>{200!==a.statusCode&&(a.statusCode<400||a.statusCode>=500)&&(null!=l?l:0)<10?this.Cr(B({retriesPerformedSoFar:l},u)):null==u.callback||u.callback(a)}}))}Cr(a){var l,u,c,d=a.retriesPerformedSoFar||0;a.retriesPerformedSoFar=d+1;var p=(c=(Math.random()-.5)*((u=Math.min(18e5,l=3e3*Math.pow(2,d)))-l/2),Math.ceil(u+c)),f=Date.now()+p;this.wr.push({retryAt:f,requestOptions:a});var g="Enqueued failed request for retry in "+p;navigator.onLine||(g+=" (Browser is offline)"),ed.warn(g),this.Rr||(this.Rr=!0,this.Or())}Or(){this.Fr&&clearTimeout(this.Fr),this.Fr=setTimeout(()=>{this.Mr&&this.wr.length>0&&this.se(),this.Or()},this.Tr)}se(){var a=Date.now(),l=[],u=this.wr.filter(u=>u.retryAt<a||(l.push(u),!1));if(this.wr=l,u.length>0)for(var{requestOptions:c}of u)this.retriableRequest(c)}unload(){for(var{requestOptions:a}of(this.Fr&&(clearTimeout(this.Fr),this.Fr=void 0),this.wr))try{this._instance.Pe(B({},a,{transport:"sendBeacon"}))}catch(a){ed.error(a)}this.wr=[]}};let qo=class qo{constructor(a){this.Ar=()=>{this.Dr||(this.Dr={});var a,l,u,c,d=this.scrollElement(),p=this.scrollY(),f=d?Math.max(0,d.scrollHeight-d.clientHeight):0,g=p+((null==d?void 0:d.clientHeight)||0),_=(null==d?void 0:d.scrollHeight)||0;this.Dr.lastScrollY=Math.ceil(p),this.Dr.maxScrollY=Math.max(p,null!==(a=this.Dr.maxScrollY)&&void 0!==a?a:0),this.Dr.maxScrollHeight=Math.max(f,null!==(l=this.Dr.maxScrollHeight)&&void 0!==l?l:0),this.Dr.lastContentY=g,this.Dr.maxContentY=Math.max(g,null!==(u=this.Dr.maxContentY)&&void 0!==u?u:0),this.Dr.maxContentHeight=Math.max(_,null!==(c=this.Dr.maxContentHeight)&&void 0!==c?c:0)},this._instance=a}getContext(){return this.Dr}resetContext(){var a=this.Dr;return setTimeout(this.Ar,0),a}startMeasuringScrollPosition(){st(u,"scroll",this.Ar,{capture:!0}),st(u,"scrollend",this.Ar,{capture:!0}),st(u,"resize",this.Ar)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==u?void 0:u.document.documentElement;for(var a of ec(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var l=null==u?void 0:u.document.querySelector(a);if(l)return l}}scrollY(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollTop||0}return u&&(u.scrollY||u.pageYOffset||u.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollLeft||0}return u&&(u.scrollX||u.pageXOffset||u.document.documentElement.scrollLeft)||0}};var Bo=a=>Zn(null==a?void 0:a.config.mask_personal_data_properties,null==a?void 0:a.config.custom_personal_data_properties);let Ho=class Ho{constructor(a,l,u,c){this.jr=a=>{var l=this.Lr();if(!l||l.sessionId!==a){var u={sessionId:a,props:this.Nr(this._instance)};this.zr.register({[eY]:u})}},this._instance=a,this.Ur=l,this.zr=u,this.Nr=c||Bo,this.Ur.onSessionId(this.jr)}Lr(){return this.zr.props[eY]}getSetOnceProps(){var a,l=null==(a=this.Lr())?void 0:a.props;return l?"r"in l?to(l):{$referring_domain:l.referringDomain,$pathname:l.initialPathName,utm_source:l.utm_source,utm_campaign:l.utm_campaign,utm_medium:l.utm_medium,utm_content:l.utm_content,utm_term:l.utm_term}:{}}getSessionProps(){var a={};return J(Z(this.getSetOnceProps()),(l,u)=>{"$current_url"===u&&(u="url"),a["$session_entry_"+y(u)]=l}),a}};var iD=eh("[SessionId]");let Go=class Go{constructor(a,l,u){if(this.qr=[],this.Br=(a,l)=>Math.abs(a-l)>this.sessionTimeoutMs,!a.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if("always"===a.config.cookieless_mode)throw Error('SessionIdManager cannot be used with cookieless_mode="always"');this.S=a.config,this.zr=a.persistence,this.fi=void 0,this.Ct=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Hr=l||Ni,this.Wr=u||Ni;var c,d=this.S.persistence_name||this.S.token,p=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*ne(p,60,36e3,"session_idle_timeout_seconds",1800),a.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Gr(),this.Jr="ph_"+d+"_window_id",this.Vr="ph_"+d+"_primary_window_exists",this.Kr()){var f=tb.j(this.Jr),g=tb.j(this.Vr);f&&!g?this.fi=f:tb.N(this.Jr),tb.L(this.Vr,!0)}if(null!=(c=this.S.bootstrap)&&c.sessionID)try{var _=(a=>{var l=a.replace(/-/g,"");if(32!==l.length)throw Error("Not a valid UUID");if("7"!==l[12])throw Error("Not a UUIDv7");return parseInt(l.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Yr(this.S.bootstrap.sessionID,(new Date).getTime(),_)}catch(a){iD.error("Invalid sessionID in bootstrap",a)}this.Xr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(a){return R(this.qr)&&(this.qr=[]),this.qr.push(a),this.Ct&&a(this.Ct,this.fi),()=>{this.qr=this.qr.filter(l=>l!==a)}}Kr(){return"memory"!==this.S.persistence&&!this.zr.Ae&&tb.F()}Qr(a){a!==this.fi&&(this.fi=a,this.Kr()&&tb.L(this.Jr,a))}Zr(){return this.fi?this.fi:this.Kr()?tb.j(this.Jr):null}Yr(a,l,u){a===this.Ct&&l===this._sessionActivityTimestamp&&u===this._sessionStartTimestamp||(this._sessionStartTimestamp=u,this._sessionActivityTimestamp=l,this.Ct=a,this.zr.register({[ej]:[l,a,u]}))}ts(){if(this.Ct&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ct,this._sessionStartTimestamp];var a=this.zr.props[ej];return ec(a)&&2===a.length&&a.push(a[0]),a||[0,null,0]}resetSessionId(){this.Yr(null,null,null)}Xr(){st(u,"beforeunload",()=>{this.Kr()&&tb.N(this.Vr)},{capture:!1})}checkAndGetSessionAndWindowId(a,l){if(void 0===a&&(a=!1),void 0===l&&(l=null),"always"===this.S.cookieless_mode)throw Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var u=l||(new Date).getTime(),[c,d,p]=this.ts(),f=this.Zr(),g=F(p)&&p>0&&Math.abs(u-p)>864e5,_=!1,v=!d,w=!a&&this.Br(u,c);v||w||g?(d=this.Hr(),f=this.Wr(),iD.info("new session ID generated",{sessionId:d,windowId:f,changeReason:{noSessionId:v,activityTimeout:w,sessionPastMaximumLength:g}}),p=u,_=!0):f||(f=this.Wr(),_=!0);var S=0===c||!a||g?u:c,x=0===p?(new Date).getTime():p;return this.Qr(f),this.Yr(d,S,x),a||this.Gr(),_&&this.qr.forEach(a=>a(d,f,_?{noSessionId:v,activityTimeout:w,sessionPastMaximumLength:g}:void 0)),{sessionId:d,windowId:f,sessionStartTimestamp:x,changeReason:_?{noSessionId:v,activityTimeout:w,sessionPastMaximumLength:g}:void 0,lastActivityTimestamp:c}}Gr(){clearTimeout(this.es),this.es=setTimeout(()=>{var[a]=this.ts();this.Br((new Date).getTime(),a)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}};var iB=["$set_once","$set"],iU=eh("[SiteApps]");let Ko=class Ko{constructor(a){this._instance=a,this.rs=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ss(a,l){if(l){var u=this.globalsForEvent(l);this.rs.push(u),this.rs.length>1e3&&(this.rs=this.rs.slice(10))}}get siteAppLoaders(){var a;return null==(a=$._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.siteApps}init(){if(this.isEnabled){var a=this._instance.Ve(this.ss.bind(this));this.ns=()=>{a(),this.rs=[],this.ns=void 0}}}globalsForEvent(a){if(!a)throw Error("Event payload is required");var l,u,c,d,p,f,g,_={},v=this._instance.get_property("$groups")||[];for(var[w,S]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))_[w]={id:v[w],type:w,properties:S};var{$set_once:x,$set:k}=a;return{event:B({},H(a,iB),{properties:B({},a.properties,k?{$set:B({},null!==(l=null==(u=a.properties)?void 0:u.$set)&&void 0!==l?l:{},k)}:{},x?{$set_once:B({},null!==(c=null==(d=a.properties)?void 0:d.$set_once)&&void 0!==c?c:{},x)}:{}),elements_chain:null!==(p=null==(f=a.properties)?void 0:f.$elements_chain)&&void 0!==p?p:"",distinct_id:null==(g=a.properties)?void 0:g.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:_}}setupSiteApp(a){var l=this.apps[a.id],e=()=>{var u;!l.errored&&this.rs.length&&(iU.info("Processing "+this.rs.length+" events for site app with id "+a.id),this.rs.forEach(a=>null==l.processEvent?void 0:l.processEvent(a)),l.processedBuffer=!0),Object.values(this.apps).every(a=>a.processedBuffer||a.errored)&&(null==(u=this.ns)||u.call(this))},u=!1,s=c=>{l.errored=!c,l.loaded=!0,iU.info("Site app with id "+a.id+" "+(c?"loaded":"errored")),u&&e()};try{var{processEvent:c}=a.init({posthog:this._instance,callback:a=>{s(a)}});c&&(l.processEvent=c),u=!0}catch(l){iU.error("Error while initializing PostHog app with config id "+a.id,l),s(!1)}if(u&&l.loaded)try{e()}catch(u){iU.error("Error while processing buffered events PostHog app with config id "+a.id,u),l.errored=!0}}os(){var a=this.siteAppLoaders||[];for(var l of a)this.apps[l.id]={id:l.id,loaded:!1,errored:!1,processedBuffer:!1};for(var u of a)this.setupSiteApp(u)}ls(a){if(0!==Object.keys(this.apps).length){var l=this.globalsForEvent(a);for(var u of Object.values(this.apps))try{null==u.processEvent||u.processEvent(l)}catch(l){iU.error("Error while processing event "+a.event+" for site app "+u.id,l)}}}onRemoteConfig(a){var l,u,c,d=this;if(null!=(l=this.siteAppLoaders)&&l.length)return this.isEnabled?(this.os(),void this._instance.on("eventCaptured",a=>this.ls(a))):void iU.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(u=this.ns)||u.call(this),null!=(c=a.siteApps)&&c.length){if(this.isEnabled){var n=function(a){var l;$["__$$ph_site_app_"+a]=d._instance,null==(l=$.__PosthogExtensions__)||null==l.loadSiteApp||l.loadSiteApp(d._instance,f,l=>{if(l)return iU.error("Error while initializing PostHog app with config id "+a,l)})};for(var{id:p,url:f}of a.siteApps)n(p)}else iU.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}};var iH=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Xo=function(a,l){if(!a)return!1;var u=a.toLowerCase();return iH.concat(l||[]).some(a=>{var l=a.toLowerCase();return -1!==u.indexOf(l)})},Qo=function(a,l){if(!a)return!1;var u=a.userAgent;if(u&&Xo(u,l))return!0;try{var c=null==a?void 0:a.userAgentData;if(null!=c&&c.brands&&c.brands.some(a=>Xo(null==a?void 0:a.brand,l)))return!0}catch(a){}return!!a.webdriver},iq=function(a){return a.US="us",a.EU="eu",a.CUSTOM="custom",a}({}),iz="i.posthog.com";let ia=class ia{constructor(a){this.us={},this.instance=a}get apiHost(){var a=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===a?"https://us.i.posthog.com":a}get uiHost(){var a,l=null==(a=this.instance.config.ui_host)?void 0:a.replace(/\/$/,"");return l||(l=this.apiHost.replace("."+iz,".posthog.com")),"https://app.posthog.com"===l?"https://us.posthog.com":l}get region(){return this.us[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=iq.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=iq.EU:this.us[this.apiHost]=iq.CUSTOM),this.us[this.apiHost]}endpointFor(a,l){if(void 0===l&&(l=""),l&&(l="/"===l[0]?l:"/"+l),"ui"===a)return this.uiHost+l;if(this.region===iq.CUSTOM)return this.apiHost+l;var u=iz+l;switch(a){case"assets":return"https://"+this.region+"-assets."+u;case"api":return"https://"+this.region+"."+u}}};var iV={icontains:(a,l)=>!!u&&l.href.toLowerCase().indexOf(a.toLowerCase())>-1,not_icontains:(a,l)=>!!u&&-1===l.href.toLowerCase().indexOf(a.toLowerCase()),regex:(a,l)=>!!u&&zs(l.href,a),not_regex:(a,l)=>!!u&&!zs(l.href,a),exact:(a,l)=>l.href===a,is_not:(a,l)=>l.href!==a};let ra=class ra{constructor(a){var l=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(a){void 0===a&&(a=!1),l.getWebExperiments(a=>{ra.hs("retrieved web experiments from the server"),l.ds=new Map,a.forEach(a=>{if(a.feature_flag_key){l.ds&&(ra.hs("setting flag key ",a.feature_flag_key," to web experiment ",a),null==(u=l.ds)||u.set(a.feature_flag_key,a));var u,c=l._instance.getFeatureFlag(a.feature_flag_key);T(c)&&a.variants[c]&&l.vs(a.name,c,a.variants[c].transforms)}else if(a.variants)for(var d in a.variants){var p=a.variants[d];ra.cs(p)&&l.vs(a.name,d,p.transforms)}})},a)},this._instance=a,this._instance.onFeatureFlags(a=>{this.onFeatureFlags(a)})}onFeatureFlags(a){if(this._is_bot())ra.hs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(O(this.ds))return this.ds=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ra.hs("applying feature flags",a),a.forEach(a=>{var l;if(this.ds&&null!=(l=this.ds)&&l.has(a)){var u,c=this._instance.getFeatureFlag(a),d=null==(u=this.ds)?void 0:u.get(a);c&&null!=d&&d.variants[c]&&this.vs(d.name,c,d.variants[c].transforms)}})}}previewWebExperiment(){var a=ra.getWindowLocation();if(null!=a&&a.search){var l=xi(null==a?void 0:a.search,"__experiment_id"),u=xi(null==a?void 0:a.search,"__experiment_variant");l&&u&&(ra.hs("previewing web experiments "+l+" && "+u),this.getWebExperiments(a=>{this.fs(parseInt(l),u,a)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(a,l,u){if(this._instance.config.disable_web_experiments&&!u)return a([]);var c=this._instance.get_property("$web_experiments");if(c&&!l)return a(c);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:l=>200===l.statusCode&&l.json?a(l.json.experiments||[]):a([])})}fs(a,l,u){var c=u.filter(l=>l.id===a);c&&c.length>0&&(ra.hs("Previewing web experiment ["+c[0].name+"] with variant ["+l+"]"),this.vs(c[0].name,l,c[0].variants[l].transforms))}static cs(a){return!O(a.conditions)&&ra.ps(a)&&ra._s(a)}static ps(a){if(O(a.conditions)||O(null==(l=a.conditions)?void 0:l.url))return!0;var l,u,c,d,p=ra.getWindowLocation();return!!p&&(null==(u=a.conditions)||!u.url||iV[null!==(c=null==(d=a.conditions)?void 0:d.urlMatchType)&&void 0!==c?c:"icontains"](a.conditions.url,p))}static getWindowLocation(){return null==u?void 0:u.location}static _s(a){if(O(a.conditions)||O(null==(u=a.conditions)?void 0:u.utm))return!0;var l=Vn();if(l.utm_source){var u,c,d,p,f,g,_,v,w,S=null==(c=a.conditions)||null==(c=c.utm)||!c.utm_campaign||(null==(d=a.conditions)||null==(d=d.utm)?void 0:d.utm_campaign)==l.utm_campaign,x=null==(p=a.conditions)||null==(p=p.utm)||!p.utm_source||(null==(f=a.conditions)||null==(f=f.utm)?void 0:f.utm_source)==l.utm_source,k=null==(g=a.conditions)||null==(g=g.utm)||!g.utm_medium||(null==(_=a.conditions)||null==(_=_.utm)?void 0:_.utm_medium)==l.utm_medium,$=null==(v=a.conditions)||null==(v=v.utm)||!v.utm_term||(null==(w=a.conditions)||null==(w=w.utm)?void 0:w.utm_term)==l.utm_term;return S&&k&&$&&x}return!1}static hs(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];ed.info("[WebExperiments] "+a,u)}vs(a,l,u){this._is_bot()?ra.hs("Refusing to render web experiment since the viewer is a likely bot"):"control"!==l?u.forEach(u=>{if(u.selector){ra.hs("applying transform of variant "+l+" for experiment "+a+" ",u);var c,d=null==(c=document)?void 0:c.querySelectorAll(u.selector);null==d||d.forEach(a=>{u.html&&(a.innerHTML=u.html),u.css&&a.setAttribute("style",u.css)})}}):ra.hs("Control variants leave the page unmodified.")}_is_bot(){return g&&this._instance?Qo(g,this._instance.config.custom_blocked_useragents):void 0}};var iG=eh("[PostHog ExternalIntegrations]"),iW={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};let oa=class oa{constructor(a){this._instance=a}J(a,l){var u;null==(u=$.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,a,a=>{if(a)return iG.error("failed to load script",a);l()})}startIfEnabledOrStop(){var a,l=this,i=function(a){var u,d,p;!c||null!=(u=$.__PosthogExtensions__)&&null!=(u=u.integrations)&&u[a]||l.J(iW[a],()=>{var u;null==(u=$.__PosthogExtensions__)||null==(u=u.integrations)||null==(u=u[a])||u.start(l._instance)}),!c&&null!=(d=$.__PosthogExtensions__)&&null!=(d=d.integrations)&&d[a]&&(null==(p=$.__PosthogExtensions__)||null==(p=p.integrations)||null==(p=p[a])||p.stop())};for(var[u,c]of Object.entries(null!==(a=this._instance.config.integrations)&&void 0!==a?a:{}))i(u)}};var iY={},la=()=>{},iJ="posthog",iK=!rR&&-1===(null==k?void 0:k.indexOf("MSIE"))&&-1===(null==k?void 0:k.indexOf("Mozilla")),da=a=>{var l;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:et(null==_?void 0:_.location),persistence:"localStorage+cookie",persistence_name:"",loaded:la,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==a||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=a?a:"unset",debug:v&&T(null==v?void 0:v.search)&&-1!==v.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==u||null==(l=u.location)?void 0:l.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:a=>{var l="Bad HTTP status: "+a.statusCode+" "+a.text;ed.error(l)},get_device_id:a=>a,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},error_tracking:{},_onCapture:la}},va=a=>{var l={};R(a.process_person)||(l.person_profiles=a.process_person),R(a.xhr_headers)||(l.request_headers=a.xhr_headers),R(a.cookie_name)||(l.persistence_name=a.cookie_name),R(a.disable_cookie)||(l.disable_persistence=a.disable_cookie),R(a.store_google)||(l.save_campaign_params=a.store_google),R(a.verbose)||(l.debug=a.verbose);var u=V({},l,a);return ec(a.property_blacklist)&&(R(a.property_denylist)?u.property_denylist=a.property_blacklist:ec(a.property_denylist)?u.property_denylist=[...a.property_blacklist,...a.property_denylist]:ed.error("Invalid value for property_denylist config: "+a.property_denylist)),u};let ca=class ca{constructor(){this.__forceAllowLocalhost=!1}get gs(){return this.__forceAllowLocalhost}set gs(a){ed.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=a}};let fa=class fa{get decideEndpointWasHit(){var a,l;return null!==(a=null==(l=this.featureFlags)?void 0:l.hasLoadedFlags)&&void 0!==a&&a}get flagsEndpointWasHit(){var a,l;return null!==(a=null==(l=this.featureFlags)?void 0:l.hasLoadedFlags)&&void 0!==a&&a}constructor(){this.webPerformance=new ca,this.bs=!1,this.version=N.LIB_VERSION,this.ys=new go,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=da(),this.SentryIntegration=ms,this.sentryIntegration=a=>(function(a,l){var u=gs(a,l);return{name:rv,processEvent:a=>u(a)}})(this,a),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ws=!1,this.Ss=null,this.$s=null,this.xs=null,this.featureFlags=new fo(this),this.toolbar=new $s(this),this.scrollManager=new qo(this),this.pageViewManager=new Cs(this),this.surveys=new Oo(this),this.experiments=new ra(this),this.exceptions=new Ws(this),this.rateLimiter=new Ao(this),this.requestRouter=new ia(this),this.consent=new te(this),this.externalIntegrations=new oa(this),this.people={set:(a,l,u)=>{var c=T(a)?{[a]:l}:a;this.setPersonProperties(c),null==u||u({})},set_once:(a,l,u)=>{var c=T(a)?{[a]:l}:a;this.setPersonProperties(void 0,c),null==u||u({})}},this.on("eventCaptured",a=>ed.info('send "'+(null==a?void 0:a.event)+'"',a))}init(a,l,u){if(u&&u!==iJ){var c,d=null!==(c=iY[u])&&void 0!==c?c:new fa;return d._init(a,l,u),iY[u]=d,iY[iJ][u]=d,d}return this._init(a,l,u)}_init(a,l,c){if(void 0===l&&(l={}),R(a)||M(a))return ed.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ed.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.ks=l,this.Es=[],l.person_profiles&&(this.$s=l.person_profiles),this.set_config(V({},da(l.defaults),va(l),{name:c,token:a})),this.config.on_xhr_error&&ed.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=l.disable_compression?void 0:W.GZipJS;var d=this.Is();this.persistence=new _o(this.config,d),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new _o(B({},this.config,{persistence:"sessionStorage"}),d);var p=B({},this.persistence.props),f=B({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Ps=new No(a=>this.Rs(a),this.config.request_queue_config),this.Ts=new Uo(this),this.__request_queue=[];var g="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(g||(this.sessionManager=new Go(this),this.sessionPropsManager=new Ho(this,this.sessionManager,this.persistence)),new ks(this).startIfEnabledOrStop(),this.siteApps=new Ko(this),null==(_=this.siteApps)||_.init(),g||(this.sessionRecording=new cs(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Ci(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Ms(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Ps(this),this.exceptionObserver=new le(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new se(this,re),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new ze(this),this.historyAutocapture.startIfEnabled(),N.DEBUG=N.DEBUG||this.config.debug,N.DEBUG&&ed.info("Starting in debug mode",{this:this,config:l,thisC:B({},this.config),p:p,s:f}),void 0!==(null==(v=l.bootstrap)?void 0:v.distinctID)){var _,v,w,S,x=this.config.get_device_id(Ni()),k=null!=(w=l.bootstrap)&&w.isIdentifiedID?x:l.bootstrap.distinctID;this.persistence.set_property(eW,null!=(S=l.bootstrap)&&S.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:l.bootstrap.distinctID,$device_id:k})}if(this.Ms()){var $,U,z=Object.keys((null==($=l.bootstrap)?void 0:$.featureFlags)||{}).filter(a=>{var u;return!(null==(u=l.bootstrap)||null==(u=u.featureFlags)||!u[a])}).reduce((a,u)=>{var c;return a[u]=(null==(c=l.bootstrap)||null==(c=c.featureFlags)?void 0:c[u])||!1,a},{}),er=Object.keys((null==(U=l.bootstrap)?void 0:U.featureFlagPayloads)||{}).filter(a=>z[a]).reduce((a,u)=>{var c,d;return null!=(c=l.bootstrap)&&null!=(c=c.featureFlagPayloads)&&c[u]&&(a[u]=null==(d=l.bootstrap)||null==(d=d.featureFlagPayloads)?void 0:d[u]),a},{});this.featureFlags.receivedFeatureFlags({featureFlags:z,featureFlagPayloads:er})}if(g)this.register_once({distinct_id:e1,$device_id:null},"");else if(!this.get_distinct_id()){var en=this.config.get_device_id(Ni());this.register_once({distinct_id:en,$device_id:en},""),this.persistence.set_property(eW,"anonymous")}return st(u,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),l.segment?ps(this,()=>this.Cs()):this.Cs(),E(this.config._onCapture)&&this.config._onCapture!==la&&(ed.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",a=>this.config._onCapture(a.event,a))),this.config.ip&&ed.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Re(a){var l,u,c,d,p,f,g,v;if(!_||!_.body)return ed.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Re(a)},500);this.compression=void 0,a.supportedCompression&&!this.config.disable_compression&&(this.compression=m(a.supportedCompression,W.GZipJS)?W.GZipJS:m(a.supportedCompression,W.Base64)?W.Base64:void 0),null!=(l=a.analytics)&&l.endpoint&&(this.analyticsDefaultEndpoint=a.analytics.endpoint),this.set_config({person_profiles:this.$s?this.$s:"identified_only"}),null==(u=this.siteApps)||u.onRemoteConfig(a),null==(c=this.sessionRecording)||c.onRemoteConfig(a),null==(d=this.autocapture)||d.onRemoteConfig(a),null==(p=this.heatmaps)||p.onRemoteConfig(a),this.surveys.onRemoteConfig(a),null==(f=this.webVitalsAutocapture)||f.onRemoteConfig(a),null==(g=this.exceptionObserver)||g.onRemoteConfig(a),this.exceptions.onRemoteConfig(a),null==(v=this.deadClicksAutocapture)||v.onRemoteConfig(a)}Cs(){try{this.config.loaded(this)}catch(a){ed.critical("`loaded` function failed",a)}this.Os(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Fs()},1),new jo(this).load(),this.featureFlags.flags()}Os(){var a;this.is_capturing()&&this.config.request_batching&&(null==(a=this.Ps)||a.enable())}_dom_loaded(){this.is_capturing()&&G(this.__request_queue,a=>this.Rs(a)),this.__request_queue=[],this.Os()}_handle_unload(){var a,l;this.config.request_batching?(this.As()&&this.capture("$pageleave"),null==(a=this.Ps)||a.unload(),null==(l=this.Ts)||l.unload()):this.As()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Pe(a){this.__loaded&&(iK?this.__request_queue.push(a):this.rateLimiter.isServerRateLimited(a.batchKey)||(a.transport=a.transport||this.config.api_transport,a.url=Ds(a.url,{ip:this.config.ip?1:0}),a.headers=B({},this.config.request_headers),a.compression="best-available"===a.compression?this.compression:a.compression,a.fetchOptions=a.fetchOptions||this.config.fetch_options,(a=>{var l,u,c,d=B({},a);d.timeout=d.timeout||6e4,d.url=Ds(d.url,{_:(new Date).getTime().toString(),ver:N.LIB_VERSION,compression:d.compression});var p=null!==(l=d.transport)&&void 0!==l?l:"fetch",f=null!==(u=null==(c=rt(rk,a=>a.transport===p))?void 0:c.method)&&void 0!==u?u:rk[0].method;if(!f)throw Error("No available transport method");f(d)})(B({},a,{callback:l=>{var u,c;this.rateLimiter.checkForLimiting(l),l.statusCode>=400&&(null==(u=(c=this.config).on_request_error)||u.call(c,l)),null==a.callback||a.callback(l)}}))))}Rs(a){this.Ts?this.Ts.retriableRequest(a):this.Pe(a)}_execute_array(a){var l,u=[],c=[],d=[];G(a,a=>{a&&(ec(l=a[0])?d.push(a):E(a)?a.call(this):ec(a)&&"alias"===l?u.push(a):ec(a)&&-1!==l.indexOf("capture")&&E(this[l])?d.push(a):c.push(a))});var n=function(a,l){G(a,function(a){if(ec(a[0])){var u=l;J(a,function(a){u=u[a[0]].apply(u,a.slice(1))})}else this[a[0]].apply(this,a.slice(1))},l)};n(u,this),n(c,this),n(d,this)}Ms(){var a,l;return(null==(a=this.config.bootstrap)?void 0:a.featureFlags)&&Object.keys(null==(l=this.config.bootstrap)?void 0:l.featureFlags).length>0||!1}push(a){this._execute_array([a])}capture(a,l,u){var c;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ps){if(this.is_capturing()){if(!R(a)&&T(a)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var d=null!=u&&u.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==d||!d.isRateLimited){null!=l&&l.$current_url&&!T(null==l?void 0:l.$current_url)&&(ed.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==l||delete l.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var p=new Date,f=(null==u?void 0:u.timestamp)||p,g=Ni(),_={uuid:g,event:a,properties:this.calculateEventProperties(a,l||{},f,g)};d&&(_.properties.$lib_rate_limit_remaining_tokens=d.remainingTokens),(null==u?void 0:u.$set)&&(_.$set=null==u?void 0:u.$set);var v,w=this.Ds(null==u?void 0:u.$set_once);if(w&&(_.$set_once=w),(_=tt(_,null!=u&&u._noTruncate?null:this.config.properties_string_max_length)).timestamp=f,R(null==u?void 0:u.timestamp)||(_.properties.$event_time_override_provided=!0,_.properties.$event_time_override_system_time=p),a===iI.DISMISSED||a===iI.SENT){var S=null==l?void 0:l[iC.SURVEY_ID],x=null==l?void 0:l[iC.SURVEY_ITERATION];v={id:S,current_iteration:x},localStorage.getItem(To(v))||localStorage.setItem(To(v),"true"),_.$set=B({},_.$set,{[Ro({id:S,current_iteration:x},a===iI.SENT?"responded":"dismissed")]:!0})}var k=B({},_.properties.$set,_.$set);if(P(k)||this.setPersonPropertiesForFlags(k),!O(this.config.before_send)){var $=this.js(_);if(!$)return;_=$}this.ys.emit("eventCaptured",_);var N={method:"POST",url:null!==(c=null==u?void 0:u._url)&&void 0!==c?c:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:_,compression:"best-available",batchKey:null==u?void 0:u._batchKey};return!this.config.request_batching||u&&(null==u||!u._batchKey)||null!=u&&u.send_instantly?this.Rs(N):this.Ps.enqueue(N),_}ed.critical("This capture call is ignored due to client rate limiting.")}}else ed.error("No event name provided to posthog.capture")}}else ed.uninitializedWarning("posthog.capture")}Ve(a){return this.on("eventCaptured",l=>a(l.event,l))}calculateEventProperties(a,l,u,c,d){if(u=u||new Date,!this.persistence||!this.sessionPersistence)return l;var p,f=d?void 0:this.persistence.remove_event_timer(a),g=B({},l);if(g.token=this.config.token,g.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(g.$cookieless_mode=!0),"$snapshot"===a){var v=B({},this.persistence.properties(),this.sessionPersistence.properties());return g.distinct_id=v.distinct_id,(!T(g.distinct_id)&&!F(g.distinct_id)||M(g.distinct_id))&&ed.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),g}var w,S=ro(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:x,windowId:$}=this.sessionManager.checkAndGetSessionAndWindowId(d,u.getTime());g.$session_id=x,g.$window_id=$}this.sessionPropsManager&&V(g,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&V(g,this.sessionRecording.sdkDebugProperties),g.$sdk_debug_retry_queue_size=null==(p=this.Ts)?void 0:p.length}catch(a){g.$sdk_debug_error_capturing_properties=String(a)}if(this.requestRouter.region===iq.CUSTOM&&(g.$lib_custom_api_host=this.config.api_host),w="$pageview"!==a||d?"$pageleave"!==a||d?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(u):this.pageViewManager.doPageView(u,c),g=V(g,w),"$pageview"===a&&_&&(g.title=_.title),!R(f)){var N=u.getTime()-f;g.$duration=parseFloat((N/1e3).toFixed(3))}k&&this.config.opt_out_useragent_filter&&(g.$browser_type=this._is_bot()?"bot":"browser"),(g=V({},S,this.persistence.properties(),this.sessionPersistence.properties(),g)).$is_identified=this._isIdentified(),ec(this.config.property_denylist)?J(this.config.property_denylist,function(a){delete g[a]}):ed.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var U=this.config.sanitize_properties;U&&(ed.error("sanitize_properties is deprecated. Use before_send instead"),g=U(g,a));var z=this.Ls();return g.$process_person_profile=z,z&&!d&&this.Ns("_calculate_event_properties"),g}Ds(a){if(!this.persistence||!this.Ls()||this.bs)return a;var l,u=V({},this.persistence.get_initial_props(),(null==(l=this.sessionPropsManager)?void 0:l.getSetOnceProps())||{},a||{}),c=this.config.sanitize_properties;return c&&(ed.error("sanitize_properties is deprecated. Use before_send instead"),u=c(u,"$set_once")),this.bs=!0,P(u)?void 0:u}register(a,l){var u;null==(u=this.persistence)||u.register(a,l)}register_once(a,l,u){var c;null==(c=this.persistence)||c.register_once(a,l,u)}register_for_session(a){var l;null==(l=this.sessionPersistence)||l.register(a)}unregister(a){var l;null==(l=this.persistence)||l.unregister(a)}unregister_for_session(a){var l;null==(l=this.sessionPersistence)||l.unregister(a)}zs(a,l){this.register({[a]:l})}getFeatureFlag(a,l){return this.featureFlags.getFeatureFlag(a,l)}getFeatureFlagPayload(a){var l=this.featureFlags.getFeatureFlagPayload(a);try{return JSON.parse(l)}catch(a){return l}}isFeatureEnabled(a,l){return this.featureFlags.isFeatureEnabled(a,l)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(a,l,u){this.featureFlags.updateEarlyAccessFeatureEnrollment(a,l,u)}getEarlyAccessFeatures(a,l,u){return void 0===l&&(l=!1),this.featureFlags.getEarlyAccessFeatures(a,l,u)}on(a,l){return this.ys.on(a,l)}onFeatureFlags(a){return this.featureFlags.onFeatureFlags(a)}onSurveysLoaded(a){return this.surveys.onSurveysLoaded(a)}onSessionId(a){var l,u;return null!==(l=null==(u=this.sessionManager)?void 0:u.onSessionId(a))&&void 0!==l?l:()=>{}}getSurveys(a,l){void 0===l&&(l=!1),this.surveys.getSurveys(a,l)}getActiveMatchingSurveys(a,l){void 0===l&&(l=!1),this.surveys.getActiveMatchingSurveys(a,l)}renderSurvey(a,l){this.surveys.renderSurvey(a,l)}canRenderSurvey(a){return this.surveys.canRenderSurvey(a)}canRenderSurveyAsync(a,l){return void 0===l&&(l=!1),this.surveys.canRenderSurveyAsync(a,l)}identify(a,l,u){if(!this.__loaded||!this.persistence)return ed.uninitializedWarning("posthog.identify");if(F(a)&&(a=a.toString(),ed.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),a){if(["distinct_id","distinctid"].includes(a.toLowerCase()))ed.critical('The string "'+a+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(a!==e1){if(this.Ns("posthog.identify")){var c=this.get_distinct_id();this.register({$user_id:a}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:c},""),a!==c&&a!==this.get_property(ev)&&(this.unregister(ev),this.register({distinct_id:a}));var d="anonymous"===(this.persistence.get_property(eW)||"anonymous");a!==c&&d?(this.persistence.set_property(eW,"identified"),this.setPersonPropertiesForFlags(B({},u||{},l||{}),!1),this.capture("$identify",{distinct_id:a,$anon_distinct_id:c},{$set:l||{},$set_once:u||{}}),this.xs=Us(a,l,u),this.featureFlags.setAnonymousDistinctId(c)):(l||u)&&this.setPersonProperties(l,u),a!==c&&(this.reloadFeatureFlags(),this.unregister(eG))}}else ed.critical('The string "'+e1+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.')}else ed.error("Unique user id has not been set in posthog.identify")}setPersonProperties(a,l){if((a||l)&&this.Ns("posthog.setPersonProperties")){var u=Us(this.get_distinct_id(),a,l);this.xs!==u?(this.setPersonPropertiesForFlags(B({},l||{},a||{})),this.capture("$set",{$set:a||{},$set_once:l||{}}),this.xs=u):ed.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(a,l,u){if(a&&l){if(this.Ns("posthog.group")){var c=this.getGroups();c[a]!==l&&this.resetGroupPropertiesForFlags(a),this.register({$groups:B({},c,{[a]:l})}),u&&(this.capture("$groupidentify",{$group_type:a,$group_key:l,$group_set:u}),this.setGroupPropertiesForFlags({[a]:u})),c[a]===l||u||this.reloadFeatureFlags()}}else ed.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(a,l){void 0===l&&(l=!0),this.featureFlags.setPersonPropertiesForFlags(a,l)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(a,l){void 0===l&&(l=!0),this.Ns("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(a,l)}resetGroupPropertiesForFlags(a){this.featureFlags.resetGroupPropertiesForFlags(a)}reset(a){if(ed.info("reset"),!this.__loaded)return ed.uninitializedWarning("posthog.reset");var l,u,c,d,p=this.get_property("$device_id");if(this.consent.reset(),null==(l=this.persistence)||l.clear(),null==(u=this.sessionPersistence)||u.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(c=this.persistence)||c.set_property(eW,"anonymous"),null==(d=this.sessionManager)||d.resetSessionId(),this.xs=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:e1,$device_id:null},"");else{var f=this.config.get_device_id(Ni());this.register_once({distinct_id:f,$device_id:a?f:p},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var a,l;return null!==(a=null==(l=this.sessionManager)?void 0:l.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==a?a:""}get_session_replay_url(a){if(!this.sessionManager)return"";var{sessionId:l,sessionStartTimestamp:u}=this.sessionManager.checkAndGetSessionAndWindowId(!0),c=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+l);if(null!=a&&a.withTimestamp&&u){var d,p=null!==(d=a.timestampLookBack)&&void 0!==d?d:10;if(!u)return c;c+="?t="+Math.max(Math.floor(((new Date).getTime()-u)/1e3)-p,0)}return c}alias(a,l){return a===this.get_property(e_)?(ed.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ns("posthog.alias")?(R(l)&&(l=this.get_distinct_id()),a!==l?(this.zs(ev,a),this.capture("$create_alias",{alias:a,distinct_id:l})):(ed.warn("alias matches current distinct_id - skipping api call."),this.identify(a),-1)):void 0}set_config(a){var l=B({},this.config);if(I(a)){V(this.config,va(a));var u,c,d,p,f,g=this.Is();null==(u=this.persistence)||u.update_config(this.config,l,g),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new _o(B({},this.config,{persistence:"sessionStorage"}),g),tf.F()&&"true"===tf.D("ph_debug")&&(this.config.debug=!0),this.config.debug&&(N.DEBUG=!0,ed.info("set_config",{config:a,oldConfig:l,newConfig:B({},this.config)})),null==(c=this.sessionRecording)||c.startIfEnabledOrStop(),null==(d=this.autocapture)||d.startIfEnabled(),null==(p=this.heatmaps)||p.startIfEnabled(),this.surveys.loadIfEnabled(),this.Us(),null==(f=this.externalIntegrations)||f.startIfEnabledOrStop()}}startSessionRecording(a){var l,u,c,d,p,f=!0===a,g={sampling:f||!(null==a||!a.sampling),linked_flag:f||!(null==a||!a.linked_flag),url_trigger:f||!(null==a||!a.url_trigger),event_trigger:f||!(null==a||!a.event_trigger)};Object.values(g).some(Boolean)&&(null==(l=this.sessionManager)||l.checkAndGetSessionAndWindowId(),g.sampling&&(null==(u=this.sessionRecording)||u.overrideSampling()),g.linked_flag&&(null==(c=this.sessionRecording)||c.overrideLinkedFlag()),g.url_trigger&&(null==(d=this.sessionRecording)||d.overrideTrigger("url")),g.event_trigger&&(null==(p=this.sessionRecording)||p.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var a;return!(null==(a=this.sessionRecording)||!a.started)}captureException(a,l){var u=Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(B({},Le(a instanceof Error?{error:a,event:a.message}:{event:a},{syntheticException:u}),l))}loadToolbar(a){return this.toolbar.loadToolbar(a)}get_property(a){var l;return null==(l=this.persistence)?void 0:l.props[a]}getSessionProperty(a){var l;return null==(l=this.sessionPersistence)?void 0:l.props[a]}toString(){var a,l=null!==(a=this.config.name)&&void 0!==a?a:iJ;return l!==iJ&&(l=iJ+"."+l),l}_isIdentified(){var a,l;return"identified"===(null==(a=this.persistence)?void 0:a.get_property(eW))||"identified"===(null==(l=this.sessionPersistence)?void 0:l.get_property(eW))}Ls(){var a,l;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&P(this.getGroups())&&(null==(a=this.persistence)||null==(a=a.props)||!a[ev])&&(null==(l=this.persistence)||null==(l=l.props)||!l[eQ]))}As(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Ls()||this.Ns("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ns(a){return"never"===this.config.person_profiles?(ed.error(a+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.zs(eQ,!0),!0)}Is(){if("always"===this.config.cookieless_mode)return!0;var a=this.consent.isOptedOut(),l=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||a&&!!l}Us(){var a,l,u,c,d=this.Is();return(null==(a=this.persistence)?void 0:a.Ae)!==d&&(null==(u=this.persistence)||u.set_disabled(d)),(null==(l=this.sessionPersistence)?void 0:l.Ae)!==d&&(null==(c=this.sessionPersistence)||c.set_disabled(d)),d}opt_in_capturing(a){if("always"!==this.config.cookieless_mode){var l;"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Go(this),this.persistence&&(this.sessionPropsManager=new Ho(this,this.sessionManager,this.persistence)),this.sessionRecording=new cs(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Us(),(R(null==a?void 0:a.captureEventName)||null!=a&&a.captureEventName)&&this.capture(null!==(l=null==a?void 0:a.captureEventName)&&void 0!==l?l:"$opt_in",null==a?void 0:a.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Fs()}else ed.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var a;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Us(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:e1,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(a=this.sessionRecording)||a.stopRecording(),this.sessionRecording=void 0,this.Fs())):ed.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Us()}_is_bot(){return g?Qo(g,this.config.custom_blocked_useragents):void 0}Fs(){_&&("visible"===_.visibilityState?this.ws||(this.ws=!0,this.capture("$pageview",{title:_.title},{send_instantly:!0}),this.Ss&&(_.removeEventListener("visibilitychange",this.Ss),this.Ss=null)):this.Ss||(this.Ss=this.Fs.bind(this),st(_,"visibilitychange",this.Ss)))}debug(a){!1===a?(null==u||u.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==u||u.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var a,l,u,c,d=this.ks||{};return"advanced_disable_flags"in d?!!d.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(ed.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(l="advanced_disable_decide",u=(a="advanced_disable_flags")in d&&!R(d[a]),c=l in d&&!R(d[l]),u?d[a]:!!c&&(ed&&ed.warn("Config field '"+l+"' is deprecated. Please use '"+a+"' instead. The old field will be removed in a future major version."),d[l]))}js(a){if(O(this.config.before_send))return a;var l=ec(this.config.before_send)?this.config.before_send:[this.config.before_send],u=a;for(var c of l){if(O(u=c(u))){var d="Event '"+a.event+"' was rejected in beforeSend function";return j(a.event)?ed.warn(d+". This can cause unexpected behavior."):ed.info(d),null}u.properties&&!P(u.properties)||ed.warn("Event '"+a.event+"' has no properties after beforeSend function, this is likely an error.")}return u}getPageViewId(){var a;return null==(a=this.pageViewManager.ce)?void 0:a.pageViewId}captureTraceFeedback(a,l){this.capture("$ai_feedback",{$ai_trace_id:String(a),$ai_feedback_text:l})}captureTraceMetric(a,l,u){this.capture("$ai_metric",{$ai_trace_id:String(a),$ai_metric_name:l,$ai_metric_value:String(u)})}};!function(a,l){for(var u=0;u<l.length;u++)a.prototype[l[u]]=Q(a.prototype[l[u]])}(fa,["identify"]);var iX,iZ,iQ,i0=(iQ=iY[iJ]=new fa,function(){function i(){i.done||(i.done=!0,iK=!1,J(iY,function(a){a._dom_loaded()}))}null!=_&&_.addEventListener?"complete"===_.readyState?i():st(_,"DOMContentLoaded",i,{capture:!1}):u&&ed.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),iQ);l.ZP=i0},57615:(a,l,u)=>{"use strict";u.d(l,{ZP:()=>i1});var c="undefined"!=typeof window?window:void 0,d="undefined"!=typeof globalThis?globalThis:c,p=Array.prototype,f=p.forEach,g=p.indexOf,_=null==d?void 0:d.navigator,v=null==d?void 0:d.document,w=null==d?void 0:d.location,S=null==d?void 0:d.fetch,x=null!=d&&d.XMLHttpRequest&&"withCredentials"in new d.XMLHttpRequest?d.XMLHttpRequest:void 0,k=null==d?void 0:d.AbortController,$=null==_?void 0:_.userAgent,N=null!=c?c:{},U={DEBUG:!1,LIB_VERSION:"1.260.2"},z="$copy_autocapture",W=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],er=function(a){return a.GZipJS="gzip-js",a.Base64="base64",a}({}),en=["fatal","error","warning","log","info","debug"];function m(a,l){return -1!==a.indexOf(l)}var b=function(a){return a.trim()},y=function(a){return a.replace(/^\$/,"")},ea=Array.isArray,el=Object.prototype,eu=el.hasOwnProperty,ec=el.toString,ed=ea||function(a){return"[object Array]"===ec.call(a)},E=a=>"function"==typeof a,I=a=>a===Object(a)&&!ed(a),P=a=>{if(I(a)){for(var l in a)if(eu.call(a,l))return!1;return!0}return!1},R=a=>void 0===a,T=a=>"[object String]"==ec.call(a),C=a=>T(a)&&0===a.trim().length,M=a=>null===a,F=a=>R(a)||M(a),O=a=>"[object Number]"==ec.call(a),A=a=>"[object Boolean]"===ec.call(a),D=a=>a instanceof FormData,j=a=>m(W,a),L=a=>{var l={t:function(l){if(c&&(U.DEBUG||N.POSTHOG_DEBUG)&&!R(c.console)&&c.console){for(var u=("__rrweb_original__"in c.console[l])?c.console[l].__rrweb_original__:c.console[l],d=arguments.length,p=Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];u(a,...p)}},info:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.t("log",...u)},warn:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.t("warn",...u)},error:function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];l.t("error",...u)},critical:function(){for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];console.error(a,...u)},uninitializedWarning:a=>{l.error("You must initialize PostHog before calling "+a)},createLogger:l=>L(a+" "+l)};return l},eh=L("[PostHog.js]"),ep=eh.createLogger,ef=ep("[ExternalScriptsLoader]"),q=(a,l,u)=>{if(a.config.disable_external_dependency_loading)return ef.warn(l+" was requested but loading of external scripts is disabled."),u("Loading of external scripts is disabled");var c=null==v?void 0:v.querySelectorAll("script");if(c){for(var d=0;d<c.length;d++)if(c[d].src===l)return u()}var n=()=>{if(!v)return u("document not found");var c=v.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=l,c.onload=a=>u(void 0,a),c.onerror=a=>u(a),a.config.prepare_external_dependency_script&&(c=a.config.prepare_external_dependency_script(c)),!c)return u("prepare_external_dependency_script returned null");var d,p=v.querySelectorAll("body > script");p.length>0?null==(d=p[0].parentNode)||d.insertBefore(c,p[0]):v.body.appendChild(c)};null!=v&&v.body?n():null==v||v.addEventListener("DOMContentLoaded",n)};function B(){return(B=Object.assign?Object.assign.bind():function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)({}).hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a}).apply(null,arguments)}function H(a,l){if(null==a)return{};var u={};for(var c in a)if(({}).hasOwnProperty.call(a,c)){if(-1!==l.indexOf(c))continue;u[c]=a[c]}return u}N.__PosthogExtensions__=N.__PosthogExtensions__||{},N.__PosthogExtensions__.loadExternalDependency=(a,l,u)=>{var c="/static/"+l+".js?v="+a.version;"remote-config"===l&&(c="/array/"+a.config.token+"/config.js"),"toolbar"===l&&(c=c+"&t="+3e5*Math.floor(Date.now()/3e5));var d=a.requestRouter.endpointFor("assets",c);q(a,d,u)},N.__PosthogExtensions__.loadSiteApp=(a,l,u)=>{var c=a.requestRouter.endpointFor("api",l);q(a,c,u)};var eg={};function G(a,l,u){if(ed(a)){if(f&&a.forEach===f)a.forEach(l,u);else if("length"in a&&a.length===+a.length){for(var c=0,d=a.length;c<d;c++)if(c in a&&l.call(u,a[c],c)===eg)return}}}function J(a,l,u){if(!F(a)){if(ed(a))return G(a,l,u);if(D(a)){for(var c of a.entries())if(l.call(u,c[1],c[0])===eg)return}else for(var d in a)if(eu.call(a,d)&&l.call(u,a[d],d)===eg)return}}var V=function(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return G(u,function(l){for(var u in l)void 0!==l[u]&&(a[u]=l[u])}),a},K=function(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return G(u,function(l){G(l,function(l){a.push(l)})}),a};function Y(a){for(var l=Object.keys(a),u=l.length,c=Array(u);u--;)c[u]=[l[u],a[l[u]]];return c}var X=function(a){try{return a()}catch(a){return}},Q=function(a){return function(){try{for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a.apply(this,u)}catch(a){eh.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),eh.critical(a)}}},Z=function(a){var l={};return J(a,function(a,u){(T(a)&&a.length>0||O(a))&&(l[u]=a)}),l};function tt(a,l){var u,c;return u=a=>T(a)&&!M(l)?a.slice(0,l):a,c=new Set,function t(a,l){var d;return a!==Object(a)?u?u(a,l):a:c.has(a)?void 0:(c.add(a),ed(a)?(d=[],G(a,a=>{d.push(t(a))})):(d={},J(a,(a,l)=>{c.has(a)||(d[l]=t(a,l))})),d)}(a)}var e_=["herokuapp.com","vercel.app","netlify.app"];function et(a){var l=null==a?void 0:a.hostname;if(!T(l))return!1;var u=l.split(".").slice(-2).join(".");for(var c of e_)if(u===c)return!1;return!0}function rt(a,l){for(var u=0;u<a.length;u++)if(l(a[u]))return a[u]}function st(a,l,u,c){var{capture:d=!1,passive:p=!0}=null!=c?c:{};null==a||a.addEventListener(l,u,{capture:d,passive:p})}var ev="$people_distinct_id",em="__alias",ey="__timers",eb="$autocapture_disabled_server_side",ew="$heatmaps_enabled_server_side",eS="$exception_capture_enabled_server_side",eE="$error_tracking_suppression_rules",ex="$error_tracking_capture_extension_exceptions",eR="$web_vitals_enabled_server_side",eP="$dead_clicks_enabled_server_side",ek="$web_vitals_allowed_metrics",eO="$session_recording_enabled_server_side",eT="$console_log_recording_enabled_server_side",eA="$session_recording_network_payload_capture",eI="$session_recording_masking",eC="$session_recording_canvas_recording",eM="$replay_sample_rate",eF="$replay_minimum_duration",ej="$replay_script_config",e$="$sesid",eN="$session_is_sampled",eL="$session_recording_url_trigger_activated_session",eD="$session_recording_event_trigger_activated_session",eB="$enabled_feature_flags",eU="$early_access_features",eH="$feature_flag_details",eq="$stored_person_properties",ez="$stored_group_properties",eV="$surveys",eG="$surveys_activated",eW="$flag_call_reported",eY="$user_state",eJ="$client_session_props",eK="$capture_rate_limit",eX="$initial_campaign_params",eZ="$initial_referrer_info",eQ="$initial_person_info",e0="$epp",e1="__POSTHOG_TOOLBAR__",e2="$posthog_cookieless",e3=[ev,em,"__cmpns",ey,eO,ew,e$,eB,eE,eY,eU,eH,ez,eq,eV,eW,eJ,eK,eX,eZ,e0,eQ];function Gt(a){return a instanceof Element&&(a.id===e1||!(null==a.closest||!a.closest(".toolbar-global-fade-container")))}function Jt(a){return!!a&&1===a.nodeType}function Vt(a,l){return!!a&&!!a.tagName&&a.tagName.toLowerCase()===l.toLowerCase()}function Kt(a){return!!a&&3===a.nodeType}function Yt(a){return!!a&&11===a.nodeType}function Xt(a){return a?b(a).split(/\s+/):[]}function Qt(a){var l=null==c?void 0:c.location.href;return!!(l&&a&&a.some(a=>l.match(a)))}function Zt(a){var l="";switch(typeof a.className){case"string":l=a.className;break;case"object":l=(a.className&&"baseVal"in a.className?a.className.baseVal:null)||a.getAttribute("class")||"";break;default:l=""}return Xt(l)}function ti(a){return F(a)?null:b(a).split(/(\s+)/).filter(a=>fi(a)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ii(a){var l="";return oi(a)&&!ai(a)&&a.childNodes&&a.childNodes.length&&J(a.childNodes,function(a){var u;Kt(a)&&a.textContent&&(l+=null!==(u=ti(a.textContent))&&void 0!==u?u:"")}),b(l)}function ei(a){var l;return R(a.target)?a.srcElement||null:null!=(l=a.target)&&l.shadowRoot?a.composedPath()[0]||null:a.target||null}var e5=["a","button","form","input","select","textarea","label"];function si(a){var l=a.parentNode;return!(!l||!Jt(l))&&l}function ni(a,l,u,d,p){if(void 0===u&&(u=void 0),!c||!a||Vt(a,"html")||!Jt(a)||null!=(f=u)&&f.url_allowlist&&!Qt(u.url_allowlist)||null!=(g=u)&&g.url_ignorelist&&Qt(u.url_ignorelist))return!1;if(null!=(_=u)&&_.dom_event_allowlist){var f,g,_,v=u.dom_event_allowlist;if(v&&!v.some(a=>l.type===a))return!1}for(var w=!1,S=[a],x=!0,k=a;k.parentNode&&!Vt(k,"body");)if(Yt(k.parentNode))S.push(k.parentNode.host),k=k.parentNode.host;else{if(!(x=si(k)))break;if(d||e5.indexOf(x.tagName.toLowerCase())>-1)w=!0;else{var $=c.getComputedStyle(x);$&&"pointer"===$.getPropertyValue("cursor")&&(w=!0)}S.push(x),k=x}if(!function(a,l){var u=null==l?void 0:l.element_allowlist;if(R(u))return!0;var c,s=function(a){if(u.some(l=>a.tagName.toLowerCase()===l))return{v:!0}};for(var d of a)if(c=s(d))return c.v;return!1}(S,u)||!function(a,l){var u=null==l?void 0:l.css_selector_allowlist;if(R(u))return!0;var c,s=function(a){if(u.some(l=>a.matches(l)))return{v:!0}};for(var d of a)if(c=s(d))return c.v;return!1}(S,u))return!1;var N=c.getComputedStyle(a);if(N&&"pointer"===N.getPropertyValue("cursor")&&"click"===l.type)return!0;var U=a.tagName.toLowerCase();switch(U){case"html":return!1;case"form":return(p||["submit"]).indexOf(l.type)>=0;case"input":case"select":case"textarea":return(p||["change","click"]).indexOf(l.type)>=0;default:return w?(p||["click"]).indexOf(l.type)>=0:(p||["click"]).indexOf(l.type)>=0&&(e5.indexOf(U)>-1||"true"===a.getAttribute("contenteditable"))}}function oi(a){for(var l=a;l.parentNode&&!Vt(l,"body");l=l.parentNode){var u=Zt(l);if(m(u,"ph-sensitive")||m(u,"ph-no-capture"))return!1}if(m(Zt(a),"ph-include"))return!0;var c=a.type||"";if(T(c))switch(c.toLowerCase()){case"hidden":case"password":return!1}var d=a.name||a.id||"";return!(T(d)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(d.replace(/[^a-zA-Z0-9]/g,"")))}function ai(a){return!!(Vt(a,"input")&&!["button","checkbox","submit","reset"].includes(a.type)||Vt(a,"select")||Vt(a,"textarea")||"true"===a.getAttribute("contenteditable"))}var e6="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",e4=RegExp("^(?:"+e6+")$"),e8=new RegExp(e6),e9="\\d{3}-?\\d{2}-?\\d{4}",e7=RegExp("^("+e9+")$"),tn=RegExp("("+e9+")");function fi(a,l){return void 0===l&&(l=!0),!(F(a)||T(a)&&(a=b(a),(l?e4:e8).test((a||"").replace(/[- ]/g,""))||(l?e7:tn).test(a)))}function pi(a){var l=ii(a);return fi(l=(l+" "+_i(a)).trim())?l:""}function _i(a){var l="";return a&&a.childNodes&&a.childNodes.length&&J(a.childNodes,function(a){var u;if(a&&"span"===(null==(u=a.tagName)?void 0:u.toLowerCase()))try{var c=ii(a);l=(l+" "+c).trim(),a.childNodes&&a.childNodes.length&&(l=(l+" "+_i(a)).trim())}catch(a){eh.error("[AutoCapture]",a)}}),l}function gi(a){return a.map(a=>{var l,u,c={text:null==(l=a.$el_text)?void 0:l.slice(0,400),tag_name:a.tag_name,href:null==(u=a.attr__href)?void 0:u.slice(0,2048),attr_class:bi(a),attr_id:a.attr__id,nth_child:a.nth_child,nth_of_type:a.nth_of_type,attributes:{}};return Y(a).filter(a=>{var[l]=a;return 0===l.indexOf("attr__")}).forEach(a=>{var[l,u]=a;return c.attributes[l]=u}),c}).map(a=>{var l,u,c="";if(a.tag_name&&(c+=a.tag_name),a.attr_class)for(var d of(a.attr_class.sort(),a.attr_class))c+="."+d.replace(/"/g,"");var p=B({},a.text?{text:a.text}:{},{"nth-child":null!==(l=a.nth_child)&&void 0!==l?l:0,"nth-of-type":null!==(u=a.nth_of_type)&&void 0!==u?u:0},a.href?{href:a.href}:{},a.attr_id?{attr_id:a.attr_id}:{},a.attributes),f={};return Y(p).sort((a,l)=>{var[u]=a,[c]=l;return u.localeCompare(c)}).forEach(a=>{var[l,u]=a;return f[mi(l.toString())]=mi(u.toString())}),c+=":"+Y(f).map(a=>{var[l,u]=a;return l+'="'+u+'"'}).join("")}).join(";")}function mi(a){return a.replace(/"|\\"/g,'\\"')}function bi(a){var l=a.attr__class;return l?ed(l)?l:Xt(l):void 0}let yi=class yi{constructor(){this.clicks=[]}isRageClick(a,l,u){var c=this.clicks[this.clicks.length-1];if(c&&Math.abs(a-c.x)+Math.abs(l-c.y)<30&&u-c.timestamp<1e3){if(this.clicks.push({x:a,y:l,timestamp:u}),3===this.clicks.length)return!0}else this.clicks=[{x:a,y:l,timestamp:u}];return!1}};var ta=["localhost","127.0.0.1"],Si=a=>{var l=null==v?void 0:v.createElement("a");return R(l)?null:(l.href=a,l)},$i=function(a,l){void 0===l&&(l="&");var u,c,d=[];return J(a,function(a,l){R(a)||R(l)||"undefined"===l||(u=encodeURIComponent(a instanceof File?a.name:a.toString()),c=encodeURIComponent(l),d[d.length]=c+"="+u)}),d.join(l)},xi=function(a,l){for(var u,c=((a.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),d=0;d<c.length;d++){var p=c[d].split("=");if(p[0]===l){u=p;break}}if(!ed(u)||u.length<2)return"";var f=u[1];try{f=decodeURIComponent(f)}catch(a){eh.error("Skipping decoding for malformed query param: "+f)}return f.replace(/\+/g," ")},ki=function(a,l,u){if(!a||!l||!l.length)return a;for(var c=a.split("#"),d=c[0]||"",p=c[1],f=d.split("?"),g=f[1],_=f[0],v=(g||"").split("&"),w=[],S=0;S<v.length;S++){var x=v[S].split("=");ed(x)&&(l.includes(x[0])?w.push(x[0]+"="+u):w.push(v[S]))}var k=_;return null!=g&&(k+="?"+w.join("&")),null!=p&&(k+="#"+p),k},Ei=function(a,l){var u=a.match(RegExp(l+"=([^&]*)"));return u?u[1]:null},tl=ep("[AutoCapture]");function Pi(a,l){return l.length>a?l.slice(0,a)+"...":l}function Ri(a){if(a.previousElementSibling)return a.previousElementSibling;var l=a;do l=l.previousSibling;while(l&&!Jt(l));return l}function Ti(a,l,u,c){var d=a.tagName.toLowerCase(),p={tag_name:d};e5.indexOf(d)>-1&&!u&&("a"===d.toLowerCase()||"button"===d.toLowerCase()?p.$el_text=Pi(1024,pi(a)):p.$el_text=Pi(1024,ii(a)));var f=Zt(a);f.length>0&&(p.classes=f.filter(function(a){return""!==a})),J(a.attributes,function(u){var d;if((!ai(a)||-1!==["name","id","class","aria-label"].indexOf(u.name))&&(null==c||!c.includes(u.name))&&!l&&fi(u.value)&&(!T(d=u.name)||"_ngcontent"!==d.substring(0,10)&&"_nghost"!==d.substring(0,7))){var f=u.value;"class"===u.name&&(f=Xt(f).join(" ")),p["attr__"+u.name]=Pi(1024,f)}});for(var g=1,_=1,v=a;v=Ri(v);)g++,v.tagName===a.tagName&&_++;return p.nth_child=g,p.nth_of_type=_,p}function Ci(a,l){for(var u,d,{e:p,maskAllElementAttributes:f,maskAllText:g,elementAttributeIgnoreList:_,elementsChainAsString:v}=l,w=[a],S=a;S.parentNode&&!Vt(S,"body");)Yt(S.parentNode)?(w.push(S.parentNode.host),S=S.parentNode.host):(w.push(S.parentNode),S=S.parentNode);var x,k=[],$={},N=!1,U=!1;if(J(w,a=>{var l=oi(a);"a"===a.tagName.toLowerCase()&&(N=a.getAttribute("href"),N=l&&N&&fi(N)&&N),m(Zt(a),"ph-no-capture")&&(U=!0),k.push(Ti(a,f,g,_)),V($,function(a){if(!oi(a))return{};var l={};return J(a.attributes,function(a){if(a.name&&0===a.name.indexOf("data-ph-capture-attribute")){var u=a.name.replace("data-ph-capture-attribute-",""),c=a.value;u&&c&&fi(c)&&(l[u]=c)}}),l}(a))}),U)return{props:{},explicitNoCapture:U};if(g||("a"===a.tagName.toLowerCase()||"button"===a.tagName.toLowerCase()?k[0].$el_text=pi(a):k[0].$el_text=ii(a)),N){k[0].attr__href=N;var z,W,er=null==(z=Si(N))?void 0:z.host,en=null==c||null==(W=c.location)?void 0:W.host;er&&en&&er!==en&&(x=N)}return{props:V({$event_type:p.type,$ce_version:1},v?{}:{$elements:k},{$elements_chain:gi(k)},null!=(u=k[0])&&u.$el_text?{$el_text:null==(d=k[0])?void 0:d.$el_text}:{},x&&"click"===p.type?{$external_click_url:x}:{},$)}}let Mi=class Mi{constructor(a){this.i=!1,this.o=null,this.rageclicks=new yi,this.h=!1,this.instance=a,this.m=null}get S(){var a,l,u=I(this.instance.config.autocapture)?this.instance.config.autocapture:{};return u.url_allowlist=null==(a=u.url_allowlist)?void 0:a.map(a=>new RegExp(a)),u.url_ignorelist=null==(l=u.url_ignorelist)?void 0:l.map(a=>new RegExp(a)),u}$(){if(this.isBrowserSupported()){if(c&&v){var i=a=>{a=a||(null==c?void 0:c.event);try{this.k(a)}catch(a){tl.error("Failed to capture event",a)}};if(st(v,"submit",i,{capture:!0}),st(v,"change",i,{capture:!0}),st(v,"click",i,{capture:!0}),this.S.capture_copied_text){var e=a=>{a=a||(null==c?void 0:c.event),this.k(a,z)};st(v,"copy",e,{capture:!0}),st(v,"cut",e,{capture:!0})}}}else tl.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(a){a.elementsChainAsString&&(this.h=a.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[eb]:!!a.autocapture_opt_out}),this.o=!!a.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(a){this.m=a}getElementSelectors(a){var l,u=[];return null==(l=this.m)||l.forEach(l=>{var c=null==v?void 0:v.querySelectorAll(l);null==c||c.forEach(c=>{a===c&&u.push(l)})}),u}get isEnabled(){var a,l,u=null==(a=this.instance.persistence)?void 0:a.props[eb];if(M(this.o)&&!A(u)&&!this.instance.I())return!1;var c=null!==(l=this.o)&&void 0!==l?l:!!u;return!!this.instance.config.autocapture&&!c}k(a,l){if(void 0===l&&(l="$autocapture"),this.isEnabled){var u,d=ei(a);Kt(d)&&(d=d.parentNode||null),"$autocapture"===l&&"click"===a.type&&a instanceof MouseEvent&&this.instance.config.rageclick&&null!=(u=this.rageclicks)&&u.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.k(a,"$rageclick");var p=l===z;if(d&&ni(d,a,this.S,p,p?["copy","cut"]:void 0)){var{props:f,explicitNoCapture:g}=Ci(d,{e:a,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(g)return!1;var _=this.getElementSelectors(d);if(_&&_.length>0&&(f.$element_selectors=_),l===z){var v,w=ti(null==c||null==(v=c.getSelection())?void 0:v.toString()),S=a.type||"clipboard";if(!w)return!1;f.$selected_content=w,f.$copy_type=S}return this.instance.capture(l,f),!0}}}isBrowserSupported(){return E(null==v?void 0:v.querySelectorAll)}};Math.trunc||(Math.trunc=function(a){return a<0?Math.ceil(a):Math.floor(a)}),Number.isInteger||(Number.isInteger=function(a){return O(a)&&isFinite(a)&&Math.floor(a)===a});var tu="0123456789abcdef";let Oi=class Oi{constructor(a){if(this.bytes=a,16!==a.length)throw TypeError("not 128-bit length")}static fromFieldsV7(a,l,u,c){if(!Number.isInteger(a)||!Number.isInteger(l)||!Number.isInteger(u)||!Number.isInteger(c)||a<0||l<0||u<0||c<0||a>0xffffffffffff||l>4095||u>1073741823||c>4294967295)throw RangeError("invalid field value");var d=new Uint8Array(16);return d[0]=a/1099511627776,d[1]=a/4294967296,d[2]=a/16777216,d[3]=a/65536,d[4]=a/256,d[5]=a,d[6]=112|l>>>8,d[7]=l,d[8]=128|u>>>24,d[9]=u>>>16,d[10]=u>>>8,d[11]=u,d[12]=c>>>24,d[13]=c>>>16,d[14]=c>>>8,d[15]=c,new Oi(d)}toString(){for(var a="",l=0;l<this.bytes.length;l++)a=a+tu.charAt(this.bytes[l]>>>4)+tu.charAt(15&this.bytes[l]),3!==l&&5!==l&&7!==l&&9!==l||(a+="-");if(36!==a.length)throw Error("Invalid UUIDv7 was generated");return a}clone(){return new Oi(this.bytes.slice(0))}equals(a){return 0===this.compareTo(a)}compareTo(a){for(var l=0;l<16;l++){var u=this.bytes[l]-a.bytes[l];if(0!==u)return Math.sign(u)}return 0}};let Ai=class Ai{constructor(){this.P=0,this.R=0,this.T=new Li}generate(){var a=this.generateOrAbort();if(R(a)){this.P=0;var l=this.generateOrAbort();if(R(l))throw Error("Could not generate UUID after timestamp reset");return l}return a}generateOrAbort(){var a=Date.now();if(a>this.P)this.P=a,this.C();else{if(!(a+1e4>this.P))return;this.R++,this.R>4398046511103&&(this.P++,this.C())}return Oi.fromFieldsV7(this.P,Math.trunc(this.R/1073741824),1073741823&this.R,this.T.nextUint32())}C(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}};var tc,ji=a=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var l=0;l<a.length;l++)a[l]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return a};c&&!R(c.crypto)&&crypto.getRandomValues&&(ji=a=>crypto.getRandomValues(a));let Li=class Li{constructor(){this.M=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.M.length&&(ji(this.M),this.F=0),this.M[this.F++]}};var Ni=()=>zi().toString(),zi=()=>(tc||(tc=new Ai)).generate(),td="",th=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Bi(a,l){if(l){var u=function(a,l){if(void 0===l&&(l=v),td)return td;if(!l||["localhost","127.0.0.1"].includes(a))return"";for(var u=a.split("."),c=Math.min(u.length,8),d="dmn_chk_"+Ni();!td&&c--;){var p=u.slice(c).join("."),f=d+"=1;domain=."+p+";path=/";l.cookie=f+";max-age=3",l.cookie.includes(d)&&(l.cookie=f+";max-age=0",td=p)}return td}(a);if(!u){var c,d=(c=a.match(th))?c[0]:"";d!==u&&eh.info("Warning: cookie subdomain discovery mismatch",d,u),u=d}return u?"; domain=."+u:""}return""}var tp={O:()=>!!v,A:function(a){eh.error("cookieStore error: "+a)},D:function(a){if(v){try{for(var l=a+"=",u=v.cookie.split(";").filter(a=>a.length),c=0;c<u.length;c++){for(var d=u[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(l))return decodeURIComponent(d.substring(l.length,d.length))}}catch(a){}return null}},j:function(a){var l;try{l=JSON.parse(tp.D(a))||{}}catch(a){}return l},L:function(a,l,u,c,d){if(v)try{var p="",f="",g=Bi(v.location.hostname,c);if(u){var _=new Date;_.setTime(_.getTime()+24*u*36e5),p="; expires="+_.toUTCString()}d&&(f="; secure");var w=a+"="+encodeURIComponent(JSON.stringify(l))+p+"; SameSite=Lax; path=/"+g+f;return w.length>3686.4&&eh.warn("cookieStore warning: large cookie, len="+w.length),v.cookie=w,w}catch(a){return}},N:function(a,l){if(null!=v&&v.cookie)try{tp.L(a,"",-1,l)}catch(a){return}}},tf=null,tg={O:function(){if(!M(tf))return tf;var a=!0;if(R(c))a=!1;else try{var l="__mplssupport__";tg.L(l,"xyz"),'"xyz"'!==tg.D(l)&&(a=!1),tg.N(l)}catch(l){a=!1}return a||eh.error("localStorage unsupported; falling back to cookie store"),tf=a,a},A:function(a){eh.error("localStorage error: "+a)},D:function(a){try{return null==c?void 0:c.localStorage.getItem(a)}catch(a){tg.A(a)}return null},j:function(a){try{return JSON.parse(tg.D(a))||{}}catch(a){}return null},L:function(a,l){try{null==c||c.localStorage.setItem(a,JSON.stringify(l))}catch(a){tg.A(a)}},N:function(a){try{null==c||c.localStorage.removeItem(a)}catch(a){tg.A(a)}}},t_=["distinct_id",e$,eN,e0,eQ],tv=B({},tg,{j:function(a){try{var l={};try{l=tp.j(a)||{}}catch(a){}var u=V(l,JSON.parse(tg.D(a)||"{}"));return tg.L(a,u),u}catch(a){}return null},L:function(a,l,u,c,d,p){try{tg.L(a,l,void 0,void 0,p);var f={};t_.forEach(a=>{l[a]&&(f[a]=l[a])}),Object.keys(f).length&&tp.L(a,f,u,c,d,p)}catch(a){tg.A(a)}},N:function(a,l){try{null==c||c.localStorage.removeItem(a),tp.N(a,l)}catch(a){tg.A(a)}}}),tm={},ty={O:function(){return!0},A:function(a){eh.error("memoryStorage error: "+a)},D:function(a){return tm[a]||null},j:function(a){return tm[a]||null},L:function(a,l){tm[a]=l},N:function(a){delete tm[a]}},tb=null,tw={O:function(){if(!M(tb))return tb;if(tb=!0,R(c))tb=!1;else try{var a="__support__";tw.L(a,"xyz"),'"xyz"'!==tw.D(a)&&(tb=!1),tw.N(a)}catch(a){tb=!1}return tb},A:function(a){eh.error("sessionStorage error: ",a)},D:function(a){try{return null==c?void 0:c.sessionStorage.getItem(a)}catch(a){tw.A(a)}return null},j:function(a){try{return JSON.parse(tw.D(a))||null}catch(a){}return null},L:function(a,l){try{null==c||c.sessionStorage.setItem(a,JSON.stringify(l))}catch(a){tw.A(a)}},N:function(a){try{null==c||c.sessionStorage.removeItem(a)}catch(a){tw.A(a)}}},tS=function(a){return a[a.PENDING=-1]="PENDING",a[a.DENIED=0]="DENIED",a[a.GRANTED=1]="GRANTED",a}({});let te=class te{constructor(a){this._instance=a}get S(){return this._instance.config}get consent(){return this.U()?tS.DENIED:this.q}isOptedOut(){return"always"===this.S.cookieless_mode||this.consent===tS.DENIED||this.consent===tS.PENDING&&(this.S.opt_out_capturing_by_default||"on_reject"===this.S.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===tS.DENIED}optInOut(a){this.B.L(this.H,a?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:a,opt_out_capturing_cookie_prefix:l,consent_persistence_name:u}=this._instance.config;return u||(l?l+a:"__ph_opt_in_out_"+a)}get q(){var a=this.B.D(this.H);return"1"===a?tS.GRANTED:"0"===a?tS.DENIED:tS.PENDING}get B(){if(!this.W){var a=this.S.opt_out_capturing_persistence_type;this.W="localStorage"===a?tg:tp;var l="localStorage"===a?tp:tg;l.D(this.H)&&(this.W.D(this.H)||this.optInOut("1"===l.D(this.H)),l.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!rt([null==_?void 0:_.doNotTrack,null==_?void 0:_.msDoNotTrack,N.doNotTrack],a=>m([!0,1,"1","yes"],a))}};var tE=ep("[Dead Clicks]"),ee=()=>!0,re=a=>{var l,u=!(null==(l=a.instance.persistence)||!l.get_property(eP)),c=a.instance.config.capture_dead_clicks;return A(c)?c:u};let se=class se{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(a,l,u){this.instance=a,this.isEnabled=l,this.onCapture=u,this.startIfEnabled()}onRemoteConfig(a){this.instance.persistence&&this.instance.persistence.register({[eP]:null==a?void 0:a.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(a){var l,u;null!=(l=N.__PosthogExtensions__)&&l.initDeadClicksAutocapture&&a(),null==(u=N.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this.instance,"dead-clicks-autocapture",l=>{l?tE.error("failed to load script",l):a()})}V(){var a;if(v){if(!this.G&&null!=(a=N.__PosthogExtensions__)&&a.initDeadClicksAutocapture){var l=I(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};l.__onCapture=this.onCapture,this.G=N.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,l),this.G.start(v),tE.info("starting...")}}else tE.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,tE.info("stopping..."))}};function ne(a,l,u,c,d){return l>u&&(eh.warn("min cannot be greater than max."),l=u),O(a)?a>u?(c&&eh.warn(c+" cannot be  greater than max: "+u+". Using max value instead."),u):a<l?(c&&eh.warn(c+" cannot be less than min: "+l+". Using min value instead."),l):a:(c&&eh.warn(c+" must be a number. using max or fallback. max: "+u+", fallback: "+d),ne(d||u,l,u,c))}let oe=class oe{constructor(a){this.K={},this.Y=()=>{Object.keys(this.K).forEach(a=>{var l=this.X(a)+this.Z;l>=this.tt?delete this.K[a]:this.it(a,l)})},this.X=a=>this.K[String(a)],this.it=(a,l)=>{this.K[String(a)]=l},this.consumeRateLimit=a=>{var l,u=null!==(l=this.X(a))&&void 0!==l?l:this.tt;if(0===(u=Math.max(u-1,0)))return!0;this.it(a,u);var c,d=0===u;return d&&(null==(c=this.et)||c.call(this,a)),d},this.rt=a,this.et=this.rt.et,this.tt=ne(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=ne(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=ne(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}};var tx=ep("[ExceptionAutocapture]");let le=class le{constructor(a){var l,u,d;this.nt=()=>{var a;if(c&&this.isEnabled&&null!=(a=N.__PosthogExtensions__)&&a.errorWrappingFunctions){var l=N.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,u=N.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,d=N.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=l(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=u(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=d(this.captureException.bind(this)))}catch(a){tx.error("failed to start",a),this.ht()}}},this._instance=a,this.dt=!(null==(l=this._instance.persistence)||!l.props[eS]),this.S=this.vt(),this.ct=new oe({refillRate:null!==(u=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==u?u:1,bucketSize:null!==(d=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==d?d:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var a=this._instance.config.capture_exceptions,l={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return I(a)?l=B({},l,a):(R(a)?this.dt:a)&&(l=B({},l,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),l}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(tx.info("enabled"),this.J(this.nt))}J(a){var l,u;null!=(l=N.__PosthogExtensions__)&&l.errorWrappingFunctions&&a(),null==(u=N.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"exception-autocapture",l=>{if(l)return tx.error("failed to load script",l);a()})}ht(){var a,l,u;null==(a=this.ot)||a.call(this),this.ot=void 0,null==(l=this.lt)||l.call(this),this.lt=void 0,null==(u=this.ut)||u.call(this),this.ut=void 0}onRemoteConfig(a){var l=a.autocaptureExceptions;this.dt=!!l,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[eS]:this.dt}),this.startIfEnabled()}captureException(a){var l,u=this._instance.requestRouter.endpointFor("ui");a.$exception_personURL=u+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var c=null!==(l=a.$exception_list[0].type)&&void 0!==l?l:"Exception";this.ct.consumeRateLimit(c)?tx.info("Skipping exception capture because of client rate limiting.",{exception:a.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(a)}};function ue(a){return!R(Event)&&he(a,Event)}function he(a,l){try{return a instanceof l}catch(a){return!1}}function de(a){switch(Object.prototype.toString.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return he(a,Error)}}function ve(a,l){return Object.prototype.toString.call(a)==="[object "+l+"]"}function ce(a){return ve(a,"DOMError")}var tR=/\(error: (.*)\)/;function ge(a,l,u,c){var d={platform:"web:javascript",filename:a,function:"<anonymous>"===l?"?":l,in_app:!0};return R(u)||(d.lineno=u),R(c)||(d.colno=c),d}var tP=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tk=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tO=/\((\S*)(?::(\d+))(?::(\d+))\)/,tT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tA=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tI=function(){for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=l.sort((a,l)=>a[0]-l[0]).map(a=>a[1]);return function(a,l){void 0===l&&(l=0);for(var u=[],d=a.split("\n"),p=l;p<d.length;p++){var f=d[p];if(!(f.length>1024)){var g=tR.test(f)?f.replace(tR,"$1"):f;if(!g.match(/\S*Error: /)){for(var _ of c){var v=_(g);if(v){u.push(v);break}}if(u.length>=50)break}}}return function(a){if(!a.length)return[];var l=Array.from(a);return l.reverse(),l.slice(0,50).map(a=>B({},a,{filename:a.filename||xe(l).filename,function:a.function||"?"}))}(u)}}(...[[30,a=>{var l=tP.exec(a);if(l){var[,u,c,d]=l;return ge(u,"?",+c,+d)}var p=tk.exec(a);if(p){if(p[2]&&0===p[2].indexOf("eval")){var f=tO.exec(p[2]);f&&(p[2]=f[1],p[3]=f[2],p[4]=f[3])}var[g,_]=Pe(p[1]||"?",p[2]);return ge(_,g,p[3]?+p[3]:void 0,p[4]?+p[4]:void 0)}}],[50,a=>{var l=tT.exec(a);if(l){if(l[3]&&l[3].indexOf(" > eval")>-1){var u=tA.exec(l[3]);u&&(l[1]=l[1]||"eval",l[3]=u[1],l[4]=u[2],l[5]="")}var c=l[3],d=l[1]||"?";return[d,c]=Pe(d,c),ge(c,d,l[4]?+l[4]:void 0,l[5]?+l[5]:void 0)}}]]);function xe(a){return a[a.length-1]||{}}var tC,tM,tF,Pe=(a,l)=>{var u=-1!==a.indexOf("safari-extension"),c=-1!==a.indexOf("safari-web-extension");return u||c?[-1!==a.indexOf("@")?a.split("@")[0]:"?",u?"safari-extension:"+l:"safari-web-extension:"+l]:[a,l]},tj=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Te(a,l){void 0===l&&(l=0);var u=a.stacktrace||a.stack||"",c=a&&t$.test(a.message)?1:0;try{var d,p,f=(d=tI(u,c),p=function(a){var l=globalThis._posthogChunkIds;if(!l)return{};var u=Object.keys(l);return tF&&u.length===tM||(tM=u.length,tF=u.reduce((u,c)=>{tC||(tC={});var d=tC[c];if(d)u[d[0]]=d[1];else for(var p=a(c),f=p.length-1;f>=0;f--){var g=p[f],_=null==g?void 0:g.filename,v=l[c];if(_&&v){u[_]=v,tC[c]=[_,v];break}}return u},{})),tF}(tI),d.forEach(a=>{a.filename&&(a.chunk_id=p[a.filename])}),d);return f.slice(0,f.length-l)}catch(a){}return[]}var t$=/Minified React error #\d+;/i;function Me(a,l){var u,c,d,p=Te(a),f=null===(c=null==l?void 0:l.handled)||void 0===c||c,g=null!==(d=null==l?void 0:l.synthetic)&&void 0!==d&&d;return{type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:a.name,value:(u=a.message).error&&"string"==typeof u.error.message?String(u.error.message):String(u),stacktrace:{frames:p,type:"raw"},mechanism:{handled:f,synthetic:g}}}function Fe(a,l){var u=Me(a,l);return a.cause&&de(a.cause)&&a.cause!==a?[u,...Fe(a.cause,{handled:null==l?void 0:l.handled,synthetic:null==l?void 0:l.synthetic})]:[u]}function Oe(a,l){return{$exception_list:Fe(a,l),$exception_level:"error"}}function Ae(a,l){var u,c,d,p=null===(u=null==l?void 0:l.handled)||void 0===u||u,f=null===(c=null==l?void 0:l.synthetic)||void 0===c||c,g={type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:null!==(d=null==l?void 0:l.defaultExceptionType)&&void 0!==d?d:"Error",value:a||(null==l?void 0:l.defaultExceptionMessage),mechanism:{handled:p,synthetic:f}};if(null!=l&&l.syntheticException){var _=Te(l.syntheticException,1);_.length&&(g.stacktrace={frames:_,type:"raw"})}return{$exception_list:[g],$exception_level:"error"}}function De(a){return T(a)&&!C(a)&&en.indexOf(a)>=0}function je(a,l){var u,c,d=null===(u=null==l?void 0:l.handled)||void 0===u||u,p=null===(c=null==l?void 0:l.synthetic)||void 0===c||c,f={type:null!=l&&l.overrideExceptionType?l.overrideExceptionType:ue(a)?a.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(a,l){void 0===l&&(l=40);var u=Object.keys(a);if(u.sort(),!u.length)return"[object has no keys]";for(var c=u.length;c>0;c--){var d=u.slice(0,c).join(", ");if(!(d.length>l))return c===u.length||d.length<=l?d:d.slice(0,l)+"..."}return""}(a),mechanism:{handled:d,synthetic:p}};if(null!=l&&l.syntheticException){var g=Te(null==l?void 0:l.syntheticException,1);g.length&&(f.stacktrace={frames:g,type:"raw"})}return{$exception_list:[f],$exception_level:De(a.level)?a.level:"error"}}function Le(a,l){var{error:u,event:c}=a,d={$exception_list:[]},p=u||c;if(ce(p)||ve(p,"DOMException")){if("stack"in p)d=Oe(p,l);else{var f=p.name||(ce(p)?"DOMError":"DOMException"),g=p.message?f+": "+p.message:f;d=Ae(g,B({},l,{overrideExceptionType:ce(p)?"DOMError":"DOMException",defaultExceptionMessage:g}))}return"code"in p&&(d.$exception_DOMException_code=""+p.code),d}if(ve(p,"ErrorEvent")&&p.error)return Oe(p.error,l);if(de(p))return Oe(p,l);if(ve(p,"Object")||ue(p))return je(p,l);if(R(u)&&T(c)){var _="Error",v=c,w=c.match(tj);return w&&(_=w[1],v=w[2]),Ae(v,B({},l,{overrideExceptionType:_,defaultExceptionMessage:v}))}return Ae(p,l)}function Ne(a,l,u){try{if(!(l in a))return()=>{};var c=a[l],d=u(c);return E(d)&&(d.prototype=d.prototype||{},Object.defineProperties(d,{__posthog_wrapped__:{enumerable:!1,value:!0}})),a[l]=d,()=>{a[l]=c}}catch(a){return()=>{}}}let ze=class ze{constructor(a){var l;this._instance=a,this.ft=(null==c||null==(l=c.location)?void 0:l.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(eh.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this._t&&this._t(),this._t=void 0,eh.info("History API monitoring stopped")}monitorHistoryChanges(){var a,l;if(c&&c.history){var u=this;null!=(a=c.history.pushState)&&a.__posthog_wrapped__||Ne(c.history,"pushState",a=>function(l,c,d){a.call(this,l,c,d),u.gt("pushState")}),null!=(l=c.history.replaceState)&&l.__posthog_wrapped__||Ne(c.history,"replaceState",a=>function(l,c,d){a.call(this,l,c,d),u.gt("replaceState")}),this.bt()}}gt(a){try{var l,u=null==c||null==(l=c.location)?void 0:l.pathname;if(!u)return;u!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:a}),this.ft=u}catch(l){eh.error("Error capturing "+a+" pageview",l)}}bt(){if(!this._t){var i=()=>{this.gt("popstate")};st(c,"popstate",i),this._t=()=>{c&&c.removeEventListener("popstate",i)}}}};function Ue(a){var l,u;return(null==(l=JSON.stringify(a,(u=[],function(a,l){if(I(l)){for(;u.length>0&&u[u.length-1]!==this;)u.pop();return u.includes(l)?"[Circular]":(u.push(l),l)}return l})))?void 0:l.length)||0}function qe(a,l){if(void 0===l&&(l=6606028.8),a.size>=l&&a.data.length>1){var u=Math.floor(a.data.length/2),c=a.data.slice(0,u),d=a.data.slice(u);return[qe({size:Ue(c),data:c,sessionId:a.sessionId,windowId:a.windowId}),qe({size:Ue(d),data:d,sessionId:a.sessionId,windowId:a.windowId})].flatMap(a=>a)}return[a]}var tN=((iZ=tN||{})[iZ.DomContentLoaded=0]="DomContentLoaded",iZ[iZ.Load=1]="Load",iZ[iZ.FullSnapshot=2]="FullSnapshot",iZ[iZ.IncrementalSnapshot=3]="IncrementalSnapshot",iZ[iZ.Meta=4]="Meta",iZ[iZ.Custom=5]="Custom",iZ[iZ.Plugin=6]="Plugin",iZ),tL=((iQ=tL||{})[iQ.Mutation=0]="Mutation",iQ[iQ.MouseMove=1]="MouseMove",iQ[iQ.MouseInteraction=2]="MouseInteraction",iQ[iQ.Scroll=3]="Scroll",iQ[iQ.ViewportResize=4]="ViewportResize",iQ[iQ.Input=5]="Input",iQ[iQ.TouchMove=6]="TouchMove",iQ[iQ.MediaInteraction=7]="MediaInteraction",iQ[iQ.StyleSheetRule=8]="StyleSheetRule",iQ[iQ.CanvasMutation=9]="CanvasMutation",iQ[iQ.Font=10]="Font",iQ[iQ.Log=11]="Log",iQ[iQ.Drag=12]="Drag",iQ[iQ.StyleDeclaration=13]="StyleDeclaration",iQ[iQ.Selection=14]="Selection",iQ[iQ.AdoptedStyleSheet=15]="AdoptedStyleSheet",iQ[iQ.CustomElement=16]="CustomElement",iQ),tD="[SessionRecording]",tB="redacted",tU={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:a=>a,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},tH=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],tq=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],tz=["/s/","/e/","/i/"];function Xe(a,l,u,c){if(F(a))return a;var d=(null==l?void 0:l["content-length"])||new Blob([a]).size;return T(d)&&(d=parseInt(d)),d>u?tD+" "+c+" body too large to record ("+d+" bytes)":a}function Qe(a,l){if(F(a))return a;var u=a;return fi(u,!1)||(u=tD+" "+l+" body "+tB),J(tq,a=>{var c,d;null!=(c=u)&&c.length&&-1!==(null==(d=u)?void 0:d.indexOf(a))&&(u=tD+" "+l+" body "+tB+" as might contain: "+a)}),u}var Ze=(a,l)=>{var u,c,d={payloadSizeLimitBytes:tU.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...tU.performanceEntryTypeToObserve],payloadHostDenyList:[...l.payloadHostDenyList||[],...tU.payloadHostDenyList]},p=!1!==a.session_recording.recordHeaders&&l.recordHeaders,f=!1!==a.session_recording.recordBody&&l.recordBody,g=!1!==a.capture_performance&&l.recordPerformance,_=(c=Math.min(1e6,null!==(u=d.payloadSizeLimitBytes)&&void 0!==u?u:1e6),a=>(null!=a&&a.requestBody&&(a.requestBody=Xe(a.requestBody,a.requestHeaders,c,"Request")),null!=a&&a.responseBody&&(a.responseBody=Xe(a.responseBody,a.responseHeaders,c,"Response")),a)),h=l=>{var u;return _(((a,l)=>{var u,c=Si(a.name),d=0===l.indexOf("http")?null==(u=Si(l))?void 0:u.pathname:l;"/"===d&&(d="");var p=null==c?void 0:c.pathname.replace(d||"","");if(!(c&&p&&tz.some(a=>0===p.indexOf(a))))return a})((F(u=l.requestHeaders)||J(Object.keys(null!=u?u:{}),a=>{tH.includes(a.toLowerCase())&&(u[a]=tB)}),l),a.api_host))},v=E(a.session_recording.maskNetworkRequestFn);return v&&E(a.session_recording.maskCapturedNetworkRequestFn)&&eh.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),v&&(a.session_recording.maskCapturedNetworkRequestFn=l=>{var u=a.session_recording.maskNetworkRequestFn({url:l.name});return B({},l,{name:null==u?void 0:u.url})}),d.maskRequestFn=E(a.session_recording.maskCapturedNetworkRequestFn)?l=>{var u,c=h(l);return c&&null!==(u=null==a.session_recording.maskCapturedNetworkRequestFn?void 0:a.session_recording.maskCapturedNetworkRequestFn(c))&&void 0!==u?u:void 0}:a=>(function(a){if(!R(a))return a.requestBody=Qe(a.requestBody,"Request"),a.responseBody=Qe(a.responseBody,"Response"),a})(h(a)),B({},tU,d,{recordHeaders:p,recordBody:f,recordPerformance:g,recordInitialRequests:g})};let tr=class tr{constructor(a,l){var u,c;void 0===l&&(l={}),this.yt={},this.wt=a=>{if(!this.yt[a]){this.yt[a]=!0;var l,u,c=this.St(a);null==(l=(u=this.rt).onBlockedNode)||l.call(u,a,c)}},this.$t=a=>{var l=this.St(a);if("svg"!==(null==l?void 0:l.nodeName)&&l instanceof Element){var u=l.closest("svg");if(u)return[this._rrweb.mirror.getId(u),u]}return[a,l]},this.St=a=>this._rrweb.mirror.getNode(a),this.xt=a=>{var l,u,c,d,p,f,g,_;return(null!==(l=null==(u=a.removes)?void 0:u.length)&&void 0!==l?l:0)+(null!==(c=null==(d=a.attributes)?void 0:d.length)&&void 0!==c?c:0)+(null!==(p=null==(f=a.texts)?void 0:f.length)&&void 0!==p?p:0)+(null!==(g=null==(_=a.adds)?void 0:_.length)&&void 0!==g?g:0)},this.throttleMutations=a=>{if(3!==a.type||0!==a.data.source)return a;var l=a.data,u=this.xt(l);l.attributes&&(l.attributes=l.attributes.filter(a=>{var[l]=this.$t(a.id);return!this.ct.consumeRateLimit(l)&&a}));var c=this.xt(l);return 0!==c||u===c?a:void 0},this._rrweb=a,this.rt=l,this.ct=new oe({bucketSize:null!==(u=this.rt.bucketSize)&&void 0!==u?u:100,refillRate:null!==(c=this.rt.refillRate)&&void 0!==c?c:10,refillInterval:1e3,et:this.wt})}};var tV=Uint8Array,tG=Uint16Array,tW=Uint32Array,tY=new tV([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tJ=new tV([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tK=new tV([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ar=function(a,l){for(var u=new tG(31),c=0;c<31;++c)u[c]=l+=1<<a[c-1];var d=new tW(u[30]);for(c=1;c<30;++c)for(var p=u[c];p<u[c+1];++p)d[p]=p-u[c]<<5|c;return[u,d]},tX=ar(tY,2),tZ=tX[0],tQ=tX[1];tZ[28]=258,tQ[258]=28;for(var t0=ar(tJ,0)[1],t1=new tG(32768),t2=0;t2<32768;++t2){var t3=(43690&t2)>>>1|(21845&t2)<<1;t3=(61680&(t3=(52428&t3)>>>2|(13107&t3)<<2))>>>4|(3855&t3)<<4,t1[t2]=((65280&t3)>>>8|(255&t3)<<8)>>>1}var pr=function(a,l,u){for(var c=a.length,d=0,p=new tG(l);d<c;++d)++p[a[d]-1];var f,g=new tG(l);for(d=0;d<l;++d)g[d]=g[d-1]+p[d-1]<<1;if(u){f=new tG(1<<l);var _=15-l;for(d=0;d<c;++d)if(a[d])for(var v=d<<4|a[d],w=l-a[d],S=g[a[d]-1]++<<w,x=S|(1<<w)-1;S<=x;++S)f[t1[S]>>>_]=v}else for(f=new tG(c),d=0;d<c;++d)f[d]=t1[g[a[d]-1]++]>>>15-a[d];return f},t5=new tV(288);for(t2=0;t2<144;++t2)t5[t2]=8;for(t2=144;t2<256;++t2)t5[t2]=9;for(t2=256;t2<280;++t2)t5[t2]=7;for(t2=280;t2<288;++t2)t5[t2]=8;var t6=new tV(32);for(t2=0;t2<32;++t2)t6[t2]=5;var t4=pr(t5,9,0),t8=pr(t6,5,0),yr=function(a){return(a/8>>0)+(7&a&&1)},wr=function(a,l,u){(null==u||u>a.length)&&(u=a.length);var c=new(a instanceof tG?tG:a instanceof tW?tW:tV)(u-l);return c.set(a.subarray(l,u)),c},Sr=function(a,l,u){u<<=7&l;var c=l/8>>0;a[c]|=u,a[c+1]|=u>>>8},$r=function(a,l,u){u<<=7&l;var c=l/8>>0;a[c]|=u,a[c+1]|=u>>>8,a[c+2]|=u>>>16},xr=function(a,l){for(var u=[],c=0;c<a.length;++c)a[c]&&u.push({s:c,f:a[c]});var d=u.length,p=u.slice();if(!d)return[new tV(0),0];if(1==d){var f=new tV(u[0].s+1);return f[u[0].s]=1,[f,1]}u.sort(function(a,l){return a.f-l.f}),u.push({s:-1,f:25001});var g=u[0],_=u[1],v=0,w=1,S=2;for(u[0]={s:-1,f:g.f+_.f,l:g,r:_};w!=d-1;)g=u[u[v].f<u[S].f?v++:S++],_=u[v!=w&&u[v].f<u[S].f?v++:S++],u[w++]={s:-1,f:g.f+_.f,l:g,r:_};var x=p[0].s;for(c=1;c<d;++c)p[c].s>x&&(x=p[c].s);var k=new tG(x+1),$=kr(u[w-1],k,0);if($>l){c=0;var N=0,U=$-l,z=1<<U;for(p.sort(function(a,l){return k[l.s]-k[a.s]||a.f-l.f});c<d;++c){var W=p[c].s;if(!(k[W]>l))break;N+=z-(1<<$-k[W]),k[W]=l}for(N>>>=U;N>0;){var er=p[c].s;k[er]<l?N-=1<<l-k[er]++-1:++c}for(;c>=0&&N;--c){var en=p[c].s;k[en]==l&&(--k[en],++N)}$=l}return[new tV(k),$]},kr=function(a,l,u){return -1==a.s?Math.max(kr(a.l,l,u+1),kr(a.r,l,u+1)):l[a.s]=u},Er=function(a){for(var l=a.length;l&&!a[--l];);for(var u=new tG(++l),c=0,d=a[0],p=1,o=function(a){u[c++]=a},f=1;f<=l;++f)if(a[f]==d&&f!=l)++p;else{if(!d&&p>2){for(;p>138;p-=138)o(32754);p>2&&(o(p>10?p-11<<5|28690:p-3<<5|12305),p=0)}else if(p>3){for(o(d),--p;p>6;p-=6)o(8304);p>2&&(o(p-3<<5|8208),p=0)}for(;p--;)o(d);p=1,d=a[f]}return[u.subarray(0,c),l]},Ir=function(a,l){for(var u=0,c=0;c<l.length;++c)u+=a[c]*l[c];return u},Pr=function(a,l,u){var c=u.length,d=yr(l+2);a[d]=255&c,a[d+1]=c>>>8,a[d+2]=255^a[d],a[d+3]=255^a[d+1];for(var p=0;p<c;++p)a[d+p+4]=u[p];return 8*(d+4+c)},Rr=function(a,l,u,c,d,p,f,g,_,v,w){Sr(l,w++,u),++d[256];for(var S=xr(d,15),x=S[0],k=S[1],$=xr(p,15),N=$[0],U=$[1],z=Er(x),W=z[0],er=z[1],en=Er(N),ea=en[0],el=en[1],eu=new tG(19),ec=0;ec<W.length;++ec)eu[31&W[ec]]++;for(ec=0;ec<ea.length;++ec)eu[31&ea[ec]]++;for(var ed=xr(eu,7),eh=ed[0],ep=ed[1],ef=19;ef>4&&!eh[tK[ef-1]];--ef);var eg,e_,ev,em,ey=v+5<<3,eb=Ir(d,t5)+Ir(p,t6)+f,ew=Ir(d,x)+Ir(p,N)+f+14+3*ef+Ir(eu,eh)+(2*eu[16]+3*eu[17]+7*eu[18]);if(ey<=eb&&ey<=ew)return Pr(l,w,a.subarray(_,_+v));if(Sr(l,w,1+(ew<eb)),w+=2,ew<eb){eg=pr(x,k,0),e_=x,ev=pr(N,U,0),em=N;var eS=pr(eh,ep,0);for(Sr(l,w,er-257),Sr(l,w+5,el-1),Sr(l,w+10,ef-4),w+=14,ec=0;ec<ef;++ec)Sr(l,w+3*ec,eh[tK[ec]]);w+=3*ef;for(var eE=[W,ea],ex=0;ex<2;++ex){var eR=eE[ex];for(ec=0;ec<eR.length;++ec){var eP=31&eR[ec];Sr(l,w,eS[eP]),w+=eh[eP],eP>15&&(Sr(l,w,eR[ec]>>>5&127),w+=eR[ec]>>>12)}}}else eg=t4,e_=t5,ev=t8,em=t6;for(ec=0;ec<g;++ec)if(c[ec]>255){$r(l,w,eg[(eP=c[ec]>>>18&31)+257]),w+=e_[eP+257],eP>7&&(Sr(l,w,c[ec]>>>23&31),w+=tY[eP]);var ek=31&c[ec];$r(l,w,ev[ek]),w+=em[ek],ek>3&&($r(l,w,c[ec]>>>5&8191),w+=tJ[ek])}else $r(l,w,eg[c[ec]]),w+=e_[c[ec]];return $r(l,w,eg[256]),w+e_[256]},t9=new tW([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),t7=function(){for(var a=new tW(256),l=0;l<256;++l){for(var u=l,c=9;--c;)u=(1&u&&3988292384)^u>>>1;a[l]=u}return a}(),Mr=function(){var a=4294967295;return{p:function(l){for(var u=a,c=0;c<l.length;++c)u=t7[255&u^l[c]]^u>>>8;a=u},d:function(){return 4294967295^a}}},Or=function(a,l,u){for(;u;++l)a[l]=u,u>>>=8},Ar=function(a,l){var u=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:9==l.level?2:0,a[9]=3,0!=l.mtime&&Or(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),u){a[3]=8;for(var c=0;c<=u.length;++c)a[c+10]=u.charCodeAt(c)}};function jr(a,l){void 0===l&&(l={});var u,c,d,p=Mr(),f=a.length;p.p(a);var g=(c=l,d=10+((u=l).filename&&u.filename.length+1||0),function(a,l,u,c,d,p){var f=a.length,g=new tV(c+f+5*(1+Math.floor(f/7e3))+d),_=g.subarray(c,g.length-d),v=0;if(!l||f<8)for(var w=0;w<=f;w+=65535){var S=w+65535;S<f?v=Pr(_,v,a.subarray(w,S)):(_[w]=p,v=Pr(_,v,a.subarray(w,f)))}else{for(var x=t9[l-1],k=x>>>13,$=8191&x,N=(1<<u)-1,U=new tG(32768),z=new tG(N+1),W=Math.ceil(u/3),er=2*W,y=function(l){return(a[l]^a[l+1]<<W^a[l+2]<<er)&N},en=new tW(25e3),ea=new tG(288),el=new tG(32),eu=0,ec=0,ed=(w=0,0),eh=0,ep=0;w<f;++w){var ef=y(w),eg=32767&w,e_=z[ef];if(U[eg]=e_,z[ef]=eg,eh<=w){var ev=f-w;if((eu>7e3||ed>24576)&&ev>423){v=Rr(a,_,0,en,ea,el,ec,ed,ep,w-ep,v),ed=eu=ec=0,ep=w;for(var em=0;em<286;++em)ea[em]=0;for(em=0;em<30;++em)el[em]=0}var ey=2,eb=0,ew=$,eS=eg-e_&32767;if(ev>2&&ef==y(w-eS))for(var eE=Math.min(k,ev)-1,ex=Math.min(32767,w),eR=Math.min(258,ev);eS<=ex&&--ew&&eg!=e_;){if(a[w+ey]==a[w+ey-eS]){for(var eP=0;eP<eR&&a[w+eP]==a[w+eP-eS];++eP);if(eP>ey){if(ey=eP,eb=eS,eP>eE)break;var ek=Math.min(eS,eP-2),eO=0;for(em=0;em<ek;++em){var eT=w-eS+em+32768&32767,eA=eT-U[eT]+32768&32767;eA>eO&&(eO=eA,e_=eT)}}}eS+=(eg=e_)-(e_=U[eg])+32768&32767}if(eb){en[ed++]=268435456|tQ[ey]<<18|t0[eb];var eI=31&tQ[ey],eC=31&t0[eb];ec+=tY[eI]+tJ[eC],++ea[257+eI],++el[eC],eh=w+ey,++eu}else en[ed++]=a[w],++ea[a[w]]}}v=Rr(a,_,p,en,ea,el,ec,ed,ep,w-ep,v)}return wr(g,0,c+yr(v)+d)}(a,null==c.level?6:c.level,null==c.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+c.mem,d,8,!0)),_=g.length;return Ar(g,l),Or(g,_-8,p.d()),Or(g,_-4,f),g}function Lr(a,l){var u=a.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(a);for(var c=new tV(a.length+(a.length>>>1)),d=0,n=function(a){c[d++]=a},p=0;p<u;++p){if(d+5>c.length){var f=new tV(d+8+(u-p<<1));f.set(c),c=f}var g=a.charCodeAt(p);g<128||l?n(g):(g<2048?n(192|g>>>6):(g>55295&&g<57344?(n(240|(g=65536+(1047552&g)|1023&a.charCodeAt(++p))>>>18),n(128|g>>>12&63)):n(224|g>>>12),n(128|g>>>6&63)),n(128|63&g))}return wr(c,0,d)}function Nr(a,l){return function(a){for(var l=0,u=0;u<a.length;u++)l=(l<<5)-l+a.charCodeAt(u)|0;return Math.abs(l)}(a)%100<ne(100*l,0,100)}var rr="disabled",ri="sampled",rn="active",rl="buffering",ru="paused",rc="trigger",rd=rc+"_activated",rh=rc+"_pending",rp=rc+"_"+rr;function Kr(a,l){return l.some(l=>"regex"===l.matching&&new RegExp(l.url).test(a))}let Yr=class Yr{constructor(a){this.kt=a}triggerStatus(a){var l=this.kt.map(l=>l.triggerStatus(a));return l.includes(rd)?rd:l.includes(rh)?rh:rp}stop(){this.kt.forEach(a=>a.stop())}};let Xr=class Xr{constructor(a){this.kt=a}triggerStatus(a){var l=new Set;for(var u of this.kt)l.add(u.triggerStatus(a));switch(l.delete(rp),l.size){case 0:return rp;case 1:return Array.from(l)[0];default:return rh}}stop(){this.kt.forEach(a=>a.stop())}};let Qr=class Qr{triggerStatus(){return rh}stop(){}};let Zr=class Zr{constructor(a){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=a}onRemoteConfig(a){var l,u;this.Et=(null==(l=a.sessionRecording)?void 0:l.urlTriggers)||[],this.It=(null==(u=a.sessionRecording)?void 0:u.urlBlocklist)||[]}Pt(a){var l;return 0===this.Et.length?rp:(null==(l=this._instance)?void 0:l.get_property(eL))===a?rd:rh}triggerStatus(a){var l=this.Pt(a),u=l===rd?rd:l===rh?rh:rp;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:u}),u}checkUrlTriggerConditions(a,l,u){if(void 0!==c&&c.location.href){var d=c.location.href,p=this.urlBlocked,f=Kr(d,this.It);p&&f||(f&&!p?a():!f&&p&&l(),Kr(d,this.Et)&&u("url"))}}stop(){}};let ts=class ts{constructor(a){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=a}triggerStatus(){var a=rh;return F(this.linkedFlag)&&(a=rp),this.linkedFlagSeen&&(a=rd),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:a}),a}onRemoteConfig(a,l){var u;if(this.linkedFlag=(null==(u=a.sessionRecording)?void 0:u.linkedFlag)||null,!F(this.linkedFlag)&&!this.linkedFlagSeen){var c=T(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,d=T(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((a,u)=>{var p=!1;if(I(u)&&c in u){var f=u[c];p=A(f)?!0===f:d?f===d:!!f}this.linkedFlagSeen=p,p&&l(c,d)})}}stop(){this.Rt()}};let is=class is{constructor(a){this.Tt=[],this._instance=a}onRemoteConfig(a){var l;this.Tt=(null==(l=a.sessionRecording)?void 0:l.eventTriggers)||[]}Ct(a){var l;return 0===this.Tt.length?rp:(null==(l=this._instance)?void 0:l.get_property(eD))===a?rd:rh}triggerStatus(a){var l=this.Ct(a),u=l===rd?rd:l===rh?rh:rp;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:u}),u}stop(){}};function es(a){return a.isRecordingEnabled?rl:rr}function rs(a){if(!a.receivedFlags)return rl;if(!a.isRecordingEnabled)return rr;if(a.urlTriggerMatching.urlBlocked)return ru;var l=!0===a.isSampled,u=new Yr([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId);return l?ri:u===rd?rn:u===rh?rl:!1===a.isSampled?rr:rn}function ss(a){if(!a.receivedFlags)return rl;if(!a.isRecordingEnabled)return rr;if(a.urlTriggerMatching.urlBlocked)return ru;var l=new Xr([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId),u=l!==rp,c=A(a.isSampled);return u&&l===rh?rl:u&&l===rp||c&&!a.isSampled?rr:!0===a.isSampled?ri:rn}var rf="[SessionRecording]",rg=ep(rf);function as(){var a;return null==N||null==(a=N.__PosthogExtensions__)||null==(a=a.rrweb)?void 0:a.record}var r_=[tL.MouseMove,tL.MouseInteraction,tL.Scroll,tL.ViewportResize,tL.Input,tL.TouchMove,tL.MediaInteraction,tL.Drag],hs=a=>({rrwebMethod:a,enqueuedAt:Date.now(),attempt:1});function ds(a){return function(a,l){for(var u="",c=0;c<a.length;){var d=a[c++];d<128||l?u+=String.fromCharCode(d):d<224?u+=String.fromCharCode((31&d)<<6|63&a[c++]):d<240?u+=String.fromCharCode((15&d)<<12|(63&a[c++])<<6|63&a[c++]):u+=String.fromCharCode(55296|(d=((15&d)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536)>>10,56320|1023&d)}return u}(jr(Lr(JSON.stringify(a))),!0)}function vs(a){return a.type===tN.Custom&&"sessionIdle"===a.data.tag}let cs=class cs{get sessionId(){return this.Mt}get Ft(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get At(){if(!this._instance.sessionManager)throw Error(rf+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var a,l;return this.jt.triggerStatus(this.sessionId)===rh?6e4:null!==(a=null==(l=this._instance.config.session_recording)?void 0:l.full_snapshot_interval_millis)&&void 0!==a?a:3e5}get Lt(){var a=this._instance.get_property(eN);return A(a)?a:null}get Nt(){var a,l,u=null==(a=this.M)?void 0:a.data[(null==(l=this.M)?void 0:l.data.length)-1],{sessionStartTimestamp:c}=this.At.checkAndGetSessionAndWindowId(!0);return u?u.timestamp-c:null}get zt(){var a=!!this._instance.get_property(eO),l=!this._instance.config.disable_session_recording;return c&&a&&l}get Ut(){var a=!!this._instance.get_property(eT),l=this._instance.config.enable_recording_console_log;return null!=l?l:a}get qt(){var a,l,u,c,d,p,f=this._instance.config.session_recording.captureCanvas,g=this._instance.get_property(eC),_=null!==(a=null!==(l=null==f?void 0:f.recordCanvas)&&void 0!==l?l:null==g?void 0:g.enabled)&&void 0!==a&&a,v=null!==(u=null!==(c=null==f?void 0:f.canvasFps)&&void 0!==c?c:null==g?void 0:g.fps)&&void 0!==u?u:4,w=null!==(d=null!==(p=null==f?void 0:f.canvasQuality)&&void 0!==p?p:null==g?void 0:g.quality)&&void 0!==d?d:.4;if("string"==typeof w){var S=parseFloat(w);w=isNaN(S)?.4:S}return{enabled:_,fps:ne(v,0,12,"canvas recording fps",4),quality:ne(w,0,1,"canvas recording quality",.4)}}get Bt(){var a,l,u=this._instance.get_property(eA),c={recordHeaders:null==(a=this._instance.config.session_recording)?void 0:a.recordHeaders,recordBody:null==(l=this._instance.config.session_recording)?void 0:l.recordBody},d=(null==c?void 0:c.recordHeaders)||(null==u?void 0:u.recordHeaders),p=(null==c?void 0:c.recordBody)||(null==u?void 0:u.recordBody),f=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,g=!!(A(f)?f:null==u?void 0:u.capturePerformance);return d||p||g?{recordHeaders:d,recordBody:p,recordPerformance:g}:void 0}get Ht(){var a,l,u,c,d,p,f=this._instance.get_property(eI),g={maskAllInputs:null==(a=this._instance.config.session_recording)?void 0:a.maskAllInputs,maskTextSelector:null==(l=this._instance.config.session_recording)?void 0:l.maskTextSelector,blockSelector:null==(u=this._instance.config.session_recording)?void 0:u.blockSelector},_=null!==(c=null==g?void 0:g.maskAllInputs)&&void 0!==c?c:null==f?void 0:f.maskAllInputs,v=null!==(d=null==g?void 0:g.maskTextSelector)&&void 0!==d?d:null==f?void 0:f.maskTextSelector,w=null!==(p=null==g?void 0:g.blockSelector)&&void 0!==p?p:null==f?void 0:f.blockSelector;return R(_)&&R(v)&&R(w)?void 0:{maskAllInputs:null==_||_,maskTextSelector:v,blockSelector:w}}get Wt(){var a=this._instance.get_property(eM);return O(a)?a:null}get Gt(){var a=this._instance.get_property(eF);return O(a)?a:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.Lt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):rl}constructor(a){if(this.Vt=es,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.jt=new Qr,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(null!=v&&v.visibilityState){var a="window "+v.visibilityState;this.ui(a,{})}},this._instance=a,this.Ot=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw rg.error("started without valid sessionManager"),Error(rf+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw Error(rf+' cannot be used with cookieless_mode="always"');this.Xt=new ts(this._instance),this.Kt=new Zr(this._instance),this.Yt=new is(this._instance);var{sessionId:l,windowId:u}=this.At.checkAndGetSessionAndWindowId();this.Mt=l,this.fi=u,this.M=this.pi(),this.Ft>=this.At.sessionTimeoutMs&&rg.warn("session_idle_threshold_ms ("+this.Ft+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(a){this.zt?(this.gi(a),st(c,"beforeunload",this.oi),st(c,"offline",this.li),st(c,"online",this.hi),st(c,"visibilitychange",this.di),this.mi(),this.bi(),F(this.ii)&&(this.ii=this._instance.on("eventCaptured",a=>{try{if("$pageview"===a.event){var l=null!=a&&a.properties.$current_url?this.yi(null==a?void 0:a.properties.$current_url):"";if(!l)return;this.ui("$pageview",{href:l})}}catch(a){rg.error("Could not add $pageview to rrweb session",a)}})),this.ei||(this.ei=this.At.onSessionId((a,l,u)=>{var c,d;u&&(this.ui("$session_id_change",{sessionId:a,windowId:l,changeReason:u}),null==(c=this._instance)||null==(c=c.persistence)||c.unregister(eD),null==(d=this._instance)||null==(d=d.persistence)||d.unregister(eL))}))):this.stopRecording()}stopRecording(){var a,l,u,d;this.Ot&&this.ci&&(this.ci(),this.ci=void 0,this.Ot=!1,null==c||c.removeEventListener("beforeunload",this.oi),null==c||c.removeEventListener("offline",this.li),null==c||c.removeEventListener("online",this.hi),null==c||c.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),null==(a=this.ii)||a.call(this),this.ii=void 0,null==(l=this.ni)||l.call(this),this.ni=void 0,null==(u=this.ei)||u.call(this),this.ei=void 0,null==(d=this.si)||d.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),rg.info("stopped"))}Si(){var a;null==(a=this._instance.persistence)||a.unregister(eN)}$i(a){var l,u=this.Mt!==a,c=this.Wt;if(O(c)){var d=this.Lt,p=u||!A(d),f=p?Nr(a,c):d;p&&(f?this.xi(ri):rg.warn("Sample rate ("+c+") has determined that this sessionId ("+a+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:c,isSampled:f})),null==(l=this._instance.persistence)||l.register({[eN]:f})}else this.Si()}onRemoteConfig(a){var l,u,c,d;this.ui("$remote_config_received",a),this.ki(a),null!=(l=a.sessionRecording)&&l.endpoint&&(this.vi=null==(d=a.sessionRecording)?void 0:d.endpoint),this.mi(),"any"===(null==(u=a.sessionRecording)?void 0:u.triggerMatchType)?(this.Vt=rs,this.jt=new Yr([this.Yt,this.Kt])):(this.Vt=ss,this.jt=new Xr([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(c=a.sessionRecording)?void 0:c.triggerMatchType}),this.Kt.onRemoteConfig(a),this.Yt.onRemoteConfig(a),this.Xt.onRemoteConfig(a,(a,l)=>{this.xi("linked_flag_matched",{flag:a,variant:l})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){O(this.Wt)&&F(this.si)&&(this.si=this.At.onSessionId(a=>{this.$i(a)}))}ki(a){if(this._instance.persistence){var l,u=this._instance.persistence,r=()=>{var l,c,d,p,f,g,_,v,w,S=null==(l=a.sessionRecording)?void 0:l.sampleRate,x=F(S)?null:parseFloat(S);F(x)&&this.Si();var k=null==(c=a.sessionRecording)?void 0:c.minimumDurationMilliseconds;u.register({[eO]:!!a.sessionRecording,[eT]:null==(d=a.sessionRecording)?void 0:d.consoleLogRecordingEnabled,[eA]:B({capturePerformance:a.capturePerformance},null==(p=a.sessionRecording)?void 0:p.networkPayloadCapture),[eI]:null==(f=a.sessionRecording)?void 0:f.masking,[eC]:{enabled:null==(g=a.sessionRecording)?void 0:g.recordCanvas,fps:null==(_=a.sessionRecording)?void 0:_.canvasFps,quality:null==(v=a.sessionRecording)?void 0:v.canvasQuality},[eM]:x,[eF]:R(k)?null:k,[ej]:null==(w=a.sessionRecording)?void 0:w.scriptConfig})};r(),null==(l=this.ri)||l.call(this),this.ri=this.At.onSessionId(r)}}log(a,l){var u;void 0===l&&(l="log"),null==(u=this._instance.sessionRecording)||u.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:l,trace:[],payload:[JSON.stringify(a)]}},timestamp:Date.now()})}gi(a){if(!R(Object.assign)&&!R(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var l;(this.Ot=!0,this.At.checkAndGetSessionAndWindowId(),as())?this.Ei():null==(l=N.__PosthogExtensions__)||null==l.loadExternalDependency||l.loadExternalDependency(this._instance,this.Ii,a=>{if(a)return rg.error("could not load recorder",a);this.Ei()}),rg.info("starting"),this.status===rn&&this.xi(a||"recording_initialized")}}get Ii(){var a;return(null==(a=this._instance)||null==(a=a.persistence)||null==(a=a.get_property(ej))?void 0:a.script)||"recorder"}Pi(a){var l;return 3===a.type&&-1!==r_.indexOf(null==(l=a.data)?void 0:l.source)}Ri(a){var l=this.Pi(a);l||this.Zt||a.timestamp-this.ti>this.Ft&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:a.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ft,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.ai());var u=!1;if(l&&(this.ti=a.timestamp,this.Zt)){var c="unknown"===this.Zt;this.Zt=!1,c||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:a.type}),u=!0)}if(!this.Zt){var{windowId:d,sessionId:p}=this.At.checkAndGetSessionAndWindowId(!l,a.timestamp),f=this.Mt!==p,g=this.fi!==d;this.fi=d,this.Mt=p,f||g?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):u&&this.Ti()}}Ci(a){try{return a.rrwebMethod(),!0}catch(l){return this.Qt.length<10?this.Qt.push({enqueuedAt:a.enqueuedAt||Date.now(),attempt:a.attempt++,rrwebMethod:a.rrwebMethod}):rg.warn("could not emit queued rrweb event.",l,a),!1}}ui(a,l){return this.Ci(hs(()=>as().addCustomEvent(a,l)))}Mi(){return this.Ci(hs(()=>as().takeFullSnapshot()))}Ei(){var a,l,u,c,d={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[p,f]of Object.entries(this._instance.config.session_recording||{}))p in d&&("maskInputOptions"===p?d.maskInputOptions=B({password:!0},f):d[p]=f);this.qt&&this.qt.enabled&&(d.recordCanvas=!0,d.sampling={canvas:this.qt.fps},d.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(d.maskAllInputs=null===(l=this.Ht.maskAllInputs)||void 0===l||l,d.maskTextSelector=null!==(u=this.Ht.maskTextSelector)&&void 0!==u?u:void 0,d.blockSelector=null!==(c=this.Ht.blockSelector)&&void 0!==c?c:void 0);var g=as();if(g){this.Fi=null!==(a=this.Fi)&&void 0!==a?a:new tr(g,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(a,l)=>{var u="Too many mutations on node '"+a+"'. Rate limiting. This could be due to SVG animations or something similar";rg.info(u,{node:l}),this.log(rf+" "+u,"warn")}});var _=this.Oi();this.ci=g(B({emit:a=>{this.onRRwebEmit(a)},plugins:_},d)),this.ti=Date.now(),this.Zt=A(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:d,activePlugins:_.map(a=>null==a?void 0:a.name)}),this.ui("$posthog_config",{config:this._instance.config})}else rg.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),!0!==this.Zt){var a=this.Dt;a&&(this.wi=setInterval(()=>{this.Mi()},a))}}Oi(){var a,l,u=[],c=null==(a=N.__PosthogExtensions__)||null==(a=a.rrwebPlugins)?void 0:a.getRecordConsolePlugin;c&&this.Ut&&u.push(c());var d=null==(l=N.__PosthogExtensions__)||null==(l=l.rrwebPlugins)?void 0:l.getRecordNetworkPlugin;return this.Bt&&E(d)&&(!ta.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?u.push(d(Ze(this._instance.config,this.Bt))):rg.info("NetworkCapture not started because we are on localhost.")),u}onRRwebEmit(a){var l;if(this.Ai(),a&&I(a)){if(a.type===tN.Meta){var u=this.yi(a.data.href);if(this.Di=u,!u)return;a.data.href=u}else this.ji();if(this.Kt.checkUrlTriggerConditions(()=>this.Li(),()=>this.Ni(),a=>this.zi(a)),!this.Kt.urlBlocked||a.type===tN.Custom&&"recording paused"===a.data.tag){a.type===tN.FullSnapshot&&this.Ti(),a.type===tN.FullSnapshot&&this.Jt&&this.jt.triggerStatus(this.sessionId)===rh&&this.pi();var c=this.Fi?this.Fi.throttleMutations(a):a;if(c){var d=function(a){if(a&&I(a)&&6===a.type&&I(a.data)&&"rrweb/console@1"===a.data.plugin){a.data.payload.payload.length>10&&(a.data.payload.payload=a.data.payload.payload.slice(0,10),a.data.payload.payload.push("...[truncated]"));for(var l=[],u=0;u<a.data.payload.payload.length;u++)a.data.payload.payload[u]&&a.data.payload.payload[u].length>2e3?l.push(a.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):l.push(a.data.payload.payload[u]);return a.data.payload.payload=l,a}return a}(c);if(this.Ri(d),!0!==this.Zt||vs(d)){if(vs(d)){var p=d.data.payload;if(p){var f=p.lastActivityTimestamp,g=p.threshold;d.timestamp=f+g}}var _=null===(l=this._instance.config.session_recording.compress_events)||void 0===l||l?function(a){if(1024>Ue(a))return a;try{if(a.type===tN.FullSnapshot)return B({},a,{data:ds(a.data),cv:"2024-10"});if(a.type===tN.IncrementalSnapshot&&a.data.source===tL.Mutation)return B({},a,{cv:"2024-10",data:B({},a.data,{texts:ds(a.data.texts),attributes:ds(a.data.attributes),removes:ds(a.data.removes),adds:ds(a.data.adds)})});if(a.type===tN.IncrementalSnapshot&&a.data.source===tL.StyleSheetRule)return B({},a,{cv:"2024-10",data:B({},a.data,{adds:a.data.adds?ds(a.data.adds):void 0,removes:a.data.removes?ds(a.data.removes):void 0})})}catch(a){rg.error("could not compress event - will use uncompressed event",a)}return a}(d):d,v={$snapshot_bytes:Ue(_),$snapshot_data:_,$session_id:this.Mt,$window_id:this.fi};this.status!==rr?this.Ui(v):this.pi()}}}}}ji(){if(!this._instance.config.capture_pageview&&c){var a=this.yi(c.location.href);this.Di!==a&&(this.ui("$url_changed",{href:a}),this.Di=a)}}Ai(){if(this.Qt.length){var a=[...this.Qt];this.Qt=[],a.forEach(a=>{Date.now()-a.enqueuedAt<=2e3&&this.Ci(a)})}}yi(a){var l=this._instance.config.session_recording;if(l.maskNetworkRequestFn){var u,c={url:a};return null==(u=c=l.maskNetworkRequestFn(c))?void 0:u.url}return a}pi(){return this.M={size:0,data:[],sessionId:this.Mt,windowId:this.fi},this.M}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var a=this.Gt,l=this.Nt,u=O(l)&&l>=0,c=O(a)&&u&&l<a;return this.status===rl||this.status===ru||this.status===rr||c?(this.qi=setTimeout(()=>{this.ai()},2e3),this.M):(this.M.data.length>0&&qe(this.M).forEach(a=>{this.Bi({$snapshot_bytes:a.size,$snapshot_data:a.data,$session_id:a.sessionId,$window_id:a.windowId,$lib:"web",$lib_version:U.LIB_VERSION})}),this.pi())}Ui(a){var l,u=2+((null==(l=this.M)?void 0:l.data.length)||0);!this.Zt&&(this.M.size+a.$snapshot_bytes+u>943718.4||this.M.sessionId!==this.Mt)&&(this.M=this.ai()),this.M.size+=a.$snapshot_bytes,this.M.data.push(a.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(a){this._instance.capture("$snapshot",a,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(a){var l;this.jt.triggerStatus(this.sessionId)===rh&&(null==(l=this._instance)||null==(l=l.persistence)||l.register({["url"===a?eL:eD]:this.Mt}),this.ai(),this.xi(a+"_trigger_matched"))}Li(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),rg.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Mi(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),rg.info("recording resumed"))}bi(){0!==this.Yt.Tt.length&&F(this.ni)&&(this.ni=this._instance.on("eventCaptured",a=>{try{this.Yt.Tt.includes(a.event)&&this.zi("event")}catch(a){rg.error("Could not activate event trigger",a)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Mi(),this.xi("linked_flag_overridden")}overrideSampling(){var a;null==(a=this._instance.persistence)||a.register({[eN]:!0}),this.Mi(),this.xi("sampling_overridden")}overrideTrigger(a){this.zi(a)}xi(a,l){this._instance.register_for_session({$session_recording_start_reason:a}),rg.info(a.replace("_"," "),l),m(["recording_initialized","session_id_changed"],a)||this.ui(a,l)}get sdkDebugProperties(){var{sessionStartTimestamp:a}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:a}}};var rv=ep("[SegmentIntegration]");function ps(a,l){var u=a.config.segment;if(!u)return l();!function(a,l){var u=a.config.segment;if(!u)return l();var r=u=>{var r=()=>u.anonymousId()||Ni();a.config.get_device_id=r,u.id()&&(a.register({distinct_id:u.id(),$device_id:r()}),a.persistence.set_property(eY,"identified")),l()},c=u.user();"then"in c&&E(c.then)?c.then(a=>r(a)):r(c)}(a,()=>{var c;u.register((Promise&&Promise.resolve||rv.warn("This browser does not have Promise support, and can not use the segment integration"),c=(l,u)=>{if(!u)return l;l.event.userId||l.event.anonymousId===a.get_distinct_id()||(rv.info("No userId set, resetting PostHog"),a.reset()),l.event.userId&&l.event.userId!==a.get_distinct_id()&&(rv.info("UserId set, identifying with PostHog"),a.identify(l.event.userId));var c=a.calculateEventProperties(u,l.event.properties);return l.event.properties=Object.assign({},c,l.event.properties),l},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>c(a,a.event.event),page:a=>c(a,"$pageview"),identify:a=>c(a,"$identify"),screen:a=>c(a,"$screen")})).then(()=>{l()})})}var rm="posthog-js";function gs(a,l){var{organization:u,projectId:c,prefix:d,severityAllowList:p=["error"]}=void 0===l?{}:l;return l=>{if(!("*"===p||p.includes(l.level))||!a.__loaded)return l;l.tags||(l.tags={});var f,g,_,v,w,S=a.requestRouter.endpointFor("ui","/project/"+a.config.token+"/person/"+a.get_distinct_id());l.tags["PostHog Person URL"]=S,a.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=a.get_session_replay_url({withTimestamp:!0}));var x=(null==(f=l.exception)?void 0:f.values)||[],k=x.map(a=>B({},a,{stacktrace:a.stacktrace?B({},a.stacktrace,{type:"raw",frames:(a.stacktrace.frames||[]).map(a=>B({},a,{platform:"web:javascript"}))}):void 0})),$={$exception_message:(null==(g=x[0])?void 0:g.value)||l.message,$exception_type:null==(_=x[0])?void 0:_.type,$exception_personURL:S,$exception_level:l.level,$exception_list:k,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:(null==(v=x[0])?void 0:v.value)||l.message,$sentry_exception_type:null==(w=x[0])?void 0:w.type,$sentry_tags:l.tags};return u&&c&&($.$sentry_url=(d||"https://sentry.io/organizations/")+u+"/issues/?project="+c+"&query="+l.event_id),a.exceptions.sendExceptionEvent($),l}}let ms=class ms{constructor(a,l,u,c,d){this.name=rm,this.setupOnce=function(p){p(gs(a,{organization:l,projectId:u,prefix:c,severityAllowList:d}))}}};var ry=null!=c&&c.location?Ei(c.location.hash,"__posthog")||Ei(location.hash,"state"):null,rb="_postHogToolbarParams",rw=ep("[Toolbar]"),rS=function(a){return a[a.UNINITIALIZED=0]="UNINITIALIZED",a[a.LOADING=1]="LOADING",a[a.LOADED=2]="LOADED",a}(rS||{});let $s=class $s{constructor(a){this.instance=a}Hi(a){N.ph_toolbar_state=a}Wi(){var a;return null!==(a=N.ph_toolbar_state)&&void 0!==a?a:rS.UNINITIALIZED}maybeLoadToolbar(a,l,u){if(void 0===a&&(a=void 0),void 0===l&&(l=void 0),void 0===u&&(u=void 0),!c||!v)return!1;a=null!=a?a:c.location,u=null!=u?u:c.history;try{if(!l){try{c.localStorage.setItem("test","test"),c.localStorage.removeItem("test")}catch(a){return!1}l=null==c?void 0:c.localStorage}var d,p=ry||Ei(a.hash,"__posthog")||Ei(a.hash,"state"),f=p?X(()=>JSON.parse(atob(decodeURIComponent(p))))||X(()=>JSON.parse(decodeURIComponent(p))):null;return f&&"ph_authorize"===f.action?((d=f).source="url",d&&Object.keys(d).length>0&&(f.desiredHash?a.hash=f.desiredHash:u?u.replaceState(u.state,"",a.pathname+a.search):a.hash="")):((d=JSON.parse(l.getItem(rb)||"{}")).source="localstorage",delete d.userIntent),!(!d.token||this.instance.config.token!==d.token)&&(this.loadToolbar(d),!0)}catch(a){return!1}}Gi(a){var l=N.ph_load_toolbar||N.ph_load_editor;!F(l)&&E(l)?l(a,this.instance):rw.warn("No toolbar load function found")}loadToolbar(a){var l,u=!(null==v||!v.getElementById(e1));if(!c||u)return!1;var d="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,p=B({token:this.instance.config.token},a,{apiURL:this.instance.requestRouter.endpointFor("ui")},d?{instrument:!1}:{});return(c.localStorage.setItem(rb,JSON.stringify(B({},p,{source:void 0}))),this.Wi()===rS.LOADED)?this.Gi(p):this.Wi()===rS.UNINITIALIZED&&(this.Hi(rS.LOADING),null==(l=N.__PosthogExtensions__)||null==l.loadExternalDependency||l.loadExternalDependency(this.instance,"toolbar",a=>{if(a)return rw.error("[Toolbar] Failed to load",a),void this.Hi(rS.UNINITIALIZED);this.Hi(rS.LOADED),this.Gi(p)}),st(c,"turbolinks:load",()=>{this.Hi(rS.UNINITIALIZED),this.loadToolbar(p)})),!0}Ji(a){return this.loadToolbar(a)}maybeLoadEditor(a,l,u){return void 0===a&&(a=void 0),void 0===l&&(l=void 0),void 0===u&&(u=void 0),this.maybeLoadToolbar(a,l,u)}};var rE=ep("[TracingHeaders]");let ks=class ks{constructor(a){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var a,l;R(this.Vi)&&(null==(a=N.__PosthogExtensions__)||null==(a=a.tracingHeadersPatchFns)||a._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),R(this.Ki)&&(null==(l=N.__PosthogExtensions__)||null==(l=l.tracingHeadersPatchFns)||l._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=a}J(a){var l,u;null!=(l=N.__PosthogExtensions__)&&l.tracingHeadersPatchFns&&a(),null==(u=N.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"tracing-headers",l=>{if(l)return rE.error("failed to load script",l);a()})}startIfEnabledOrStop(){var a,l;this._instance.config.__add_tracing_headers?this.J(this.nt):(null==(a=this.Vi)||a.call(this),null==(l=this.Ki)||l.call(this),this.Vi=void 0,this.Ki=void 0)}};var rx=ep("[Web Vitals]");let Ps=class Ps{constructor(a){var l;this.Yi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),0!==this.M.metrics.length&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((a,l)=>B({},a,{["$web_vitals_"+l.name+"_event"]:B({},l),["$web_vitals_"+l.name+"_value"]:l.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=a=>{var l,u=null==(l=this._instance.sessionManager)?void 0:l.checkAndGetSessionAndWindowId(!0);if(R(u))rx.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var c=this.te();R(c)||(F(null==a?void 0:a.name)||F(null==a?void 0:a.value)?rx.error("Invalid metric received",a):this.ie&&a.value>=this.ie?rx.error("Ignoring metric with value >= "+this.ie,a):(this.M.url!==c&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),R(this.M.url)&&(this.M.url=c),this.M.firstMetricTimestamp=R(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,a.attribution&&a.attribution.interactionTargetElement&&(a.attribution.interactionTargetElement=void 0),this.M.metrics.push(B({},a,{$current_url:c,$session_id:u.sessionId,$window_id:u.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var a,l,u,c,d=N.__PosthogExtensions__;R(d)||R(d.postHogWebVitalsCallbacks)||({onLCP:a,onCLS:l,onFCP:u,onINP:c}=d.postHogWebVitalsCallbacks),a&&l&&u&&c?(this.allowedMetrics.indexOf("LCP")>-1&&a(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&l(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&u(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&c(this.Zi.bind(this)),this.i=!0):rx.error("web vitals callbacks not loaded - not starting")},this._instance=a,this.Yi=!(null==(l=this._instance.persistence)||!l.props[eR]),this.startIfEnabled()}get allowedMetrics(){var a,l,u=I(this._instance.config.capture_performance)?null==(a=this._instance.config.capture_performance)?void 0:a.web_vitals_allowed_metrics:void 0;return R(u)?(null==(l=this._instance.persistence)?void 0:l.props[ek])||["CLS","FCP","INP","LCP"]:u}get flushToCaptureTimeoutMs(){return(I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var a=I(this._instance.config.capture_performance)&&O(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<a&&a<=6e4?9e5:a}get isEnabled(){var a=null==w?void 0:w.protocol;if("http:"!==a&&"https:"!==a)return rx.info("Web Vitals are disabled on non-http/https protocols"),!1;var l=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:A(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return A(l)?l:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(rx.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(a){var l=I(a.capturePerformance)&&!!a.capturePerformance.web_vitals,u=I(a.capturePerformance)?a.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[eR]:l}),this._instance.persistence.register({[ek]:u})),this.Yi=l,this.startIfEnabled()}J(a){var l,u;null!=(l=N.__PosthogExtensions__)&&l.postHogWebVitalsCallbacks&&a(),null==(u=N.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"web-vitals",l=>{l?rx.error("failed to load script",l):a()})}te(){var a=c?c.location.href:void 0;return a||rx.error("Could not determine current URL"),a}};var rR=ep("[Heatmaps]");function Ts(a){return I(a)&&"clientX"in a&&"clientY"in a&&O(a.clientX)&&O(a.clientY)}let Cs=class Cs{constructor(a){var l;this.rageclicks=new yi,this.Yi=!1,this.i=!1,this.ee=null,this.instance=a,this.Yi=!(null==(l=this.instance.persistence)||!l.props[ew])}get flushIntervalMilliseconds(){var a=5e3;return I(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(a=this.instance.config.capture_heatmaps.flush_interval_milliseconds),a}get isEnabled(){return R(this.instance.config.capture_heatmaps)?R(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.i||(rR.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds));else{var a,l;clearInterval(null!==(a=this.ee)&&void 0!==a?a:void 0),null==(l=this.ne)||l.stop(),this.getAndClearBuffer()}}onRemoteConfig(a){var l=!!a.heatmaps;this.instance.persistence&&this.instance.persistence.register({[ew]:l}),this.Yi=l,this.startIfEnabled()}getAndClearBuffer(){var a=this.M;return this.M=void 0,a}oe(a){this.ae(a.originalEvent,"deadclick")}re(){c&&v&&(st(c,"beforeunload",this.se.bind(this)),st(v,"click",a=>this.ae(a||(null==c?void 0:c.event)),{capture:!0}),st(v,"mousemove",a=>this.le(a||(null==c?void 0:c.event)),{capture:!0}),this.ne=new se(this.instance,ee,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(a,l){var u=this.instance.scrollManager.scrollY(),d=this.instance.scrollManager.scrollX(),p=this.instance.scrollManager.scrollElement(),f=function(a,l,u){for(var d=a;d&&Jt(d)&&!Vt(d,"body")&&d!==u;){if(m(l,null==c?void 0:c.getComputedStyle(d).position))return!0;d=si(d)}return!1}(ei(a),["fixed","sticky"],p);return{x:a.clientX+(f?0:d),y:a.clientY+(f?0:u),target_fixed:f,type:l}}ae(a,l){var u;if(void 0===l&&(l="click"),!Gt(a.target)&&Ts(a)){var c=this.ue(a,l);null!=(u=this.rageclicks)&&u.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.he(B({},c,{type:"rageclick"})),this.he(c)}}le(a){!Gt(a.target)&&Ts(a)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(a,"mousemove"))},500))}he(a){if(c){var l=c.location.href;this.M=this.M||{},this.M[l]||(this.M[l]=[]),this.M[l].push(a)}}se(){this.M&&!P(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}};let Ms=class Ms{constructor(a){this._instance=a}doPageView(a,l){var u,d=this.ve(a,l);return this.ce={pathname:null!==(u=null==c?void 0:c.location.pathname)&&void 0!==u?u:"",pageViewId:l,timestamp:a},this._instance.scrollManager.resetContext(),d}doPageLeave(a){var l;return this.ve(a,null==(l=this.ce)?void 0:l.pageViewId)}doEvent(){var a;return{$pageview_id:null==(a=this.ce)?void 0:a.pageViewId}}ve(a,l){var u=this.ce;if(!u)return{$pageview_id:l};var c={$pageview_id:l,$prev_pageview_id:u.pageViewId},d=this._instance.scrollManager.getContext();if(d&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:p,lastScrollY:f,maxScrollY:g,maxContentHeight:_,lastContentY:v,maxContentY:w}=d;if(!(R(p)||R(f)||R(g)||R(_)||R(v)||R(w))){p=Math.ceil(p),f=Math.ceil(f),g=Math.ceil(g),_=Math.ceil(_),v=Math.ceil(v),w=Math.ceil(w);var S=p<=1?1:ne(f/p,0,1),x=p<=1?1:ne(g/p,0,1),k=_<=1?1:ne(v/_,0,1),$=_<=1?1:ne(w/_,0,1);c=V(c,{$prev_pageview_last_scroll:f,$prev_pageview_last_scroll_percentage:S,$prev_pageview_max_scroll:g,$prev_pageview_max_scroll_percentage:x,$prev_pageview_last_content:v,$prev_pageview_last_content_percentage:k,$prev_pageview_max_content:w,$prev_pageview_max_content_percentage:$})}}return u.pathname&&(c.$prev_pageview_pathname=u.pathname),u.timestamp&&(c.$prev_pageview_duration=(a.getTime()-u.timestamp.getTime())/1e3),c}};var Fs=function(a){var l,u,c,d,p="";for(l=u=0,c=(a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,d=0;d<c;d++){var f=a.charCodeAt(d),g=null;f<128?u++:g=f>127&&f<2048?String.fromCharCode(f>>6|192,63&f|128):String.fromCharCode(f>>12|224,f>>6&63|128,63&f|128),M(g)||(u>l&&(p+=a.substring(l,u)),p+=g,l=u=d+1)}return u>l&&(p+=a.substring(l,a.length)),p},rP=!!x||!!S,rk="text/plain",Ds=(a,l)=>{var[u,c]=a.split("?"),d=B({},l);null==c||c.split("&").forEach(a=>{var[l]=a.split("=");delete d[l]});var p=$i(d);return u+"?"+(p=p?(c?c+"&":"")+p:c)},js=(a,l)=>JSON.stringify(a,(a,l)=>"bigint"==typeof l?l.toString():l,l),Ls=a=>{var{data:l,compression:u}=a;if(l){if(u===er.GZipJS){var c=jr(Lr(js(l)),{mtime:0}),d=new Blob([c],{type:rk});return{contentType:rk,body:d,estimatedSize:d.size}}if(u===er.Base64){var p,f="data="+encodeURIComponent("string"==typeof(p=function(a){var l,u,c,d,p,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=0,_=0,v="",w=[];if(!a)return a;a=Fs(a);do l=(p=a.charCodeAt(g++)<<16|a.charCodeAt(g++)<<8|a.charCodeAt(g++))>>18&63,u=p>>12&63,c=p>>6&63,d=63&p,w[_++]=f.charAt(l)+f.charAt(u)+f.charAt(c)+f.charAt(d);while(g<a.length);switch(v=w.join(""),a.length%3){case 1:v=v.slice(0,-2)+"==";break;case 2:v=v.slice(0,-1)+"="}return v}(js(l)))?p:js(p));return{contentType:"application/x-www-form-urlencoded",body:f,estimatedSize:new Blob([f]).size}}var g=js(l);return{contentType:"application/json",body:g,estimatedSize:new Blob([g]).size}}},rO=[];S&&rO.push({transport:"fetch",method:a=>{var l,u,{contentType:c,body:d,estimatedSize:p}=null!==(l=Ls(a))&&void 0!==l?l:{},f=new Headers;J(a.headers,function(a,l){f.append(l,a)}),c&&f.append("Content-Type",c);var g=a.url,_=null;if(k){var v=new k;_={signal:v.signal,timeout:setTimeout(()=>v.abort(),a.timeout)}}S(g,B({method:(null==a?void 0:a.method)||"GET",headers:f,keepalive:"POST"===a.method&&52428.8>(p||0),body:d,signal:null==(u=_)?void 0:u.signal},a.fetchOptions)).then(l=>l.text().then(u=>{var c={statusCode:l.status,text:u};if(200===l.status)try{c.json=JSON.parse(u)}catch(a){eh.error(a)}null==a.callback||a.callback(c)})).catch(l=>{eh.error(l),null==a.callback||a.callback({statusCode:0,text:l})}).finally(()=>_?clearTimeout(_.timeout):null)}}),x&&rO.push({transport:"XHR",method:a=>{var l,u=new x;u.open(a.method||"GET",a.url,!0);var{contentType:c,body:d}=null!==(l=Ls(a))&&void 0!==l?l:{};J(a.headers,function(a,l){u.setRequestHeader(l,a)}),c&&u.setRequestHeader("Content-Type",c),a.timeout&&(u.timeout=a.timeout),u.withCredentials=!0,u.onreadystatechange=()=>{if(4===u.readyState){var l={statusCode:u.status,text:u.responseText};if(200===u.status)try{l.json=JSON.parse(u.responseText)}catch(a){}null==a.callback||a.callback(l)}},u.send(d)}}),null!=_&&_.sendBeacon&&rO.push({transport:"sendBeacon",method:a=>{var l=Ds(a.url,{beacon:"1"});try{var u,{contentType:c,body:d}=null!==(u=Ls(a))&&void 0!==u?u:{},p="string"==typeof d?new Blob([d],{type:c}):d;_.sendBeacon(l,p)}catch(a){}}});var zs=function(a,l){if(!function(a){try{new RegExp(a)}catch(a){return!1}return!0}(l))return!1;try{return new RegExp(l).test(a)}catch(a){return!1}};function Us(a,l,u){return js({distinct_id:a,userPropertiesToSet:l,userPropertiesToSetOnce:u})}var rT={exact:(a,l)=>l.some(l=>a.some(a=>l===a)),is_not:(a,l)=>l.every(l=>a.every(a=>l!==a)),regex:(a,l)=>l.some(l=>a.some(a=>zs(l,a))),not_regex:(a,l)=>l.every(l=>a.every(a=>!zs(l,a))),icontains:(a,l)=>l.map(Bs).some(l=>a.map(Bs).some(a=>l.includes(a))),not_icontains:(a,l)=>l.map(Bs).every(l=>a.map(Bs).every(a=>!l.includes(a)))},Bs=a=>a.toLowerCase(),rA=ep("[Error tracking]");let Ws=class Ws{constructor(a){var l,u;this.fe=[],this._instance=a,this.fe=null!==(l=null==(u=this._instance.persistence)?void 0:u.get_property(eE))&&void 0!==l?l:[]}onRemoteConfig(a){var l,u,c,d=null!==(l=null==(u=a.errorTracking)?void 0:u.suppressionRules)&&void 0!==l?l:[],p=null==(c=a.errorTracking)?void 0:c.captureExtensionExceptions;this.fe=d,this._instance.persistence&&this._instance.persistence.register({[eE]:this.fe,[ex]:p})}get pe(){var a,l=!!this._instance.get_property(ex),u=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(a=null!=u?u:l)&&void 0!==a&&a}sendExceptionEvent(a){if(this._e(a))rA.info("Skipping exception capture because a suppression rule matched");else{if(this.pe||!this.ge(a))return this._instance.capture("$exception",a,{_noTruncate:!0,_batchKey:"exceptionEvent"});rA.info("Skipping exception capture because it was thrown by an extension")}}_e(a){var l=a.$exception_list;if(!l||!ed(l)||0===l.length)return!1;var u=l.reduce((a,l)=>{var{type:u,value:c}=l;return T(u)&&u.length>0&&a.$exception_types.push(u),T(c)&&c.length>0&&a.$exception_values.push(c),a},{$exception_types:[],$exception_values:[]});return this.fe.some(a=>{var l=a.values.map(a=>{var l,c=rT[a.operator],d=ed(a.value)?a.value:[a.value],p=null!==(l=u[a.key])&&void 0!==l?l:[];return d.length>0&&c(d,p)});return"OR"===a.type?l.some(Boolean):l.every(Boolean)})}ge(a){var l=a.$exception_list;return!(!l||!ed(l))&&l.flatMap(a=>{var l,u;return null!==(l=null==(u=a.stacktrace)?void 0:u.frames)&&void 0!==l?l:[]}).some(a=>a.filename&&a.filename.startsWith("chrome-extension://"))}};var rI="Mobile",rC="Android",rM="Tablet",rF=rC+" "+rM,rj="iPad",r$="Apple",rN=r$+" Watch",rL="Safari",rD="BlackBerry",rB="Samsung",rU=rB+"Browser",rH=rB+" Internet",rq="Chrome",rz=rq+" OS",rV=rq+" iOS",rG="Internet Explorer",rW=rG+" "+rI,rY="Opera",rJ=rY+" Mini",rK="Edge",rX="Microsoft "+rK,rZ="Firefox",rQ=rZ+" iOS",r0="Nintendo",r1="PlayStation",r2="Xbox",r3=rC+" "+rI,r5=rI+" "+rL,r6="Windows",r4=r6+" Phone",r8="Nokia",r9="Ouya",r7="Generic",ie=r7+" "+rI.toLowerCase(),it=r7+" "+rM.toLowerCase(),ir="Konqueror",il="(\\d+(\\.\\d+)?)",iu=RegExp("Version/"+il),ic=RegExp(r2,"i"),id=RegExp(r1+" \\w+","i"),ih=RegExp(r0+" \\w+","i"),ip=RegExp(rD+"|PlayBook|BB10","i"),ig={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},jn=(a,l)=>l&&m(l,r$)||function(a){return m(a,rL)&&!m(a,rq)&&!m(a,rC)}(a),Ln=function(a,l){return l=l||"",m(a," OPR/")&&m(a,"Mini")?rJ:m(a," OPR/")?rY:ip.test(a)?rD:m(a,"IE"+rI)||m(a,"WPDesktop")?rW:m(a,rU)?rH:m(a,rK)||m(a,"Edg/")?rX:m(a,"FBIOS")?"Facebook "+rI:m(a,"UCWEB")||m(a,"UCBrowser")?"UC Browser":m(a,"CriOS")?rV:m(a,"CrMo")||m(a,rq)?rq:m(a,rC)&&m(a,rL)?r3:m(a,"FxiOS")?rQ:m(a.toLowerCase(),ir.toLowerCase())?ir:jn(a,l)?m(a,rI)?r5:rL:m(a,rZ)?rZ:m(a,"MSIE")||m(a,"Trident/")?rG:m(a,"Gecko")?rZ:""},i_={[rW]:[RegExp("rv:"+il)],[rX]:[RegExp(rK+"?\\/"+il)],[rq]:[RegExp("("+rq+"|CrMo)\\/"+il)],[rV]:[RegExp("CriOS\\/"+il)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+il)],[rL]:[iu],[r5]:[iu],[rY]:[RegExp("(Opera|OPR)\\/"+il)],[rZ]:[RegExp(rZ+"\\/"+il)],[rQ]:[RegExp("FxiOS\\/"+il)],[ir]:[RegExp("Konqueror[:/]?"+il,"i")],[rD]:[RegExp(rD+" "+il),iu],[r3]:[RegExp("android\\s"+il,"i")],[rH]:[RegExp(rU+"\\/"+il)],[rG]:[RegExp("(rv:|MSIE )"+il)],Mozilla:[RegExp("rv:"+il)]},zn=function(a,l){var u=i_[Ln(a,l)];if(R(u))return null;for(var c=0;c<u.length;c++){var d=u[c],p=a.match(d);if(p)return parseFloat(p[p.length-2])}return null},iv=[[RegExp(r2+"; "+r2+" (.*?)[);]","i"),a=>[r2,a&&a[1]||""]],[RegExp(r0,"i"),[r0,""]],[RegExp(r1,"i"),[r1,""]],[ip,[rD,""]],[RegExp(r6,"i"),(a,l)=>{if(/Phone/.test(l)||/WPDesktop/.test(l))return[r4,""];if(new RegExp(rI).test(l)&&!/IEMobile\b/.test(l))return[r6+" "+rI,""];var u=/Windows NT ([0-9.]+)/i.exec(l);if(u&&u[1]){var c=ig[u[1]]||"";return/arm/i.test(l)&&(c="RT"),[r6,c]}return[r6,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,a=>a&&a[3]?["iOS",[a[3],a[4],a[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,a=>{var l="";return a&&a.length>=3&&(l=R(a[2])?a[3]:a[2]),["watchOS",l]}],[RegExp("("+rC+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+rC+")","i"),a=>a&&a[2]?[rC,[a[2],a[3],a[4]||"0"].join(".")]:[rC,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,a=>{var l=["Mac OS X",""];if(a&&a[1]){var u=[a[1],a[2],a[3]||"0"];l[1]=u.join(".")}return l}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[rz,""]],[/Linux|debian/i,["Linux",""]]],qn=function(a){return ih.test(a)?r0:id.test(a)?r1:ic.test(a)?r2:RegExp(r9,"i").test(a)?r9:RegExp("("+r4+"|WPDesktop)","i").test(a)?r4:/iPad/.test(a)?rj:/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(a)?rN:ip.test(a)?rD:/(kobo)\s(ereader|touch)/i.test(a)?"Kobo":RegExp(r8,"i").test(a)?r8:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(a)||/(kf[a-z]+)( bui|\)).+silk\//i.test(a)?"Kindle Fire":/(Android|ZTE)/i.test(a)?!new RegExp(rI).test(a)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(a)?/pixel[\daxl ]{1,6}/i.test(a)&&!/pixel c/i.test(a)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(a)||/lmy47v/i.test(a)&&!/QTAQZ3/i.test(a)?rC:rF:rC:RegExp("(pda|"+rI+")","i").test(a)?ie:RegExp(rM,"i").test(a)&&!RegExp(rM+" pc","i").test(a)?it:""},im="https?://(.*)",iy=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],ib=K(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],iy),iw="<masked>",iS=["li_fat_id"];function Vn(a,l,u){if(!v)return{};var c,d=l?K([],iy,u||[]):[],p=Kn(ki(v.URL,d,iw),a);return V((c={},J(iS,function(a){var l=tp.D(a);c[a]=l||null}),c),p)}function Kn(a,l){var u=ib.concat(l||[]),c={};return J(u,function(l){var u=xi(a,l);c[l]=u||null}),c}function Yn(a){var l=a?0===a.search(im+"google.([^/?]*)")?"google":0===a.search(im+"bing.com")?"bing":0===a.search(im+"yahoo.com")?"yahoo":0===a.search(im+"duckduckgo.com")?"duckduckgo":null:null,u="yahoo"!=l?"q":"p",c={};if(!M(l)){c.$search_engine=l;var d=v?xi(v.referrer,u):"";d.length&&(c.ph_keyword=d)}return c}function Xn(){return navigator.language||navigator.userLanguage}function Qn(){return(null==v?void 0:v.referrer)||"$direct"}function Zn(a,l){var u=a?K([],iy,l||[]):[],c=null==w?void 0:w.href.substring(0,1e3);return{r:Qn().substring(0,1e3),u:c?ki(c,u,iw):void 0}}function to(a){var l,{r:u,u:c}=a,d={$referrer:u,$referring_domain:null==u?void 0:"$direct"==u?"$direct":null==(l=Si(u))?void 0:l.host};if(c){d.$current_url=c;var p=Si(c);d.$host=null==p?void 0:p.host,d.$pathname=null==p?void 0:p.pathname,V(d,Kn(c))}return u&&V(d,Yn(u)),d}function io(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(a){return}}function eo(){try{return(new Date).getTimezoneOffset()}catch(a){return}}function ro(a,l){if(!$)return{};var u,d,p=a?K([],iy,l||[]):[],[f,g]=function(a){for(var l=0;l<iv.length;l++){var[u,c]=iv[l],d=u.exec(a),p=d&&(E(c)?c(d,a):c);if(p)return p}return["",""]}($);return V(Z({$os:f,$os_version:g,$browser:Ln($,navigator.vendor),$device:qn($),$device_type:(d=qn($))===rj||d===rF||"Kobo"===d||"Kindle Fire"===d||d===it?rM:d===r0||d===r2||d===r1||d===r9?"Console":d===rN?"Wearable":d?rI:"Desktop",$timezone:io(),$timezone_offset:eo()}),{$current_url:ki(null==w?void 0:w.href,p,iw),$host:null==w?void 0:w.host,$pathname:null==w?void 0:w.pathname,$raw_user_agent:$.length>1e3?$.substring(0,997)+"...":$,$browser_version:zn($,navigator.vendor),$browser_language:Xn(),$browser_language_prefix:"string"==typeof(u=Xn())?u.split("-")[0]:void 0,$screen_height:null==c?void 0:c.screen.height,$screen_width:null==c?void 0:c.screen.width,$viewport_height:null==c?void 0:c.innerHeight,$viewport_width:null==c?void 0:c.innerWidth,$lib:"web",$lib_version:U.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var iE=ep("[FeatureFlags]"),ix="$active_feature_flags",iR="$override_feature_flags",iP="$feature_flag_payloads",ik="$override_feature_flag_payloads",iO="$feature_flag_request_id",ho=a=>{var l={};for(var[u,c]of Y(a||{}))c&&(l[u]=c);return l},vo=a=>{var l=a.flags;return l?(a.featureFlags=Object.fromEntries(Object.keys(l).map(a=>{var u;return[a,null!==(u=l[a].variant)&&void 0!==u?u:l[a].enabled]})),a.featureFlagPayloads=Object.fromEntries(Object.keys(l).filter(a=>l[a].enabled).filter(a=>{var u;return null==(u=l[a].metadata)?void 0:u.payload}).map(a=>{var u;return[a,null==(u=l[a].metadata)?void 0:u.payload]}))):iE.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),a},iT=function(a){return a.FeatureFlags="feature_flags",a.Recordings="recordings",a}({});let fo=class fo{constructor(a){this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this._instance=a,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.$e=!0;else{var a=!this.ke&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ee({disableFlags:a})}}get hasLoadedFlags(){return this.be}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var a=this._instance.get_property(eH),l=this._instance.get_property(iR),u=this._instance.get_property(ik);if(!u&&!l)return a||{};var c=V({},a||{});for(var d of[...new Set([...Object.keys(u||{}),...Object.keys(l||{})])]){var p,f,g=c[d],_=null==l?void 0:l[d],v=R(_)?null!==(p=null==g?void 0:g.enabled)&&void 0!==p&&p:!!_,w=R(_)?g.variant:"string"==typeof _?_:void 0,S=null==u?void 0:u[d],x=B({},g,{enabled:v,variant:v?null!=w?w:null==g?void 0:g.variant:void 0});v!==(null==g?void 0:g.enabled)&&(x.original_enabled=null==g?void 0:g.enabled),w!==(null==g?void 0:g.variant)&&(x.original_variant=null==g?void 0:g.variant),S&&(x.metadata=B({},null==g?void 0:g.metadata,{payload:S,original_payload:null==g||null==(f=g.metadata)?void 0:f.payload})),c[d]=x}return this.me||(iE.warn(" Overriding feature flag details!",{flagDetails:a,overriddenPayloads:u,finalDetails:c}),this.me=!0),c}getFlagVariants(){var a=this._instance.get_property(eB),l=this._instance.get_property(iR);if(!l)return a||{};for(var u=V({},a),c=Object.keys(l),d=0;d<c.length;d++)u[c[d]]=l[c[d]];return this.me||(iE.warn(" Overriding feature flags!",{enabledFlags:a,overriddenFlags:l,finalFlags:u}),this.me=!0),u}getFlagPayloads(){var a=this._instance.get_property(iP),l=this._instance.get_property(ik);if(!l)return a||{};for(var u=V({},a||{}),c=Object.keys(l),d=0;d<c.length;d++)u[c[d]]=l[c[d]];return this.me||(iE.warn(" Overriding feature flag payloads!",{flagPayloads:a,overriddenPayloads:l,finalPayloads:u}),this.me=!0),u}reloadFeatureFlags(){this.we||this._instance.config.advanced_disable_feature_flags||this.ke||(this.ke=setTimeout(()=>{this.Ee()},5))}Ie(){clearTimeout(this.ke),this.ke=void 0}ensureFlagsLoaded(){this.be||this.ye||this.ke||this.reloadFeatureFlags()}setAnonymousDistinctId(a){this.$anon_distinct_id=a}setReloadingPaused(a){this.we=a}Ee(a){var l;if(this.Ie(),!this._instance.I()){if(this.ye)this.Se=!0;else{var u={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:B({},(null==(l=this._instance.persistence)?void 0:l.get_initial_props())||{},this._instance.get_property(eq)||{}),group_properties:this._instance.get_property(ez)};(null!=a&&a.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(u.disable_flags=!0);var c=this._instance.config.__preview_remote_config,d=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",p=this._instance.requestRouter.endpointFor("api",(c?"/flags/?v=2":"/flags/?v=2&config=true")+d);c&&(u.timezone=io()),this.ye=!0,this._instance.Pe({method:"POST",url:p,data:u,compression:this._instance.config.disable_compression?void 0:er.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var l,c,d,p=!0;200===a.statusCode&&(this.Se||(this.$anon_distinct_id=void 0),p=!1),this.ye=!1,this.$e||(this.$e=!0,this._instance.Re(null!==(d=a.json)&&void 0!==d?d:{})),(!u.disable_flags||this.Se)&&((this.xe=!p,a.json&&null!=(c=a.json.quotaLimited)&&c.includes(iT.FeatureFlags))?iE.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(u.disable_flags||this.receivedFeatureFlags(null!==(l=a.json)&&void 0!==l?l:{},p),this.Se&&(this.Se=!1,this.Ee())))}})}}}getFeatureFlag(a,l){if(void 0===l&&(l={}),this.be||this.getFlags()&&this.getFlags().length>0){var u=this.getFlagVariants()[a],c=""+u,d=this._instance.get_property(iO)||void 0,p=this._instance.get_property(eW)||{};if((l.send_event||!("send_event"in l))&&(!(a in p)||!p[a].includes(c))){ed(p[a])?p[a].push(c):p[a]=[c],null==(_=this._instance.persistence)||_.register({[eW]:p});var f=this.getFeatureFlagDetails(a),g={$feature_flag:a,$feature_flag_response:u,$feature_flag_payload:this.getFeatureFlagPayload(a)||null,$feature_flag_request_id:d,$feature_flag_bootstrapped_response:(null==(v=this._instance.config.bootstrap)||null==(v=v.featureFlags)?void 0:v[a])||null,$feature_flag_bootstrapped_payload:(null==(w=this._instance.config.bootstrap)||null==(w=w.featureFlagPayloads)?void 0:w[a])||null,$used_bootstrap_value:!this.xe};R(null==f||null==(S=f.metadata)?void 0:S.version)||(g.$feature_flag_version=f.metadata.version);var _,v,w,S,x,k,$,N,U,z,W=null!==(x=null==f||null==(k=f.reason)?void 0:k.description)&&void 0!==x?x:null==f||null==($=f.reason)?void 0:$.code;W&&(g.$feature_flag_reason=W),null!=f&&null!=(N=f.metadata)&&N.id&&(g.$feature_flag_id=f.metadata.id),R(null==f?void 0:f.original_variant)&&R(null==f?void 0:f.original_enabled)||(g.$feature_flag_original_response=R(f.original_variant)?f.original_enabled:f.original_variant),null!=f&&null!=(U=f.metadata)&&U.original_payload&&(g.$feature_flag_original_payload=null==f||null==(z=f.metadata)?void 0:z.original_payload),this._instance.capture("$feature_flag_called",g)}return u}iE.warn('getFeatureFlag for key "'+a+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(a){return this.getFlagsWithDetails()[a]}getFeatureFlagPayload(a){return this.getFlagPayloads()[a]}getRemoteConfigPayload(a,l){var u=this._instance.config.token;this._instance.Pe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:u},compression:this._instance.config.disable_compression?void 0:er.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:u=>{var c,d=null==(c=u.json)?void 0:c.featureFlagPayloads;l((null==d?void 0:d[a])||void 0)}})}isFeatureEnabled(a,l){if(void 0===l&&(l={}),this.be||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(a,l);iE.warn('isFeatureEnabled for key "'+a+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(a){this.featureFlagEventHandlers.push(a)}removeFeatureFlagsHandler(a){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(l=>l!==a)}receivedFeatureFlags(a,l){if(this._instance.persistence){this.be=!0;var u=this.getFlagVariants(),c=this.getFlagPayloads(),d=this.getFlagsWithDetails();(function(a,l,u,c,d){void 0===u&&(u={}),void 0===c&&(c={}),void 0===d&&(d={});var p=vo(a),f=p.flags,g=p.featureFlags,_=p.featureFlagPayloads;if(g){var v=a.requestId;if(ed(g)){iE.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var w={};if(g)for(var S=0;S<g.length;S++)w[g[S]]=!0;l&&l.register({[ix]:g,[eB]:w})}else{var x=g,k=_,$=f;a.errorsWhileComputingFlags&&(x=B({},u,x),k=B({},c,k),$=B({},d,$)),l&&l.register(B({[ix]:Object.keys(ho(x)),[eB]:x||{},[iP]:k||{},[eH]:$||{}},v?{[iO]:v}:{}))}}})(a,this._instance.persistence,u,c,d),this.Te(l)}}override(a,l){void 0===l&&(l=!1),iE.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:a,suppressWarning:l})}overrideFeatureFlags(a){if(!this._instance.__loaded||!this._instance.persistence)return iE.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===a)return this._instance.persistence.unregister(iR),this._instance.persistence.unregister(ik),void this.Te();if(a&&"object"==typeof a&&("flags"in a||"payloads"in a)){var l;if(this.me=!!(null!==(l=a.suppressWarning)&&void 0!==l&&l),"flags"in a){if(!1===a.flags)this._instance.persistence.unregister(iR);else if(a.flags){if(ed(a.flags)){for(var u={},c=0;c<a.flags.length;c++)u[a.flags[c]]=!0;this._instance.persistence.register({[iR]:u})}else this._instance.persistence.register({[iR]:a.flags})}}return"payloads"in a&&(!1===a.payloads?this._instance.persistence.unregister(ik):a.payloads&&this._instance.persistence.register({[ik]:a.payloads})),void this.Te()}this.Te()}onFeatureFlags(a){if(this.addFeatureFlagsHandler(a),this.be){var{flags:l,flagVariants:u}=this.Ce();a(l,u)}return()=>this.removeFeatureFlagsHandler(a)}updateEarlyAccessFeatureEnrollment(a,l,u){var c,d=(this._instance.get_property(eU)||[]).find(l=>l.flagKey===a),p={["$feature_enrollment/"+a]:l},f={$feature_flag:a,$feature_enrollment:l,$set:p};d&&(f.$early_access_feature_name=d.name),u&&(f.$feature_enrollment_stage=u),this._instance.capture("$feature_enrollment_update",f),this.setPersonPropertiesForFlags(p,!1);var g=B({},this.getFlagVariants(),{[a]:l});null==(c=this._instance.persistence)||c.register({[ix]:Object.keys(ho(g)),[eB]:g}),this.Te()}getEarlyAccessFeatures(a,l,u){void 0===l&&(l=!1);var c=this._instance.get_property(eU),d=u?"&"+u.map(a=>"stage="+a).join("&"):"";if(c&&!l)return a(c);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+d),method:"GET",callback:l=>{var u,c;if(l.json){var d=l.json.earlyAccessFeatures;return null==(u=this._instance.persistence)||u.unregister(eU),null==(c=this._instance.persistence)||c.register({[eU]:d}),a(d)}}})}Ce(){var a=this.getFlags(),l=this.getFlagVariants();return{flags:a.filter(a=>l[a]),flagVariants:Object.keys(l).filter(a=>l[a]).reduce((a,u)=>(a[u]=l[u],a),{})}}Te(a){var{flags:l,flagVariants:u}=this.Ce();this.featureFlagEventHandlers.forEach(c=>c(l,u,{errorsLoading:a}))}setPersonPropertiesForFlags(a,l){void 0===l&&(l=!0);var u=this._instance.get_property(eq)||{};this._instance.register({[eq]:B({},u,a)}),l&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(eq)}setGroupPropertiesForFlags(a,l){void 0===l&&(l=!0);var u=this._instance.get_property(ez)||{};0!==Object.keys(u).length&&Object.keys(u).forEach(l=>{u[l]=B({},u[l],a[l]),delete a[l]}),this._instance.register({[ez]:B({},u,a)}),l&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(a){if(a){var l=this._instance.get_property(ez)||{};this._instance.register({[ez]:B({},l,{[a]:{}})})}else this._instance.unregister(ez)}reset(){this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.$anon_distinct_id=void 0,this.Ie(),this.me=!1}};var iA=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];let _o=class _o{constructor(a,l){this.S=a,this.props={},this.Me=!1,this.Fe=(a=>{var l="";return a.token&&(l=a.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),a.persistence_name?"ph_"+a.persistence_name:"ph_"+l+"_posthog"})(a),this.B=this.Oe(a),this.load(),a.debug&&eh.info("Persistence loaded",a.persistence,B({},this.props)),this.update_config(a,a,l),this.save()}isDisabled(){return!!this.Ae}Oe(a){-1===iA.indexOf(a.persistence.toLowerCase())&&(eh.critical("Unknown persistence type "+a.persistence+"; falling back to localStorage+cookie"),a.persistence="localStorage+cookie");var l=a.persistence.toLowerCase();return"localstorage"===l&&tg.O()?tg:"localstorage+cookie"===l&&tv.O()?tv:"sessionstorage"===l&&tw.O()?tw:"memory"===l?ty:"cookie"===l?tp:tv.O()?tv:tp}properties(){var a={};return J(this.props,function(l,u){if(u===eB&&I(l))for(var c,d=Object.keys(l),p=0;p<d.length;p++)a["$feature/"+d[p]]=l[d[p]];else c=!1,(M(e3)?c:g&&e3.indexOf===g?-1!=e3.indexOf(u):(J(e3,function(a){if(c||(c=a===u))return eg}),c))||(a[u]=l)}),a}load(){if(!this.Ae){var a=this.B.j(this.Fe);a&&(this.props=V({},a))}}save(){this.Ae||this.B.L(this.Fe,this.props,this.De,this.je,this.Le,this.S.debug)}remove(){this.B.N(this.Fe,!1),this.B.N(this.Fe,!0)}clear(){this.remove(),this.props={}}register_once(a,l,u){if(I(a)){R(l)&&(l="None"),this.De=R(u)?this.Ne:u;var c=!1;if(J(a,(a,u)=>{this.props.hasOwnProperty(u)&&this.props[u]!==l||(this.props[u]=a,c=!0)}),c)return this.save(),!0}return!1}register(a,l){if(I(a)){this.De=R(l)?this.Ne:l;var u=!1;if(J(a,(l,c)=>{a.hasOwnProperty(c)&&this.props[c]!==l&&(this.props[c]=l,u=!0)}),u)return this.save(),!0}return!1}unregister(a){a in this.props&&(delete this.props[a],this.save())}update_campaign_params(){if(!this.Me){var a=Vn(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);P(Z(a))||this.register(a),this.Me=!0}}update_search_keyword(){var a;this.register((a=null==v?void 0:v.referrer)?Yn(a):{})}update_referrer_info(){var a;this.register_once({$referrer:Qn(),$referring_domain:null!=v&&v.referrer&&(null==(a=Si(v.referrer))?void 0:a.host)||"$direct"},void 0)}set_initial_person_info(){this.props[eX]||this.props[eZ]||this.register_once({[eQ]:Zn(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var a={};J([eZ,eX],l=>{var u=this.props[l];u&&J(u,function(l,u){a["$initial_"+y(u)]=l})});var l,u,c=this.props[eQ];return c&&V(a,(l=to(c),u={},J(l,function(a,l){u["$initial_"+y(l)]=a}),u)),a}safe_merge(a){return J(this.props,function(l,u){u in a||(a[u]=l)}),a}update_config(a,l,u){if(this.Ne=this.De=a.cookie_expiration,this.set_disabled(a.disable_persistence||!!u),this.set_cross_subdomain(a.cross_subdomain_cookie),this.set_secure(a.secure_cookie),a.persistence!==l.persistence){var c=this.Oe(a),d=this.props;this.clear(),this.B=c,this.props=d,this.save()}}set_disabled(a){this.Ae=a,this.Ae?this.remove():this.save()}set_cross_subdomain(a){a!==this.je&&(this.je=a,this.remove(),this.save())}set_secure(a){a!==this.Le&&(this.Le=a,this.remove(),this.save())}set_event_timer(a,l){var u=this.props[ey]||{};u[a]=l,this.props[ey]=u,this.save()}remove_event_timer(a){var l=(this.props[ey]||{})[a];return R(l)||(delete this.props[ey][a],this.save()),l}get_property(a){return this.props[a]}set_property(a,l){this.props[a]=l,this.save()}};let go=class go{constructor(){this.ze={},this.ze={}}on(a,l){return this.ze[a]||(this.ze[a]=[]),this.ze[a].push(l),()=>{this.ze[a]=this.ze[a].filter(a=>a!==l)}}emit(a,l){for(var u of this.ze[a]||[])u(l);for(var c of this.ze["*"]||[])c(a,l)}};let mo=class mo{constructor(a){this.Ue=new go,this.qe=(a,l)=>this.Be(a,l)&&this.He(a,l)&&this.We(a,l),this.Be=(a,l)=>null==l||!l.event||(null==a?void 0:a.event)===(null==l?void 0:l.event),this._instance=a,this.Ge=new Set,this.Je=new Set}init(){var a,l;R(null==(a=this._instance)?void 0:a.Ve)||null==(l=this._instance)||l.Ve((a,l)=>{this.on(a,l)})}register(a){var l,u;if(!R(null==(l=this._instance)?void 0:l.Ve)&&(a.forEach(a=>{var l,u;null==(l=this.Je)||l.add(a),null==(u=a.steps)||u.forEach(a=>{var l;null==(l=this.Ge)||l.add((null==a?void 0:a.event)||"")})}),null!=(u=this._instance)&&u.autocapture)){var c,d=new Set;a.forEach(a=>{var l;null==(l=a.steps)||l.forEach(a=>{null!=a&&a.selector&&d.add(null==a?void 0:a.selector)})}),null==(c=this._instance)||c.autocapture.setElementSelectors(d)}}on(a,l){var u;null!=l&&0!=a.length&&(this.Ge.has(a)||this.Ge.has(null==l?void 0:l.event))&&this.Je&&(null==(u=this.Je)?void 0:u.size)>0&&this.Je.forEach(a=>{this.Ke(l,a)&&this.Ue.emit("actionCaptured",a.name)})}Ye(a){this.onAction("actionCaptured",l=>a(l))}Ke(a,l){if(null==(null==l?void 0:l.steps))return!1;for(var u of l.steps)if(this.qe(a,u))return!0;return!1}onAction(a,l){return this.Ue.on(a,l)}He(a,l){if(null!=l&&l.url){var u,c=null==a||null==(u=a.properties)?void 0:u.$current_url;if(!c||"string"!=typeof c||!mo.Xe(c,null==l?void 0:l.url,(null==l?void 0:l.url_matching)||"contains"))return!1}return!0}static Xe(a,l,u){switch(u){case"regex":return!!c&&zs(a,l);case"exact":return l===a;case"contains":return zs(a,mo.Qe(l).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static Qe(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}We(a,l){if((null!=l&&l.href||null!=l&&l.tag_name||null!=l&&l.text)&&!this.Ze(a).some(a=>!(null!=l&&l.href&&!mo.Xe(a.href||"",null==l?void 0:l.href,(null==l?void 0:l.href_matching)||"exact"))&&(null==l||!l.tag_name||a.tag_name===(null==l?void 0:l.tag_name))&&!(null!=l&&l.text&&!mo.Xe(a.text||"",null==l?void 0:l.text,(null==l?void 0:l.text_matching)||"exact")&&!mo.Xe(a.$el_text||"",null==l?void 0:l.text,(null==l?void 0:l.text_matching)||"exact"))))return!1;if(null!=l&&l.selector){var u,c=null==a||null==(u=a.properties)?void 0:u.$element_selectors;if(!c||!c.includes(null==l?void 0:l.selector))return!1}return!0}Ze(a){return null==(null==a?void 0:a.properties.$elements)?[]:null==a?void 0:a.properties.$elements}};(function(a){a.Button="button",a.Tab="tab",a.Selector="selector"})({}),function(a){a.TopLeft="top_left",a.TopRight="top_right",a.TopCenter="top_center",a.MiddleLeft="middle_left",a.MiddleRight="middle_right",a.MiddleCenter="middle_center",a.Left="left",a.Center="center",a.Right="right",a.NextToTrigger="next_to_trigger"}({});var iI=function(a){return a.Popover="popover",a.API="api",a.Widget="widget",a.ExternalSurvey="external_survey",a}({}),iC=(function(a){a.Open="open",a.MultipleChoice="multiple_choice",a.SingleChoice="single_choice",a.Rating="rating",a.Link="link"}({}),function(a){a.NextQuestion="next_question",a.End="end",a.ResponseBased="response_based",a.SpecificQuestion="specific_question"}({}),function(a){a.Once="once",a.Recurring="recurring",a.Always="always"}({}),function(a){return a.SHOWN="survey shown",a.DISMISSED="survey dismissed",a.SENT="survey sent",a}({})),iM=function(a){return a.SURVEY_ID="$survey_id",a.SURVEY_NAME="$survey_name",a.SURVEY_RESPONSE="$survey_response",a.SURVEY_ITERATION="$survey_iteration",a.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",a.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",a.SURVEY_SUBMISSION_ID="$survey_submission_id",a.SURVEY_QUESTIONS="$survey_questions",a.SURVEY_COMPLETED="$survey_completed",a}({}),iF=ep("[Surveys]"),ij="seenSurvey_",Ro=(a,l)=>{var u="$survey_"+l+"/"+a.id;return a.current_iteration&&a.current_iteration>0&&(u="$survey_"+l+"/"+a.id+"/"+a.current_iteration),u},To=a=>{var l=""+ij+a.id;return a.current_iteration&&a.current_iteration>0&&(l=""+ij+a.id+"_"+a.current_iteration),l},i$=[iI.Popover,iI.Widget,iI.API];let Mo=class Mo{constructor(a){this._instance=a,this.tr=new Map,this.ir=new Map}register(a){var l;R(null==(l=this._instance)?void 0:l.Ve)||(this.er(a),this.rr(a))}rr(a){var l=a.filter(a=>{var l,u;return(null==(l=a.conditions)?void 0:l.actions)&&(null==(u=a.conditions)||null==(u=u.actions)||null==(u=u.values)?void 0:u.length)>0});0!==l.length&&(null==this.sr&&(this.sr=new mo(this._instance),this.sr.init(),this.sr.Ye(a=>{this.onAction(a)})),l.forEach(a=>{var l,u,c,d,p;a.conditions&&null!=(l=a.conditions)&&l.actions&&null!=(u=a.conditions)&&null!=(u=u.actions)&&u.values&&(null==(c=a.conditions)||null==(c=c.actions)||null==(c=c.values)?void 0:c.length)>0&&(null==(d=this.sr)||d.register(a.conditions.actions.values),null==(p=a.conditions)||null==(p=p.actions)||null==(p=p.values)||p.forEach(l=>{if(l&&l.name){var u=this.ir.get(l.name);u&&u.push(a.id),this.ir.set(l.name,u||[a.id])}}))}))}er(a){var l;0!==a.filter(a=>{var l,u;return(null==(l=a.conditions)?void 0:l.events)&&(null==(u=a.conditions)||null==(u=u.events)||null==(u=u.values)?void 0:u.length)>0}).length&&(null==(l=this._instance)||l.Ve((a,l)=>{this.onEvent(a,l)}),a.forEach(a=>{var l;null==(l=a.conditions)||null==(l=l.events)||null==(l=l.values)||l.forEach(l=>{if(l&&l.name){var u=this.tr.get(l.name);u&&u.push(a.id),this.tr.set(l.name,u||[a.id])}})}))}onEvent(a,l){var u,c=(null==(u=this._instance)||null==(u=u.persistence)?void 0:u.props[eG])||[];if("survey shown"===a&&l&&c.length>0){iF.info("survey event matched, removing survey from activated surveys",{event:a,eventPayload:l,existingActivatedSurveys:c});var d,p=null==l||null==(d=l.properties)?void 0:d.$survey_id;if(p){var f=c.indexOf(p);f>=0&&(c.splice(f,1),this.nr(c))}}else this.tr.has(a)&&(iF.info("survey event matched, updating activated surveys",{event:a,surveys:this.tr.get(a)}),this.nr(c.concat(this.tr.get(a)||[])))}onAction(a){var l,u=(null==(l=this._instance)||null==(l=l.persistence)?void 0:l.props[eG])||[];this.ir.has(a)&&this.nr(u.concat(this.ir.get(a)||[]))}nr(a){var l;null==(l=this._instance)||null==(l=l.persistence)||l.register({[eG]:[...new Set(a)]})}getSurveys(){var a;return(null==(a=this._instance)||null==(a=a.persistence)?void 0:a.props[eG])||[]}getEventToSurveys(){return this.tr}ar(){return this.sr}};let Fo=class Fo{constructor(a){this.lr=void 0,this._surveyManager=null,this.ur=!1,this.hr=!1,this.dr=[],this._instance=a,this._surveyEventReceiver=null}onRemoteConfig(a){var l=a.surveys;if(F(l))return iF.warn("Flags not loaded yet. Not loading surveys.");var u=ed(l);this.lr=u?l.length>0:l,iF.info("flags response received, isSurveysEnabled: "+this.lr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var a=[],l=0;l<localStorage.length;l++){var u=localStorage.key(l);(null!=u&&u.startsWith(ij)||null!=u&&u.startsWith("inProgressSurvey_"))&&a.push(u)}a.forEach(a=>localStorage.removeItem(a))}loadIfEnabled(){if(!this._surveyManager){if(this.hr)iF.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)iF.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode)iF.info("Not loading surveys in cookieless mode.");else{var a=null==N?void 0:N.__PosthogExtensions__;if(a){if(!R(this.lr)||this._instance.config.advanced_enable_surveys){var l=this.lr||this._instance.config.advanced_enable_surveys;this.hr=!0;try{var u=a.generateSurveys;if(u)return void this.vr(u,l);var c=a.loadExternalDependency;if(!c)return void this.cr("PostHog loadExternalDependency extension not found.");c(this._instance,"surveys",u=>{u||!a.generateSurveys?this.cr("Could not load surveys script",u):this.vr(a.generateSurveys,l)})}catch(a){throw this.cr("Error initializing surveys",a),a}finally{this.hr=!1}}}else iF.error("PostHog Extensions not found.")}}}vr(a,l){this._surveyManager=a(this._instance,l),this._surveyEventReceiver=new Mo(this._instance),iF.info("Surveys loaded successfully"),this.pr({isLoaded:!0})}cr(a,l){iF.error(a,l),this.pr({isLoaded:!1,error:a})}onSurveysLoaded(a){return this.dr.push(a),this._surveyManager&&this.pr({isLoaded:!0}),()=>{this.dr=this.dr.filter(l=>l!==a)}}getSurveys(a,l){if(void 0===l&&(l=!1),this._instance.config.disable_surveys)return iF.info("Disabled. Not loading surveys."),a([]);var u=this._instance.get_property(eV);if(u&&!l)return a(u,{isLoaded:!0});if(this.ur)return a([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.ur=!0,this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:l=>{this.ur=!1;var u=l.statusCode;if(200!==u||!l.json){var c="Surveys API could not be loaded, status: "+u;return iF.error(c),a([],{isLoaded:!1,error:c})}var d,p,f=l.json.surveys||[],g=f.filter(a=>{var l,u;return!(!a.start_date||a.end_date)&&(!(null==(l=a.conditions)||null==(l=l.events)||null==(l=l.values)||!l.length)||!(null==(u=a.conditions)||null==(u=u.actions)||null==(u=u.values)||!u.length))});return g.length>0&&(null==(p=this._surveyEventReceiver)||p.register(g)),null==(d=this._instance.persistence)||d.register({[eV]:f}),a(f,{isLoaded:!0})}})}catch(a){throw this.ur=!1,a}}pr(a){for(var l of this.dr)try{if(!a.isLoaded)return l([],a);this.getSurveys(l)}catch(a){iF.error("Error in survey callback",a)}}getActiveMatchingSurveys(a,l){if(void 0===l&&(l=!1),!F(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(a,l);iF.warn("init was not called")}_r(a){var l=null;return this.getSurveys(u=>{var c;l=null!==(c=u.find(l=>l.id===a))&&void 0!==c?c:null}),l}gr(a){if(F(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var l="string"==typeof a?this._r(a):a;return l?this._surveyManager.checkSurveyEligibility(l):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(a){if(F(this._surveyManager))return iF.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var l=this.gr(a);return{visible:l.eligible,disabledReason:l.reason}}canRenderSurveyAsync(a,l){return F(this._surveyManager)?(iF.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(u=>{this.getSurveys(l=>{var c,d=null!==(c=l.find(l=>l.id===a))&&void 0!==c?c:null;if(d){var p=this.gr(d);u({visible:p.eligible,disabledReason:p.reason})}else u({visible:!1,disabledReason:"Survey not found"})},l)})}renderSurvey(a,l){if(F(this._surveyManager))iF.warn("init was not called");else{var u=this._r(a);if(u){if(i$.includes(u.type)){var c=null==v?void 0:v.querySelector(l);c?this._surveyManager.renderSurvey(u,c):iF.warn("Survey element not found")}else iF.warn("Surveys of type "+u.type+" cannot be rendered in the app")}else iF.warn("Survey not found")}}};var iN=ep("[RateLimiter]");let Ao=class Ao{constructor(a){var l,u;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=a=>{var l=a.text;if(l&&l.length)try{(JSON.parse(l).quota_limited||[]).forEach(a=>{iN.info((a||"events")+" is quota limited."),this.serverLimits[a]=(new Date).getTime()+6e4})}catch(a){return void iN.warn('could not rate limit - continuing. Error: "'+(null==a?void 0:a.message)+'"',{text:l})}},this.instance=a,this.captureEventsPerSecond=(null==(l=a.config.rate_limiting)?void 0:l.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(u=a.config.rate_limiting)?void 0:u.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(a){void 0===a&&(a=!1);var l,u,c,d=(new Date).getTime(),p=null!==(l=null==(u=this.instance.persistence)?void 0:u.get_property(eK))&&void 0!==l?l:{tokens:this.captureEventsBurstLimit,last:d};p.tokens+=(d-p.last)/1e3*this.captureEventsPerSecond,p.last=d,p.tokens>this.captureEventsBurstLimit&&(p.tokens=this.captureEventsBurstLimit);var f=p.tokens<1;return f||a||(p.tokens=Math.max(0,p.tokens-1)),!f||this.lastEventRateLimited||a||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=f,null==(c=this.instance.persistence)||c.set_property(eK,p),{isRateLimited:f,remainingTokens:p.tokens}}isServerRateLimited(a){var l=this.serverLimits[a||"events"]||!1;return!1!==l&&(new Date).getTime()<l}};var iL=ep("[RemoteConfig]");let jo=class jo{constructor(a){this._instance=a}get remoteConfig(){var a;return null==(a=N._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.config}mr(a){var l,u;null!=(l=N.__PosthogExtensions__)&&l.loadExternalDependency?null==(u=N.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,"remote-config",()=>a(this.remoteConfig)):(iL.error("PostHog Extensions not found. Cannot load remote config."),a())}br(a){this._instance.Pe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:l=>{a(l.json)}})}load(){try{if(this.remoteConfig)return iL.info("Using preloaded remote config",this.remoteConfig),void this.Re(this.remoteConfig);if(this._instance.I())return void iL.warn("Remote config is disabled. Falling back to local config.");this.mr(a=>{if(!a)return iL.info("No config found after loading remote JS config. Falling back to JSON."),void this.br(a=>{this.Re(a)});this.Re(a)})}catch(a){iL.error("Error loading remote config",a)}}Re(a){a?this._instance.config.__preview_remote_config?(this._instance.Re(a),!1!==a.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):iL.info("__preview_remote_config is disabled. Logging config instead",a):iL.error("Failed to fetch remote config from PostHog.")}};let No=class No{constructor(a,l){this.yr=!0,this.wr=[],this.Sr=ne((null==l?void 0:l.flush_interval_ms)||3e3,250,5e3,"flush interval",3e3),this.$r=a}enqueue(a){this.wr.push(a),this.kr||this.Er()}unload(){this.Ir();var a=Object.values(this.wr.length>0?this.Pr():{});[...a.filter(a=>0===a.url.indexOf("/e")),...a.filter(a=>0!==a.url.indexOf("/e"))].map(a=>{this.$r(B({},a,{transport:"sendBeacon"}))})}enable(){this.yr=!1,this.Er()}Er(){var a=this;this.yr||(this.kr=setTimeout(()=>{if(this.Ir(),this.wr.length>0){var l=this.Pr();for(var u in l)!function(){var c=l[u],d=(new Date).getTime();c.data&&ed(c.data)&&J(c.data,a=>{a.offset=Math.abs(a.timestamp-d),delete a.timestamp}),a.$r(c)}()}},this.Sr))}Ir(){clearTimeout(this.kr),this.kr=void 0}Pr(){var a={};return J(this.wr,l=>{var u,c=(l?l.batchKey:null)||l.url;R(a[c])&&(a[c]=B({},l,{data:[]})),null==(u=a[c].data)||u.push(l.data)}),this.wr=[],a}};var iD=["retriesPerformedSoFar"];let Uo=class Uo{constructor(a){this.Rr=!1,this.Tr=3e3,this.wr=[],this._instance=a,this.wr=[],this.Cr=!0,!R(c)&&"onLine"in c.navigator&&(this.Cr=c.navigator.onLine,st(c,"online",()=>{this.Cr=!0,this.se()}),st(c,"offline",()=>{this.Cr=!1}))}get length(){return this.wr.length}retriableRequest(a){var{retriesPerformedSoFar:l}=a,u=H(a,iD);O(l)&&l>0&&(u.url=Ds(u.url,{retry_count:l})),this._instance.Pe(B({},u,{callback:a=>{200!==a.statusCode&&(a.statusCode<400||a.statusCode>=500)&&(null!=l?l:0)<10?this.Mr(B({retriesPerformedSoFar:l},u)):null==u.callback||u.callback(a)}}))}Mr(a){var l,u,c,d=a.retriesPerformedSoFar||0;a.retriesPerformedSoFar=d+1;var p=(c=(Math.random()-.5)*((u=Math.min(18e5,l=3e3*Math.pow(2,d)))-l/2),Math.ceil(u+c)),f=Date.now()+p;this.wr.push({retryAt:f,requestOptions:a});var g="Enqueued failed request for retry in "+p;navigator.onLine||(g+=" (Browser is offline)"),eh.warn(g),this.Rr||(this.Rr=!0,this.Fr())}Fr(){this.Or&&clearTimeout(this.Or),this.Or=setTimeout(()=>{this.Cr&&this.wr.length>0&&this.se(),this.Fr()},this.Tr)}se(){var a=Date.now(),l=[],u=this.wr.filter(u=>u.retryAt<a||(l.push(u),!1));if(this.wr=l,u.length>0)for(var{requestOptions:c}of u)this.retriableRequest(c)}unload(){for(var{requestOptions:a}of(this.Or&&(clearTimeout(this.Or),this.Or=void 0),this.wr))try{this._instance.Pe(B({},a,{transport:"sendBeacon"}))}catch(a){eh.error(a)}this.wr=[]}};let qo=class qo{constructor(a){this.Ar=()=>{this.Dr||(this.Dr={});var a,l,u,c,d=this.scrollElement(),p=this.scrollY(),f=d?Math.max(0,d.scrollHeight-d.clientHeight):0,g=p+((null==d?void 0:d.clientHeight)||0),_=(null==d?void 0:d.scrollHeight)||0;this.Dr.lastScrollY=Math.ceil(p),this.Dr.maxScrollY=Math.max(p,null!==(a=this.Dr.maxScrollY)&&void 0!==a?a:0),this.Dr.maxScrollHeight=Math.max(f,null!==(l=this.Dr.maxScrollHeight)&&void 0!==l?l:0),this.Dr.lastContentY=g,this.Dr.maxContentY=Math.max(g,null!==(u=this.Dr.maxContentY)&&void 0!==u?u:0),this.Dr.maxContentHeight=Math.max(_,null!==(c=this.Dr.maxContentHeight)&&void 0!==c?c:0)},this._instance=a}getContext(){return this.Dr}resetContext(){var a=this.Dr;return setTimeout(this.Ar,0),a}startMeasuringScrollPosition(){st(c,"scroll",this.Ar,{capture:!0}),st(c,"scrollend",this.Ar,{capture:!0}),st(c,"resize",this.Ar)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==c?void 0:c.document.documentElement;for(var a of ed(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var l=null==c?void 0:c.document.querySelector(a);if(l)return l}}scrollY(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollTop||0}return c&&(c.scrollY||c.pageYOffset||c.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollLeft||0}return c&&(c.scrollX||c.pageXOffset||c.document.documentElement.scrollLeft)||0}};var Bo=a=>Zn(null==a?void 0:a.config.mask_personal_data_properties,null==a?void 0:a.config.custom_personal_data_properties);let Ho=class Ho{constructor(a,l,u,c){this.jr=a=>{var l=this.Lr();if(!l||l.sessionId!==a){var u={sessionId:a,props:this.Nr(this._instance)};this.zr.register({[eJ]:u})}},this._instance=a,this.Ur=l,this.zr=u,this.Nr=c||Bo,this.Ur.onSessionId(this.jr)}Lr(){return this.zr.props[eJ]}getSetOnceProps(){var a,l=null==(a=this.Lr())?void 0:a.props;return l?"r"in l?to(l):{$referring_domain:l.referringDomain,$pathname:l.initialPathName,utm_source:l.utm_source,utm_campaign:l.utm_campaign,utm_medium:l.utm_medium,utm_content:l.utm_content,utm_term:l.utm_term}:{}}getSessionProps(){var a={};return J(Z(this.getSetOnceProps()),(l,u)=>{"$current_url"===u&&(u="url"),a["$session_entry_"+y(u)]=l}),a}};var iB=ep("[SessionId]");let Go=class Go{constructor(a,l,u){if(this.qr=[],this.Br=(a,l)=>Math.abs(a-l)>this.sessionTimeoutMs,!a.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if("always"===a.config.cookieless_mode)throw Error('SessionIdManager cannot be used with cookieless_mode="always"');this.S=a.config,this.zr=a.persistence,this.fi=void 0,this.Mt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Hr=l||Ni,this.Wr=u||Ni;var c,d=this.S.persistence_name||this.S.token,p=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*ne(p,60,36e3,"session_idle_timeout_seconds",1800),a.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Gr(),this.Jr="ph_"+d+"_window_id",this.Vr="ph_"+d+"_primary_window_exists",this.Kr()){var f=tw.j(this.Jr),g=tw.j(this.Vr);f&&!g?this.fi=f:tw.N(this.Jr),tw.L(this.Vr,!0)}if(null!=(c=this.S.bootstrap)&&c.sessionID)try{var _=(a=>{var l=a.replace(/-/g,"");if(32!==l.length)throw Error("Not a valid UUID");if("7"!==l[12])throw Error("Not a UUIDv7");return parseInt(l.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Yr(this.S.bootstrap.sessionID,(new Date).getTime(),_)}catch(a){iB.error("Invalid sessionID in bootstrap",a)}this.Xr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(a){return R(this.qr)&&(this.qr=[]),this.qr.push(a),this.Mt&&a(this.Mt,this.fi),()=>{this.qr=this.qr.filter(l=>l!==a)}}Kr(){return"memory"!==this.S.persistence&&!this.zr.Ae&&tw.O()}Qr(a){a!==this.fi&&(this.fi=a,this.Kr()&&tw.L(this.Jr,a))}Zr(){return this.fi?this.fi:this.Kr()?tw.j(this.Jr):null}Yr(a,l,u){a===this.Mt&&l===this._sessionActivityTimestamp&&u===this._sessionStartTimestamp||(this._sessionStartTimestamp=u,this._sessionActivityTimestamp=l,this.Mt=a,this.zr.register({[e$]:[l,a,u]}))}ts(){if(this.Mt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Mt,this._sessionStartTimestamp];var a=this.zr.props[e$];return ed(a)&&2===a.length&&a.push(a[0]),a||[0,null,0]}resetSessionId(){this.Yr(null,null,null)}Xr(){st(c,"beforeunload",()=>{this.Kr()&&tw.N(this.Vr)},{capture:!1})}checkAndGetSessionAndWindowId(a,l){if(void 0===a&&(a=!1),void 0===l&&(l=null),"always"===this.S.cookieless_mode)throw Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var u=l||(new Date).getTime(),[c,d,p]=this.ts(),f=this.Zr(),g=O(p)&&p>0&&Math.abs(u-p)>864e5,_=!1,v=!d,w=!a&&this.Br(u,c);v||w||g?(d=this.Hr(),f=this.Wr(),iB.info("new session ID generated",{sessionId:d,windowId:f,changeReason:{noSessionId:v,activityTimeout:w,sessionPastMaximumLength:g}}),p=u,_=!0):f||(f=this.Wr(),_=!0);var S=0===c||!a||g?u:c,x=0===p?(new Date).getTime():p;return this.Qr(f),this.Yr(d,S,x),a||this.Gr(),_&&this.qr.forEach(a=>a(d,f,_?{noSessionId:v,activityTimeout:w,sessionPastMaximumLength:g}:void 0)),{sessionId:d,windowId:f,sessionStartTimestamp:x,changeReason:_?{noSessionId:v,activityTimeout:w,sessionPastMaximumLength:g}:void 0,lastActivityTimestamp:c}}Gr(){clearTimeout(this.es),this.es=setTimeout(()=>{var[a]=this.ts();this.Br((new Date).getTime(),a)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}};var iU=["$set_once","$set"],iH=ep("[SiteApps]");let Ko=class Ko{constructor(a){this._instance=a,this.rs=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ss(a,l){if(l){var u=this.globalsForEvent(l);this.rs.push(u),this.rs.length>1e3&&(this.rs=this.rs.slice(10))}}get siteAppLoaders(){var a;return null==(a=N._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.siteApps}init(){if(this.isEnabled){var a=this._instance.Ve(this.ss.bind(this));this.ns=()=>{a(),this.rs=[],this.ns=void 0}}}globalsForEvent(a){if(!a)throw Error("Event payload is required");var l,u,c,d,p,f,g,_={},v=this._instance.get_property("$groups")||[];for(var[w,S]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))_[w]={id:v[w],type:w,properties:S};var{$set_once:x,$set:k}=a;return{event:B({},H(a,iU),{properties:B({},a.properties,k?{$set:B({},null!==(l=null==(u=a.properties)?void 0:u.$set)&&void 0!==l?l:{},k)}:{},x?{$set_once:B({},null!==(c=null==(d=a.properties)?void 0:d.$set_once)&&void 0!==c?c:{},x)}:{}),elements_chain:null!==(p=null==(f=a.properties)?void 0:f.$elements_chain)&&void 0!==p?p:"",distinct_id:null==(g=a.properties)?void 0:g.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:_}}setupSiteApp(a){var l=this.apps[a.id],e=()=>{var u;!l.errored&&this.rs.length&&(iH.info("Processing "+this.rs.length+" events for site app with id "+a.id),this.rs.forEach(a=>null==l.processEvent?void 0:l.processEvent(a)),l.processedBuffer=!0),Object.values(this.apps).every(a=>a.processedBuffer||a.errored)&&(null==(u=this.ns)||u.call(this))},u=!1,s=c=>{l.errored=!c,l.loaded=!0,iH.info("Site app with id "+a.id+" "+(c?"loaded":"errored")),u&&e()};try{var{processEvent:c}=a.init({posthog:this._instance,callback:a=>{s(a)}});c&&(l.processEvent=c),u=!0}catch(l){iH.error("Error while initializing PostHog app with config id "+a.id,l),s(!1)}if(u&&l.loaded)try{e()}catch(u){iH.error("Error while processing buffered events PostHog app with config id "+a.id,u),l.errored=!0}}os(){var a=this.siteAppLoaders||[];for(var l of a)this.apps[l.id]={id:l.id,loaded:!1,errored:!1,processedBuffer:!1};for(var u of a)this.setupSiteApp(u)}ls(a){if(0!==Object.keys(this.apps).length){var l=this.globalsForEvent(a);for(var u of Object.values(this.apps))try{null==u.processEvent||u.processEvent(l)}catch(l){iH.error("Error while processing event "+a.event+" for site app "+u.id,l)}}}onRemoteConfig(a){var l,u,c,d=this;if(null!=(l=this.siteAppLoaders)&&l.length)return this.isEnabled?(this.os(),void this._instance.on("eventCaptured",a=>this.ls(a))):void iH.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(u=this.ns)||u.call(this),null!=(c=a.siteApps)&&c.length){if(this.isEnabled){var n=function(a){var l;N["__$$ph_site_app_"+a]=d._instance,null==(l=N.__PosthogExtensions__)||null==l.loadSiteApp||l.loadSiteApp(d._instance,f,l=>{if(l)return iH.error("Error while initializing PostHog app with config id "+a,l)})};for(var{id:p,url:f}of a.siteApps)n(p)}else iH.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}};var iq=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Xo=function(a,l){if(!a)return!1;var u=a.toLowerCase();return iq.concat(l||[]).some(a=>{var l=a.toLowerCase();return -1!==u.indexOf(l)})},Qo=function(a,l){if(!a)return!1;var u=a.userAgent;if(u&&Xo(u,l))return!0;try{var c=null==a?void 0:a.userAgentData;if(null!=c&&c.brands&&c.brands.some(a=>Xo(null==a?void 0:a.brand,l)))return!0}catch(a){}return!!a.webdriver},iz=function(a){return a.US="us",a.EU="eu",a.CUSTOM="custom",a}({}),iV="i.posthog.com";let ia=class ia{constructor(a){this.us={},this.instance=a}get apiHost(){var a=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===a?"https://us.i.posthog.com":a}get uiHost(){var a,l=null==(a=this.instance.config.ui_host)?void 0:a.replace(/\/$/,"");return l||(l=this.apiHost.replace("."+iV,".posthog.com")),"https://app.posthog.com"===l?"https://us.posthog.com":l}get region(){return this.us[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=iz.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=iz.EU:this.us[this.apiHost]=iz.CUSTOM),this.us[this.apiHost]}endpointFor(a,l){if(void 0===l&&(l=""),l&&(l="/"===l[0]?l:"/"+l),"ui"===a)return this.uiHost+l;if(this.region===iz.CUSTOM)return this.apiHost+l;var u=iV+l;switch(a){case"assets":return"https://"+this.region+"-assets."+u;case"api":return"https://"+this.region+"."+u}}};var iG={icontains:(a,l)=>!!c&&l.href.toLowerCase().indexOf(a.toLowerCase())>-1,not_icontains:(a,l)=>!!c&&-1===l.href.toLowerCase().indexOf(a.toLowerCase()),regex:(a,l)=>!!c&&zs(l.href,a),not_regex:(a,l)=>!!c&&!zs(l.href,a),exact:(a,l)=>l.href===a,is_not:(a,l)=>l.href!==a};let ra=class ra{constructor(a){var l=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(a){void 0===a&&(a=!1),l.getWebExperiments(a=>{ra.hs("retrieved web experiments from the server"),l.ds=new Map,a.forEach(a=>{if(a.feature_flag_key){l.ds&&(ra.hs("setting flag key ",a.feature_flag_key," to web experiment ",a),null==(u=l.ds)||u.set(a.feature_flag_key,a));var u,c=l._instance.getFeatureFlag(a.feature_flag_key);T(c)&&a.variants[c]&&l.vs(a.name,c,a.variants[c].transforms)}else if(a.variants)for(var d in a.variants){var p=a.variants[d];ra.cs(p)&&l.vs(a.name,d,p.transforms)}})},a)},this._instance=a,this._instance.onFeatureFlags(a=>{this.onFeatureFlags(a)})}onFeatureFlags(a){if(this._is_bot())ra.hs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(F(this.ds))return this.ds=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ra.hs("applying feature flags",a),a.forEach(a=>{var l;if(this.ds&&null!=(l=this.ds)&&l.has(a)){var u,c=this._instance.getFeatureFlag(a),d=null==(u=this.ds)?void 0:u.get(a);c&&null!=d&&d.variants[c]&&this.vs(d.name,c,d.variants[c].transforms)}})}}previewWebExperiment(){var a=ra.getWindowLocation();if(null!=a&&a.search){var l=xi(null==a?void 0:a.search,"__experiment_id"),u=xi(null==a?void 0:a.search,"__experiment_variant");l&&u&&(ra.hs("previewing web experiments "+l+" && "+u),this.getWebExperiments(a=>{this.fs(parseInt(l),u,a)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(a,l,u){if(this._instance.config.disable_web_experiments&&!u)return a([]);var c=this._instance.get_property("$web_experiments");if(c&&!l)return a(c);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:l=>200===l.statusCode&&l.json?a(l.json.experiments||[]):a([])})}fs(a,l,u){var c=u.filter(l=>l.id===a);c&&c.length>0&&(ra.hs("Previewing web experiment ["+c[0].name+"] with variant ["+l+"]"),this.vs(c[0].name,l,c[0].variants[l].transforms))}static cs(a){return!F(a.conditions)&&ra.ps(a)&&ra._s(a)}static ps(a){if(F(a.conditions)||F(null==(l=a.conditions)?void 0:l.url))return!0;var l,u,c,d,p=ra.getWindowLocation();return!!p&&(null==(u=a.conditions)||!u.url||iG[null!==(c=null==(d=a.conditions)?void 0:d.urlMatchType)&&void 0!==c?c:"icontains"](a.conditions.url,p))}static getWindowLocation(){return null==c?void 0:c.location}static _s(a){if(F(a.conditions)||F(null==(u=a.conditions)?void 0:u.utm))return!0;var l=Vn();if(l.utm_source){var u,c,d,p,f,g,_,v,w,S=null==(c=a.conditions)||null==(c=c.utm)||!c.utm_campaign||(null==(d=a.conditions)||null==(d=d.utm)?void 0:d.utm_campaign)==l.utm_campaign,x=null==(p=a.conditions)||null==(p=p.utm)||!p.utm_source||(null==(f=a.conditions)||null==(f=f.utm)?void 0:f.utm_source)==l.utm_source,k=null==(g=a.conditions)||null==(g=g.utm)||!g.utm_medium||(null==(_=a.conditions)||null==(_=_.utm)?void 0:_.utm_medium)==l.utm_medium,$=null==(v=a.conditions)||null==(v=v.utm)||!v.utm_term||(null==(w=a.conditions)||null==(w=w.utm)?void 0:w.utm_term)==l.utm_term;return S&&k&&$&&x}return!1}static hs(a){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];eh.info("[WebExperiments] "+a,u)}vs(a,l,u){this._is_bot()?ra.hs("Refusing to render web experiment since the viewer is a likely bot"):"control"!==l?u.forEach(u=>{if(u.selector){ra.hs("applying transform of variant "+l+" for experiment "+a+" ",u);var c,d=null==(c=document)?void 0:c.querySelectorAll(u.selector);null==d||d.forEach(a=>{u.html&&(a.innerHTML=u.html),u.css&&a.setAttribute("style",u.css)})}}):ra.hs("Control variants leave the page unmodified.")}_is_bot(){return _&&this._instance?Qo(_,this._instance.config.custom_blocked_useragents):void 0}};var iW=ep("[PostHog ExternalIntegrations]"),iY={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};let oa=class oa{constructor(a){this._instance=a}J(a,l){var u;null==(u=N.__PosthogExtensions__)||null==u.loadExternalDependency||u.loadExternalDependency(this._instance,a,a=>{if(a)return iW.error("failed to load script",a);l()})}startIfEnabledOrStop(){var a,l=this,i=function(a){var u,d,p;!c||null!=(u=N.__PosthogExtensions__)&&null!=(u=u.integrations)&&u[a]||l.J(iY[a],()=>{var u;null==(u=N.__PosthogExtensions__)||null==(u=u.integrations)||null==(u=u[a])||u.start(l._instance)}),!c&&null!=(d=N.__PosthogExtensions__)&&null!=(d=d.integrations)&&d[a]&&(null==(p=N.__PosthogExtensions__)||null==(p=p.integrations)||null==(p=p[a])||p.stop())};for(var[u,c]of Object.entries(null!==(a=this._instance.config.integrations)&&void 0!==a?a:{}))i(u)}};var iJ={},la=()=>{},iK="posthog",iX=!rP&&-1===(null==$?void 0:$.indexOf("MSIE"))&&-1===(null==$?void 0:$.indexOf("Mozilla")),da=a=>{var l;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:et(null==v?void 0:v.location),persistence:"localStorage+cookie",persistence_name:"",loaded:la,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==a||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=a?a:"unset",debug:w&&T(null==w?void 0:w.search)&&-1!==w.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==c||null==(l=c.location)?void 0:l.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:a=>{var l="Bad HTTP status: "+a.statusCode+" "+a.text;eh.error(l)},get_device_id:a=>a,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},error_tracking:{},_onCapture:la}},va=a=>{var l={};R(a.process_person)||(l.person_profiles=a.process_person),R(a.xhr_headers)||(l.request_headers=a.xhr_headers),R(a.cookie_name)||(l.persistence_name=a.cookie_name),R(a.disable_cookie)||(l.disable_persistence=a.disable_cookie),R(a.store_google)||(l.save_campaign_params=a.store_google),R(a.verbose)||(l.debug=a.verbose);var u=V({},l,a);return ed(a.property_blacklist)&&(R(a.property_denylist)?u.property_denylist=a.property_blacklist:ed(a.property_denylist)?u.property_denylist=[...a.property_blacklist,...a.property_denylist]:eh.error("Invalid value for property_denylist config: "+a.property_denylist)),u};let ca=class ca{constructor(){this.__forceAllowLocalhost=!1}get gs(){return this.__forceAllowLocalhost}set gs(a){eh.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=a}};let fa=class fa{get decideEndpointWasHit(){var a,l;return null!==(a=null==(l=this.featureFlags)?void 0:l.hasLoadedFlags)&&void 0!==a&&a}get flagsEndpointWasHit(){var a,l;return null!==(a=null==(l=this.featureFlags)?void 0:l.hasLoadedFlags)&&void 0!==a&&a}constructor(){this.webPerformance=new ca,this.bs=!1,this.version=U.LIB_VERSION,this.ys=new go,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=da(),this.SentryIntegration=ms,this.sentryIntegration=a=>(function(a,l){var u=gs(a,l);return{name:rm,processEvent:a=>u(a)}})(this,a),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ws=!1,this.Ss=null,this.$s=null,this.xs=null,this.featureFlags=new fo(this),this.toolbar=new $s(this),this.scrollManager=new qo(this),this.pageViewManager=new Ms(this),this.surveys=new Fo(this),this.experiments=new ra(this),this.exceptions=new Ws(this),this.rateLimiter=new Ao(this),this.requestRouter=new ia(this),this.consent=new te(this),this.externalIntegrations=new oa(this),this.people={set:(a,l,u)=>{var c=T(a)?{[a]:l}:a;this.setPersonProperties(c),null==u||u({})},set_once:(a,l,u)=>{var c=T(a)?{[a]:l}:a;this.setPersonProperties(void 0,c),null==u||u({})}},this.on("eventCaptured",a=>eh.info('send "'+(null==a?void 0:a.event)+'"',a))}init(a,l,u){if(u&&u!==iK){var c,d=null!==(c=iJ[u])&&void 0!==c?c:new fa;return d._init(a,l,u),iJ[u]=d,iJ[iK][u]=d,d}return this._init(a,l,u)}_init(a,l,u){if(void 0===l&&(l={}),R(a)||C(a))return eh.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return eh.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.ks=l,this.Es=[],l.person_profiles&&(this.$s=l.person_profiles),this.set_config(V({},da(l.defaults),va(l),{name:u,token:a})),this.config.on_xhr_error&&eh.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=l.disable_compression?void 0:er.GZipJS;var d=this.Is();this.persistence=new _o(this.config,d),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new _o(B({},this.config,{persistence:"sessionStorage"}),d);var p=B({},this.persistence.props),f=B({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Ps=new No(a=>this.Rs(a),this.config.request_queue_config),this.Ts=new Uo(this),this.__request_queue=[];var g="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(g||(this.sessionManager=new Go(this),this.sessionPropsManager=new Ho(this,this.sessionManager,this.persistence)),new ks(this).startIfEnabledOrStop(),this.siteApps=new Ko(this),null==(_=this.siteApps)||_.init(),g||(this.sessionRecording=new cs(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Mi(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Cs(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Ps(this),this.exceptionObserver=new le(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new se(this,re),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new ze(this),this.historyAutocapture.startIfEnabled(),U.DEBUG=U.DEBUG||this.config.debug,U.DEBUG&&eh.info("Starting in debug mode",{this:this,config:l,thisC:B({},this.config),p:p,s:f}),void 0!==(null==(v=l.bootstrap)?void 0:v.distinctID)){var _,v,w,S,x=this.config.get_device_id(Ni()),k=null!=(w=l.bootstrap)&&w.isIdentifiedID?x:l.bootstrap.distinctID;this.persistence.set_property(eY,null!=(S=l.bootstrap)&&S.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:l.bootstrap.distinctID,$device_id:k})}if(this.Cs()){var $,N,z=Object.keys((null==($=l.bootstrap)?void 0:$.featureFlags)||{}).filter(a=>{var u;return!(null==(u=l.bootstrap)||null==(u=u.featureFlags)||!u[a])}).reduce((a,u)=>{var c;return a[u]=(null==(c=l.bootstrap)||null==(c=c.featureFlags)?void 0:c[u])||!1,a},{}),W=Object.keys((null==(N=l.bootstrap)?void 0:N.featureFlagPayloads)||{}).filter(a=>z[a]).reduce((a,u)=>{var c,d;return null!=(c=l.bootstrap)&&null!=(c=c.featureFlagPayloads)&&c[u]&&(a[u]=null==(d=l.bootstrap)||null==(d=d.featureFlagPayloads)?void 0:d[u]),a},{});this.featureFlags.receivedFeatureFlags({featureFlags:z,featureFlagPayloads:W})}if(g)this.register_once({distinct_id:e2,$device_id:null},"");else if(!this.get_distinct_id()){var en=this.config.get_device_id(Ni());this.register_once({distinct_id:en,$device_id:en},""),this.persistence.set_property(eY,"anonymous")}return st(c,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),l.segment?ps(this,()=>this.Ms()):this.Ms(),E(this.config._onCapture)&&this.config._onCapture!==la&&(eh.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",a=>this.config._onCapture(a.event,a))),this.config.ip&&eh.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Re(a){var l,u,c,d,p,f,g,_;if(!v||!v.body)return eh.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Re(a)},500);this.compression=void 0,a.supportedCompression&&!this.config.disable_compression&&(this.compression=m(a.supportedCompression,er.GZipJS)?er.GZipJS:m(a.supportedCompression,er.Base64)?er.Base64:void 0),null!=(l=a.analytics)&&l.endpoint&&(this.analyticsDefaultEndpoint=a.analytics.endpoint),this.set_config({person_profiles:this.$s?this.$s:"identified_only"}),null==(u=this.siteApps)||u.onRemoteConfig(a),null==(c=this.sessionRecording)||c.onRemoteConfig(a),null==(d=this.autocapture)||d.onRemoteConfig(a),null==(p=this.heatmaps)||p.onRemoteConfig(a),this.surveys.onRemoteConfig(a),null==(f=this.webVitalsAutocapture)||f.onRemoteConfig(a),null==(g=this.exceptionObserver)||g.onRemoteConfig(a),this.exceptions.onRemoteConfig(a),null==(_=this.deadClicksAutocapture)||_.onRemoteConfig(a)}Ms(){try{this.config.loaded(this)}catch(a){eh.critical("`loaded` function failed",a)}this.Fs(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Os()},1),new jo(this).load(),this.featureFlags.flags()}Fs(){var a;this.is_capturing()&&this.config.request_batching&&(null==(a=this.Ps)||a.enable())}_dom_loaded(){this.is_capturing()&&G(this.__request_queue,a=>this.Rs(a)),this.__request_queue=[],this.Fs()}_handle_unload(){var a,l;this.config.request_batching?(this.As()&&this.capture("$pageleave"),null==(a=this.Ps)||a.unload(),null==(l=this.Ts)||l.unload()):this.As()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Pe(a){this.__loaded&&(iX?this.__request_queue.push(a):this.rateLimiter.isServerRateLimited(a.batchKey)||(a.transport=a.transport||this.config.api_transport,a.url=Ds(a.url,{ip:this.config.ip?1:0}),a.headers=B({},this.config.request_headers),a.compression="best-available"===a.compression?this.compression:a.compression,a.fetchOptions=a.fetchOptions||this.config.fetch_options,(a=>{var l,u,c,d=B({},a);d.timeout=d.timeout||6e4,d.url=Ds(d.url,{_:(new Date).getTime().toString(),ver:U.LIB_VERSION,compression:d.compression});var p=null!==(l=d.transport)&&void 0!==l?l:"fetch",f=null!==(u=null==(c=rt(rO,a=>a.transport===p))?void 0:c.method)&&void 0!==u?u:rO[0].method;if(!f)throw Error("No available transport method");f(d)})(B({},a,{callback:l=>{var u,c;this.rateLimiter.checkForLimiting(l),l.statusCode>=400&&(null==(u=(c=this.config).on_request_error)||u.call(c,l)),null==a.callback||a.callback(l)}}))))}Rs(a){this.Ts?this.Ts.retriableRequest(a):this.Pe(a)}_execute_array(a){var l,u=[],c=[],d=[];G(a,a=>{a&&(ed(l=a[0])?d.push(a):E(a)?a.call(this):ed(a)&&"alias"===l?u.push(a):ed(a)&&-1!==l.indexOf("capture")&&E(this[l])?d.push(a):c.push(a))});var n=function(a,l){G(a,function(a){if(ed(a[0])){var u=l;J(a,function(a){u=u[a[0]].apply(u,a.slice(1))})}else this[a[0]].apply(this,a.slice(1))},l)};n(u,this),n(c,this),n(d,this)}Cs(){var a,l;return(null==(a=this.config.bootstrap)?void 0:a.featureFlags)&&Object.keys(null==(l=this.config.bootstrap)?void 0:l.featureFlags).length>0||!1}push(a){this._execute_array([a])}capture(a,l,u){var c;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ps){if(this.is_capturing()){if(!R(a)&&T(a)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var d=null!=u&&u.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==d||!d.isRateLimited){null!=l&&l.$current_url&&!T(null==l?void 0:l.$current_url)&&(eh.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==l||delete l.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var p=new Date,f=(null==u?void 0:u.timestamp)||p,g=Ni(),_={uuid:g,event:a,properties:this.calculateEventProperties(a,l||{},f,g)};d&&(_.properties.$lib_rate_limit_remaining_tokens=d.remainingTokens),(null==u?void 0:u.$set)&&(_.$set=null==u?void 0:u.$set);var v,w=this.Ds(null==u?void 0:u.$set_once);if(w&&(_.$set_once=w),(_=tt(_,null!=u&&u._noTruncate?null:this.config.properties_string_max_length)).timestamp=f,R(null==u?void 0:u.timestamp)||(_.properties.$event_time_override_provided=!0,_.properties.$event_time_override_system_time=p),a===iC.DISMISSED||a===iC.SENT){var S=null==l?void 0:l[iM.SURVEY_ID],x=null==l?void 0:l[iM.SURVEY_ITERATION];v={id:S,current_iteration:x},localStorage.getItem(To(v))||localStorage.setItem(To(v),"true"),_.$set=B({},_.$set,{[Ro({id:S,current_iteration:x},a===iC.SENT?"responded":"dismissed")]:!0})}var k=B({},_.properties.$set,_.$set);if(P(k)||this.setPersonPropertiesForFlags(k),!F(this.config.before_send)){var $=this.js(_);if(!$)return;_=$}this.ys.emit("eventCaptured",_);var N={method:"POST",url:null!==(c=null==u?void 0:u._url)&&void 0!==c?c:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:_,compression:"best-available",batchKey:null==u?void 0:u._batchKey};return!this.config.request_batching||u&&(null==u||!u._batchKey)||null!=u&&u.send_instantly?this.Rs(N):this.Ps.enqueue(N),_}eh.critical("This capture call is ignored due to client rate limiting.")}}else eh.error("No event name provided to posthog.capture")}}else eh.uninitializedWarning("posthog.capture")}Ve(a){return this.on("eventCaptured",l=>a(l.event,l))}calculateEventProperties(a,l,u,c,d){if(u=u||new Date,!this.persistence||!this.sessionPersistence)return l;var p,f=d?void 0:this.persistence.remove_event_timer(a),g=B({},l);if(g.token=this.config.token,g.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(g.$cookieless_mode=!0),"$snapshot"===a){var _=B({},this.persistence.properties(),this.sessionPersistence.properties());return g.distinct_id=_.distinct_id,(!T(g.distinct_id)&&!O(g.distinct_id)||C(g.distinct_id))&&eh.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),g}var w,S=ro(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:x,windowId:k}=this.sessionManager.checkAndGetSessionAndWindowId(d,u.getTime());g.$session_id=x,g.$window_id=k}this.sessionPropsManager&&V(g,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&V(g,this.sessionRecording.sdkDebugProperties),g.$sdk_debug_retry_queue_size=null==(p=this.Ts)?void 0:p.length}catch(a){g.$sdk_debug_error_capturing_properties=String(a)}if(this.requestRouter.region===iz.CUSTOM&&(g.$lib_custom_api_host=this.config.api_host),w="$pageview"!==a||d?"$pageleave"!==a||d?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(u):this.pageViewManager.doPageView(u,c),g=V(g,w),"$pageview"===a&&v&&(g.title=v.title),!R(f)){var N=u.getTime()-f;g.$duration=parseFloat((N/1e3).toFixed(3))}$&&this.config.opt_out_useragent_filter&&(g.$browser_type=this._is_bot()?"bot":"browser"),(g=V({},S,this.persistence.properties(),this.sessionPersistence.properties(),g)).$is_identified=this._isIdentified(),ed(this.config.property_denylist)?J(this.config.property_denylist,function(a){delete g[a]}):eh.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var U=this.config.sanitize_properties;U&&(eh.error("sanitize_properties is deprecated. Use before_send instead"),g=U(g,a));var z=this.Ls();return g.$process_person_profile=z,z&&!d&&this.Ns("_calculate_event_properties"),g}Ds(a){if(!this.persistence||!this.Ls()||this.bs)return a;var l,u=V({},this.persistence.get_initial_props(),(null==(l=this.sessionPropsManager)?void 0:l.getSetOnceProps())||{},a||{}),c=this.config.sanitize_properties;return c&&(eh.error("sanitize_properties is deprecated. Use before_send instead"),u=c(u,"$set_once")),this.bs=!0,P(u)?void 0:u}register(a,l){var u;null==(u=this.persistence)||u.register(a,l)}register_once(a,l,u){var c;null==(c=this.persistence)||c.register_once(a,l,u)}register_for_session(a){var l;null==(l=this.sessionPersistence)||l.register(a)}unregister(a){var l;null==(l=this.persistence)||l.unregister(a)}unregister_for_session(a){var l;null==(l=this.sessionPersistence)||l.unregister(a)}zs(a,l){this.register({[a]:l})}getFeatureFlag(a,l){return this.featureFlags.getFeatureFlag(a,l)}getFeatureFlagPayload(a){var l=this.featureFlags.getFeatureFlagPayload(a);try{return JSON.parse(l)}catch(a){return l}}isFeatureEnabled(a,l){return this.featureFlags.isFeatureEnabled(a,l)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(a,l,u){this.featureFlags.updateEarlyAccessFeatureEnrollment(a,l,u)}getEarlyAccessFeatures(a,l,u){return void 0===l&&(l=!1),this.featureFlags.getEarlyAccessFeatures(a,l,u)}on(a,l){return this.ys.on(a,l)}onFeatureFlags(a){return this.featureFlags.onFeatureFlags(a)}onSurveysLoaded(a){return this.surveys.onSurveysLoaded(a)}onSessionId(a){var l,u;return null!==(l=null==(u=this.sessionManager)?void 0:u.onSessionId(a))&&void 0!==l?l:()=>{}}getSurveys(a,l){void 0===l&&(l=!1),this.surveys.getSurveys(a,l)}getActiveMatchingSurveys(a,l){void 0===l&&(l=!1),this.surveys.getActiveMatchingSurveys(a,l)}renderSurvey(a,l){this.surveys.renderSurvey(a,l)}canRenderSurvey(a){return this.surveys.canRenderSurvey(a)}canRenderSurveyAsync(a,l){return void 0===l&&(l=!1),this.surveys.canRenderSurveyAsync(a,l)}identify(a,l,u){if(!this.__loaded||!this.persistence)return eh.uninitializedWarning("posthog.identify");if(O(a)&&(a=a.toString(),eh.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),a){if(["distinct_id","distinctid"].includes(a.toLowerCase()))eh.critical('The string "'+a+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(a!==e2){if(this.Ns("posthog.identify")){var c=this.get_distinct_id();this.register({$user_id:a}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:c},""),a!==c&&a!==this.get_property(em)&&(this.unregister(em),this.register({distinct_id:a}));var d="anonymous"===(this.persistence.get_property(eY)||"anonymous");a!==c&&d?(this.persistence.set_property(eY,"identified"),this.setPersonPropertiesForFlags(B({},u||{},l||{}),!1),this.capture("$identify",{distinct_id:a,$anon_distinct_id:c},{$set:l||{},$set_once:u||{}}),this.xs=Us(a,l,u),this.featureFlags.setAnonymousDistinctId(c)):(l||u)&&this.setPersonProperties(l,u),a!==c&&(this.reloadFeatureFlags(),this.unregister(eW))}}else eh.critical('The string "'+e2+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.')}else eh.error("Unique user id has not been set in posthog.identify")}setPersonProperties(a,l){if((a||l)&&this.Ns("posthog.setPersonProperties")){var u=Us(this.get_distinct_id(),a,l);this.xs!==u?(this.setPersonPropertiesForFlags(B({},l||{},a||{})),this.capture("$set",{$set:a||{},$set_once:l||{}}),this.xs=u):eh.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(a,l,u){if(a&&l){if(this.Ns("posthog.group")){var c=this.getGroups();c[a]!==l&&this.resetGroupPropertiesForFlags(a),this.register({$groups:B({},c,{[a]:l})}),u&&(this.capture("$groupidentify",{$group_type:a,$group_key:l,$group_set:u}),this.setGroupPropertiesForFlags({[a]:u})),c[a]===l||u||this.reloadFeatureFlags()}}else eh.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(a,l){void 0===l&&(l=!0),this.featureFlags.setPersonPropertiesForFlags(a,l)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(a,l){void 0===l&&(l=!0),this.Ns("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(a,l)}resetGroupPropertiesForFlags(a){this.featureFlags.resetGroupPropertiesForFlags(a)}reset(a){if(eh.info("reset"),!this.__loaded)return eh.uninitializedWarning("posthog.reset");var l,u,c,d,p=this.get_property("$device_id");if(this.consent.reset(),null==(l=this.persistence)||l.clear(),null==(u=this.sessionPersistence)||u.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(c=this.persistence)||c.set_property(eY,"anonymous"),null==(d=this.sessionManager)||d.resetSessionId(),this.xs=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:e2,$device_id:null},"");else{var f=this.config.get_device_id(Ni());this.register_once({distinct_id:f,$device_id:a?f:p},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var a,l;return null!==(a=null==(l=this.sessionManager)?void 0:l.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==a?a:""}get_session_replay_url(a){if(!this.sessionManager)return"";var{sessionId:l,sessionStartTimestamp:u}=this.sessionManager.checkAndGetSessionAndWindowId(!0),c=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+l);if(null!=a&&a.withTimestamp&&u){var d,p=null!==(d=a.timestampLookBack)&&void 0!==d?d:10;if(!u)return c;c+="?t="+Math.max(Math.floor(((new Date).getTime()-u)/1e3)-p,0)}return c}alias(a,l){return a===this.get_property(ev)?(eh.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ns("posthog.alias")?(R(l)&&(l=this.get_distinct_id()),a!==l?(this.zs(em,a),this.capture("$create_alias",{alias:a,distinct_id:l})):(eh.warn("alias matches current distinct_id - skipping api call."),this.identify(a),-1)):void 0}set_config(a){var l=B({},this.config);if(I(a)){V(this.config,va(a));var u,c,d,p,f,g=this.Is();null==(u=this.persistence)||u.update_config(this.config,l,g),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new _o(B({},this.config,{persistence:"sessionStorage"}),g),tg.O()&&"true"===tg.D("ph_debug")&&(this.config.debug=!0),this.config.debug&&(U.DEBUG=!0,eh.info("set_config",{config:a,oldConfig:l,newConfig:B({},this.config)})),null==(c=this.sessionRecording)||c.startIfEnabledOrStop(),null==(d=this.autocapture)||d.startIfEnabled(),null==(p=this.heatmaps)||p.startIfEnabled(),this.surveys.loadIfEnabled(),this.Us(),null==(f=this.externalIntegrations)||f.startIfEnabledOrStop()}}startSessionRecording(a){var l,u,c,d,p,f=!0===a,g={sampling:f||!(null==a||!a.sampling),linked_flag:f||!(null==a||!a.linked_flag),url_trigger:f||!(null==a||!a.url_trigger),event_trigger:f||!(null==a||!a.event_trigger)};Object.values(g).some(Boolean)&&(null==(l=this.sessionManager)||l.checkAndGetSessionAndWindowId(),g.sampling&&(null==(u=this.sessionRecording)||u.overrideSampling()),g.linked_flag&&(null==(c=this.sessionRecording)||c.overrideLinkedFlag()),g.url_trigger&&(null==(d=this.sessionRecording)||d.overrideTrigger("url")),g.event_trigger&&(null==(p=this.sessionRecording)||p.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var a;return!(null==(a=this.sessionRecording)||!a.started)}captureException(a,l){var u=Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(B({},Le(a instanceof Error?{error:a,event:a.message}:{event:a},{syntheticException:u}),l))}loadToolbar(a){return this.toolbar.loadToolbar(a)}get_property(a){var l;return null==(l=this.persistence)?void 0:l.props[a]}getSessionProperty(a){var l;return null==(l=this.sessionPersistence)?void 0:l.props[a]}toString(){var a,l=null!==(a=this.config.name)&&void 0!==a?a:iK;return l!==iK&&(l=iK+"."+l),l}_isIdentified(){var a,l;return"identified"===(null==(a=this.persistence)?void 0:a.get_property(eY))||"identified"===(null==(l=this.sessionPersistence)?void 0:l.get_property(eY))}Ls(){var a,l;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&P(this.getGroups())&&(null==(a=this.persistence)||null==(a=a.props)||!a[em])&&(null==(l=this.persistence)||null==(l=l.props)||!l[e0]))}As(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Ls()||this.Ns("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ns(a){return"never"===this.config.person_profiles?(eh.error(a+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.zs(e0,!0),!0)}Is(){if("always"===this.config.cookieless_mode)return!0;var a=this.consent.isOptedOut(),l=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||a&&!!l}Us(){var a,l,u,c,d=this.Is();return(null==(a=this.persistence)?void 0:a.Ae)!==d&&(null==(u=this.persistence)||u.set_disabled(d)),(null==(l=this.sessionPersistence)?void 0:l.Ae)!==d&&(null==(c=this.sessionPersistence)||c.set_disabled(d)),d}opt_in_capturing(a){if("always"!==this.config.cookieless_mode){var l;"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Go(this),this.persistence&&(this.sessionPropsManager=new Ho(this,this.sessionManager,this.persistence)),this.sessionRecording=new cs(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Us(),(R(null==a?void 0:a.captureEventName)||null!=a&&a.captureEventName)&&this.capture(null!==(l=null==a?void 0:a.captureEventName)&&void 0!==l?l:"$opt_in",null==a?void 0:a.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Os()}else eh.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var a;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Us(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:e2,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(a=this.sessionRecording)||a.stopRecording(),this.sessionRecording=void 0,this.Os())):eh.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Us()}_is_bot(){return _?Qo(_,this.config.custom_blocked_useragents):void 0}Os(){v&&("visible"===v.visibilityState?this.ws||(this.ws=!0,this.capture("$pageview",{title:v.title},{send_instantly:!0}),this.Ss&&(v.removeEventListener("visibilitychange",this.Ss),this.Ss=null)):this.Ss||(this.Ss=this.Os.bind(this),st(v,"visibilitychange",this.Ss)))}debug(a){!1===a?(null==c||c.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==c||c.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var a,l,u,c,d=this.ks||{};return"advanced_disable_flags"in d?!!d.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(eh.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(l="advanced_disable_decide",u=(a="advanced_disable_flags")in d&&!R(d[a]),c=l in d&&!R(d[l]),u?d[a]:!!c&&(eh&&eh.warn("Config field '"+l+"' is deprecated. Please use '"+a+"' instead. The old field will be removed in a future major version."),d[l]))}js(a){if(F(this.config.before_send))return a;var l=ed(this.config.before_send)?this.config.before_send:[this.config.before_send],u=a;for(var c of l){if(F(u=c(u))){var d="Event '"+a.event+"' was rejected in beforeSend function";return j(a.event)?eh.warn(d+". This can cause unexpected behavior."):eh.info(d),null}u.properties&&!P(u.properties)||eh.warn("Event '"+a.event+"' has no properties after beforeSend function, this is likely an error.")}return u}getPageViewId(){var a;return null==(a=this.pageViewManager.ce)?void 0:a.pageViewId}captureTraceFeedback(a,l){this.capture("$ai_feedback",{$ai_trace_id:String(a),$ai_feedback_text:l})}captureTraceMetric(a,l,u){this.capture("$ai_metric",{$ai_trace_id:String(a),$ai_metric_name:l,$ai_metric_value:String(u)})}};!function(a,l){for(var u=0;u<l.length;u++)a.prototype[l[u]]=Q(a.prototype[l[u]])}(fa,["identify"]);var iZ,iQ,i0,i1=(i0=iJ[iK]=new fa,function(){function i(){i.done||(i.done=!0,iX=!1,J(iJ,function(a){a._dom_loaded()}))}null!=v&&v.addEventListener?"complete"===v.readyState?i():st(v,"DOMContentLoaded",i,{capture:!1}):c&&eh.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),i0)},10706:(a,l,u)=>{"use strict";u.d(l,{zf:()=>PostHogProvider});var c=u(30197),d=u(9885),p=u.n(d),f=(0,d.createContext)({client:c.ZP});function isDeepEqual(a,l,u){if(void 0===u&&(u=new WeakMap),a===l)return!0;if("object"!=typeof a||null===a||"object"!=typeof l||null===l)return!1;if(u.has(a)&&u.get(a)===l)return!0;u.set(a,l);var c=Object.keys(a),d=Object.keys(l);if(c.length!==d.length)return!1;for(var p=0;p<c.length;p++){var f=c[p];if(!d.includes(f)||!isDeepEqual(a[f],l[f],u))return!1}return!0}function PostHogProvider(a){var l=a.children,u=a.client,g=a.apiKey,_=a.options,v=(0,d.useRef)(null),w=(0,d.useMemo)(function(){return u?(g&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),_&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),u):(g||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),c.ZP)},[u,g,JSON.stringify(_)]);return(0,d.useEffect)(function(){if(!u){var a=v.current;a?(g!==a.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),_&&!isDeepEqual(_,a.options)&&c.ZP.set_config(_)):(c.ZP.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),c.ZP.init(g,_)),v.current={apiKey:g,options:null!=_?_:{}}}},[u,g,JSON.stringify(_)]),p().createElement(f.Provider,{value:{client:w}},l)}var usePostHog=function(){return useContext(f).client},extendStatics=function(a,l){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(a[u]=l[u])})(a,l)};function __extends(a,l){if("function"!=typeof l&&null!==l)throw TypeError("Class extends value "+String(l)+" is not a constructor or null");function __(){this.constructor=a}extendStatics(a,l),a.prototype=null===l?Object.create(l):(__.prototype=l.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(a){for(var l,u=1,c=arguments.length;u<c;u++)for(var d in l=arguments[u])Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d]);return a}).apply(this,arguments)};function __rest(a,l){var u={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&0>l.indexOf(c)&&(u[c]=a[c]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var d=0,c=Object.getOwnPropertySymbols(a);d<c.length;d++)0>l.indexOf(c[d])&&Object.prototype.propertyIsEnumerable.call(a,c[d])&&(u[c[d]]=a[c[d]]);return u}"function"==typeof SuppressedError&&SuppressedError;var isFunction=function(a){return"function"==typeof a},g={componentStack:null,exceptionEvent:null,error:null};(function(a){function PostHogErrorBoundary(l){var u=a.call(this,l)||this;return u.state=g,u}__extends(PostHogErrorBoundary,a),PostHogErrorBoundary.prototype.componentDidCatch=function(a,l){var u,c=this.props.additionalProperties;isFunction(c)?u=c(a):"object"==typeof c&&(u=c);var d=this.context.client.captureException(a,u),p=l.componentStack;this.setState({error:a,componentStack:p,exceptionEvent:d})},PostHogErrorBoundary.prototype.render=function(){var a=this.props,l=a.children,u=a.fallback,c=this.state;if(null==c.componentStack)return isFunction(l)?l():l;var d=isFunction(u)?p().createElement(u,{error:c.error,componentStack:c.componentStack,exceptionEvent:c.exceptionEvent}):u;return p().isValidElement(d)?d:(console.warn("[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."),p().createElement(p().Fragment,null))},PostHogErrorBoundary.contextType=f})(p().Component)},76637:(a,l,u)=>{"use strict";u.d(l,{g7:()=>p});var c=u(9885);function setRef(a,l){if("function"==typeof a)return a(l);null!=a&&(a.current=l)}function composeRefs(...a){return l=>{let u=!1,c=a.map(a=>{let c=setRef(a,l);return u||"function"!=typeof c||(u=!0),c});if(u)return()=>{for(let l=0;l<c.length;l++){let u=c[l];"function"==typeof u?u():setRef(a[l],null)}}}}var d=u(30784),p=function(a){let l=createSlotClone(a),u=c.forwardRef((a,u)=>{let{children:p,...f}=a,g=c.Children.toArray(p),_=g.find(isSlottable);if(_){let a=_.props.children,p=g.map(l=>l!==_?l:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,d.jsx)(l,{...f,ref:u,children:c.isValidElement(a)?c.cloneElement(a,void 0,p):null})}return(0,d.jsx)(l,{...f,ref:u,children:p})});return u.displayName=`${a}.Slot`,u}("Slot");function createSlotClone(a){let l=c.forwardRef((a,l)=>{let{children:u,...d}=a;if(c.isValidElement(u)){let a=getElementRef(u),p=mergeProps(d,u.props);return u.type!==c.Fragment&&(p.ref=l?composeRefs(l,a):a),c.cloneElement(u,p)}return c.Children.count(u)>1?c.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var f=Symbol("radix.slottable");function isSlottable(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===f}function mergeProps(a,l){let u={...l};for(let c in l){let d=a[c],p=l[c],f=/^on[A-Z]/.test(c);f?d&&p?u[c]=(...a)=>{let l=p(...a);return d(...a),l}:d&&(u[c]=d):"style"===c?u[c]={...d,...p}:"className"===c&&(u[c]=[d,p].filter(Boolean).join(" "))}return{...a,...u}}function getElementRef(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,u=l&&"isReactWarning"in l&&l.isReactWarning;return u?a.ref:(u=(l=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in l&&l.isReactWarning)?a.props.ref:a.props.ref||a.ref}},13592:(a,l,u)=>{"use strict";function _class_private_field_loose_base(a,l){if(!Object.prototype.hasOwnProperty.call(a,l))throw TypeError("attempted to use private field on non-instance");return a}u.r(l),u.d(l,{_:()=>_class_private_field_loose_base,_class_private_field_loose_base:()=>_class_private_field_loose_base})},94941:(a,l,u)=>{"use strict";u.r(l),u.d(l,{_:()=>_class_private_field_loose_key,_class_private_field_loose_key:()=>_class_private_field_loose_key});var c=0;function _class_private_field_loose_key(a){return"__private_"+c+++"_"+a}},80085:(a,l,u)=>{"use strict";function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}u.r(l),u.d(l,{_:()=>_interop_require_default,_interop_require_default:()=>_interop_require_default})},8425:(a,l,u)=>{"use strict";function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var l=new WeakMap,u=new WeakMap;return(_getRequireWildcardCache=function(a){return a?u:l})(a)}function _interop_require_wildcard(a,l){if(!l&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var u=_getRequireWildcardCache(l);if(u&&u.has(a))return u.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if("default"!==p&&Object.prototype.hasOwnProperty.call(a,p)){var f=d?Object.getOwnPropertyDescriptor(a,p):null;f&&(f.get||f.set)?Object.defineProperty(c,p,f):c[p]=a[p]}return c.default=a,u&&u.set(a,c),c}u.r(l),u.d(l,{_:()=>_interop_require_wildcard,_interop_require_wildcard:()=>_interop_require_wildcard})},91971:(a,l,u)=>{"use strict";u.d(l,{j:()=>cva});var c=u(10566);let falsyToString=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=c.W,cva=(a,l)=>u=>{var c;if((null==l?void 0:l.variants)==null)return d(a,null==u?void 0:u.class,null==u?void 0:u.className);let{variants:p,defaultVariants:f}=l,g=Object.keys(p).map(a=>{let l=null==u?void 0:u[a],c=null==f?void 0:f[a];if(null===l)return null;let d=falsyToString(l)||falsyToString(c);return p[a][d]}),_=u&&Object.entries(u).reduce((a,l)=>{let[u,c]=l;return void 0===c||(a[u]=c),a},{}),v=null==l?void 0:null===(c=l.compoundVariants)||void 0===c?void 0:c.reduce((a,l)=>{let{class:u,className:c,...d}=l;return Object.entries(d).every(a=>{let[l,u]=a;return Array.isArray(u)?u.includes({...f,..._}[l]):({...f,..._})[l]===u})?[...a,u,c]:a},[]);return d(a,g,v,null==u?void 0:u.class,null==u?void 0:u.className)}},10566:(a,l,u)=>{"use strict";function r(a){var l,u,c="";if("string"==typeof a||"number"==typeof a)c+=a;else if("object"==typeof a){if(Array.isArray(a)){var d=a.length;for(l=0;l<d;l++)a[l]&&(u=r(a[l]))&&(c&&(c+=" "),c+=u)}else for(u in a)a[u]&&(c&&(c+=" "),c+=u)}return c}function clsx(){for(var a,l,u=0,c="",d=arguments.length;u<d;u++)(a=arguments[u])&&(l=r(a))&&(c&&(c+=" "),c+=l);return c}u.d(l,{W:()=>clsx})},95196:(a,l,u)=>{"use strict";function _interop_require_default(a){return a&&a.__esModule?a:{default:a}}u.r(l),u.d(l,{_:()=>_interop_require_default,_interop_require_default:()=>_interop_require_default})},78126:(a,l,u)=>{"use strict";u.d(l,{m6:()=>N});let createClassGroupUtils=a=>{let l=createClassMap(a),{conflictingClassGroups:u,conflictingClassGroupModifiers:c}=a;return{getClassGroupId:a=>{let u=a.split("-");return""===u[0]&&1!==u.length&&u.shift(),getGroupRecursive(u,l)||getGroupIdForArbitraryProperty(a)},getConflictingClassGroupIds:(a,l)=>{let d=u[a]||[];return l&&c[a]?[...d,...c[a]]:d}}},getGroupRecursive=(a,l)=>{if(0===a.length)return l.classGroupId;let u=a[0],c=l.nextPart.get(u),d=c?getGroupRecursive(a.slice(1),c):void 0;if(d)return d;if(0===l.validators.length)return;let p=a.join("-");return l.validators.find(({validator:a})=>a(p))?.classGroupId},c=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=a=>{if(c.test(a)){let l=c.exec(a)[1],u=l?.substring(0,l.indexOf(":"));if(u)return"arbitrary.."+u}},createClassMap=a=>{let{theme:l,prefix:u}=a,c={nextPart:new Map,validators:[]},d=getPrefixedClassGroupEntries(Object.entries(a.classGroups),u);return d.forEach(([a,u])=>{processClassesRecursively(u,c,a,l)}),c},processClassesRecursively=(a,l,u,c)=>{a.forEach(a=>{if("string"==typeof a){let c=""===a?l:getPart(l,a);c.classGroupId=u;return}if("function"==typeof a){if(isThemeGetter(a)){processClassesRecursively(a(c),l,u,c);return}l.validators.push({validator:a,classGroupId:u});return}Object.entries(a).forEach(([a,d])=>{processClassesRecursively(d,getPart(l,a),u,c)})})},getPart=(a,l)=>{let u=a;return l.split("-").forEach(a=>{u.nextPart.has(a)||u.nextPart.set(a,{nextPart:new Map,validators:[]}),u=u.nextPart.get(a)}),u},isThemeGetter=a=>a.isThemeGetter,getPrefixedClassGroupEntries=(a,l)=>l?a.map(([a,u])=>{let c=u.map(a=>"string"==typeof a?l+a:"object"==typeof a?Object.fromEntries(Object.entries(a).map(([a,u])=>[l+a,u])):a);return[a,c]}):a,createLruCache=a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let l=0,u=new Map,c=new Map,update=(d,p)=>{u.set(d,p),++l>a&&(l=0,c=u,u=new Map)};return{get(a){let l=u.get(a);return void 0!==l?l:void 0!==(l=c.get(a))?(update(a,l),l):void 0},set(a,l){u.has(a)?u.set(a,l):update(a,l)}}},createParseClassName=a=>{let{separator:l,experimentalParseClassName:u}=a,c=1===l.length,d=l[0],p=l.length,parseClassName=a=>{let u;let f=[],g=0,_=0;for(let v=0;v<a.length;v++){let w=a[v];if(0===g){if(w===d&&(c||a.slice(v,v+p)===l)){f.push(a.slice(_,v)),_=v+p;continue}if("/"===w){u=v;continue}}"["===w?g++:"]"===w&&g--}let v=0===f.length?a:a.substring(_),w=v.startsWith("!"),S=w?v.substring(1):v,x=u&&u>_?u-_:void 0;return{modifiers:f,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:x}};return u?a=>u({className:a,parseClassName}):parseClassName},sortModifiers=a=>{if(a.length<=1)return a;let l=[],u=[];return a.forEach(a=>{let c="["===a[0];c?(l.push(...u.sort(),a),u=[]):u.push(a)}),l.push(...u.sort()),l},createConfigUtils=a=>({cache:createLruCache(a.cacheSize),parseClassName:createParseClassName(a),...createClassGroupUtils(a)}),d=/\s+/,mergeClassList=(a,l)=>{let{parseClassName:u,getClassGroupId:c,getConflictingClassGroupIds:p}=l,f=[],g=a.trim().split(d),_="";for(let a=g.length-1;a>=0;a-=1){let l=g[a],{modifiers:d,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:S}=u(l),x=!!S,k=c(x?w.substring(0,S):w);if(!k){if(!x||!(k=c(w))){_=l+(_.length>0?" "+_:_);continue}x=!1}let $=sortModifiers(d).join(":"),N=v?$+"!":$,U=N+k;if(f.includes(U))continue;f.push(U);let z=p(k,x);for(let a=0;a<z.length;++a){let l=z[a];f.push(N+l)}_=l+(_.length>0?" "+_:_)}return _};function twJoin(){let a,l,u=0,c="";for(;u<arguments.length;)(a=arguments[u++])&&(l=toValue(a))&&(c&&(c+=" "),c+=l);return c}let toValue=a=>{let l;if("string"==typeof a)return a;let u="";for(let c=0;c<a.length;c++)a[c]&&(l=toValue(a[c]))&&(u&&(u+=" "),u+=l);return u};function createTailwindMerge(a,...l){let u,c,d;let p=initTailwindMerge;function initTailwindMerge(f){let g=l.reduce((a,l)=>l(a),a());return c=(u=createConfigUtils(g)).cache.get,d=u.cache.set,p=tailwindMerge,tailwindMerge(f)}function tailwindMerge(a){let l=c(a);if(l)return l;let p=mergeClassList(a,u);return d(a,p),p}return function(){return p(twJoin.apply(null,arguments))}}let fromTheme=a=>{let themeGetter=l=>l[a]||[];return themeGetter.isThemeGetter=!0,themeGetter},p=/^\[(?:([a-z-]+):)?(.+)\]$/i,f=/^\d+\/\d+$/,g=new Set(["px","full","screen"]),_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,S=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=a=>isNumber(a)||g.has(a)||f.test(a),isArbitraryLength=a=>getIsArbitraryValue(a,"length",isLengthOnly),isNumber=a=>!!a&&!Number.isNaN(Number(a)),isArbitraryNumber=a=>getIsArbitraryValue(a,"number",isNumber),isInteger=a=>!!a&&Number.isInteger(Number(a)),isPercent=a=>a.endsWith("%")&&isNumber(a.slice(0,-1)),isArbitraryValue=a=>p.test(a),isTshirtSize=a=>_.test(a),k=new Set(["length","size","percentage"]),isArbitrarySize=a=>getIsArbitraryValue(a,k,isNever),isArbitraryPosition=a=>getIsArbitraryValue(a,"position",isNever),$=new Set(["image","url"]),isArbitraryImage=a=>getIsArbitraryValue(a,$,isImage),isArbitraryShadow=a=>getIsArbitraryValue(a,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(a,l,u)=>{let c=p.exec(a);return!!c&&(c[1]?"string"==typeof l?c[1]===l:l.has(c[1]):u(c[2]))},isLengthOnly=a=>v.test(a)&&!w.test(a),isNever=()=>!1,isShadow=a=>S.test(a),isImage=a=>x.test(a);Symbol.toStringTag;let N=createTailwindMerge(()=>{let a=fromTheme("colors"),l=fromTheme("spacing"),u=fromTheme("blur"),c=fromTheme("brightness"),d=fromTheme("borderColor"),p=fromTheme("borderRadius"),f=fromTheme("borderSpacing"),g=fromTheme("borderWidth"),_=fromTheme("contrast"),v=fromTheme("grayscale"),w=fromTheme("hueRotate"),S=fromTheme("invert"),x=fromTheme("gap"),k=fromTheme("gradientColorStops"),$=fromTheme("gradientColorStopPositions"),N=fromTheme("inset"),U=fromTheme("margin"),z=fromTheme("opacity"),W=fromTheme("padding"),er=fromTheme("saturate"),en=fromTheme("scale"),ea=fromTheme("sepia"),el=fromTheme("skew"),eu=fromTheme("space"),ec=fromTheme("translate"),getOverscroll=()=>["auto","contain","none"],getOverflow=()=>["auto","hidden","clip","visible","scroll"],getSpacingWithAutoAndArbitrary=()=>["auto",isArbitraryValue,l],getSpacingWithArbitrary=()=>[isArbitraryValue,l],getLengthWithEmptyAndArbitrary=()=>["",isLength,isArbitraryLength],getNumberWithAutoAndArbitrary=()=>["auto",isNumber,isArbitraryValue],getPositions=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],getLineStyles=()=>["solid","dashed","dotted","double","none"],getBlendModes=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],getAlign=()=>["start","end","center","between","around","evenly","stretch"],getZeroAndEmpty=()=>["","0",isArbitraryValue],getBreaks=()=>["auto","avoid","all","avoid-page","page","left","right","column"],getNumberAndArbitrary=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:getNumberAndArbitrary(),borderColor:[a],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:getSpacingWithArbitrary(),borderWidth:getLengthWithEmptyAndArbitrary(),contrast:getNumberAndArbitrary(),grayscale:getZeroAndEmpty(),hueRotate:getNumberAndArbitrary(),invert:getZeroAndEmpty(),gap:getSpacingWithArbitrary(),gradientColorStops:[a],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:getSpacingWithAutoAndArbitrary(),margin:getSpacingWithAutoAndArbitrary(),opacity:getNumberAndArbitrary(),padding:getSpacingWithArbitrary(),saturate:getNumberAndArbitrary(),scale:getNumberAndArbitrary(),sepia:getZeroAndEmpty(),skew:getNumberAndArbitrary(),space:getSpacingWithArbitrary(),translate:getSpacingWithArbitrary()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":getBreaks()}],"break-before":[{"break-before":getBreaks()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...getPositions(),isArbitraryValue]}],overflow:[{overflow:getOverflow()}],"overflow-x":[{"overflow-x":getOverflow()}],"overflow-y":[{"overflow-y":getOverflow()}],overscroll:[{overscroll:getOverscroll()}],"overscroll-x":[{"overscroll-x":getOverscroll()}],"overscroll-y":[{"overscroll-y":getOverscroll()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:getSpacingWithAutoAndArbitrary()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:getZeroAndEmpty()}],shrink:[{shrink:getZeroAndEmpty()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":getNumberWithAutoAndArbitrary()}],"col-end":[{"col-end":getNumberWithAutoAndArbitrary()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":getNumberWithAutoAndArbitrary()}],"row-end":[{"row-end":getNumberWithAutoAndArbitrary()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...getAlign()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...getAlign(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...getAlign(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[W]}],px:[{px:[W]}],py:[{py:[W]}],ps:[{ps:[W]}],pe:[{pe:[W]}],pt:[{pt:[W]}],pr:[{pr:[W]}],pb:[{pb:[W]}],pl:[{pl:[W]}],m:[{m:[U]}],mx:[{mx:[U]}],my:[{my:[U]}],ms:[{ms:[U]}],me:[{me:[U]}],mt:[{mt:[U]}],mr:[{mr:[U]}],mb:[{mb:[U]}],ml:[{ml:[U]}],"space-x":[{"space-x":[eu]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[eu]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,l]}],"min-w":[{"min-w":[isArbitraryValue,l,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,l,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,l,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,l,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,l,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,l,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[z]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...getLineStyles(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:getSpacingWithArbitrary()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[z]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...getPositions(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[$]}],"gradient-via-pos":[{via:[$]}],"gradient-to-pos":[{to:[$]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[p]}],"rounded-s":[{"rounded-s":[p]}],"rounded-e":[{"rounded-e":[p]}],"rounded-t":[{"rounded-t":[p]}],"rounded-r":[{"rounded-r":[p]}],"rounded-b":[{"rounded-b":[p]}],"rounded-l":[{"rounded-l":[p]}],"rounded-ss":[{"rounded-ss":[p]}],"rounded-se":[{"rounded-se":[p]}],"rounded-ee":[{"rounded-ee":[p]}],"rounded-es":[{"rounded-es":[p]}],"rounded-tl":[{"rounded-tl":[p]}],"rounded-tr":[{"rounded-tr":[p]}],"rounded-br":[{"rounded-br":[p]}],"rounded-bl":[{"rounded-bl":[p]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[z]}],"border-style":[{border:[...getLineStyles(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[z]}],"divide-style":[{divide:getLineStyles()}],"border-color":[{border:[d]}],"border-color-x":[{"border-x":[d]}],"border-color-y":[{"border-y":[d]}],"border-color-s":[{"border-s":[d]}],"border-color-e":[{"border-e":[d]}],"border-color-t":[{"border-t":[d]}],"border-color-r":[{"border-r":[d]}],"border-color-b":[{"border-b":[d]}],"border-color-l":[{"border-l":[d]}],"divide-color":[{divide:[d]}],"outline-style":[{outline:["",...getLineStyles()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:getLengthWithEmptyAndArbitrary()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[z]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[z]}],"mix-blend":[{"mix-blend":[...getBlendModes(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":getBlendModes()}],filter:[{filter:["","none"]}],blur:[{blur:[u]}],brightness:[{brightness:[c]}],contrast:[{contrast:[_]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[S]}],saturate:[{saturate:[er]}],sepia:[{sepia:[ea]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[u]}],"backdrop-brightness":[{"backdrop-brightness":[c]}],"backdrop-contrast":[{"backdrop-contrast":[_]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[S]}],"backdrop-opacity":[{"backdrop-opacity":[z]}],"backdrop-saturate":[{"backdrop-saturate":[er]}],"backdrop-sepia":[{"backdrop-sepia":[ea]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:getNumberAndArbitrary()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:getNumberAndArbitrary()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[en]}],"scale-x":[{"scale-x":[en]}],"scale-y":[{"scale-y":[en]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[ec]}],"translate-y":[{"translate-y":[ec]}],"skew-x":[{"skew-x":[el]}],"skew-y":[{"skew-y":[el]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":getSpacingWithArbitrary()}],"scroll-mx":[{"scroll-mx":getSpacingWithArbitrary()}],"scroll-my":[{"scroll-my":getSpacingWithArbitrary()}],"scroll-ms":[{"scroll-ms":getSpacingWithArbitrary()}],"scroll-me":[{"scroll-me":getSpacingWithArbitrary()}],"scroll-mt":[{"scroll-mt":getSpacingWithArbitrary()}],"scroll-mr":[{"scroll-mr":getSpacingWithArbitrary()}],"scroll-mb":[{"scroll-mb":getSpacingWithArbitrary()}],"scroll-ml":[{"scroll-ml":getSpacingWithArbitrary()}],"scroll-p":[{"scroll-p":getSpacingWithArbitrary()}],"scroll-px":[{"scroll-px":getSpacingWithArbitrary()}],"scroll-py":[{"scroll-py":getSpacingWithArbitrary()}],"scroll-ps":[{"scroll-ps":getSpacingWithArbitrary()}],"scroll-pe":[{"scroll-pe":getSpacingWithArbitrary()}],"scroll-pt":[{"scroll-pt":getSpacingWithArbitrary()}],"scroll-pr":[{"scroll-pr":getSpacingWithArbitrary()}],"scroll-pb":[{"scroll-pb":getSpacingWithArbitrary()}],"scroll-pl":[{"scroll-pl":getSpacingWithArbitrary()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}})}};