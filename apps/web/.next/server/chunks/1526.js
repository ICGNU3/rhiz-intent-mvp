"use strict";exports.id=1526,exports.ids=[1526],exports.modules={61526:(e,t,n)=>{n.d(t,{M:()=>AnimatePresence});var r=n(30784),s=n(9885),i=n(16976),l=n(37116),o=n(5249),h=n(52687),u=n(94370),d=n(86743);let PopChildMeasure=class PopChildMeasure extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,u.R)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function PopChild({children:e,isPresent:t,anchorX:n,root:i}){let l=(0,s.useId)(),o=(0,s.useRef)(null),h=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,s.useContext)(d._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:r,top:s,left:d,right:p}=h.current;if(t||!o.current||!e||!r)return;let f="left"===n?`left: ${d}`:`right: ${p}`;o.current.dataset.motionPopId=l;let c=document.createElement("style");u&&(c.nonce=u);let a=i??document.head;return a.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${f}px !important;
            top: ${s}px !important;
          }
        `),()=>{a.contains(c)&&a.removeChild(c)}},[t]),(0,r.jsx)(PopChildMeasure,{isPresent:t,childRef:o,sizeRef:h,children:s.cloneElement(e,{ref:o})})}let PresenceChild=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:u,mode:d,anchorX:p,root:f})=>{let c=(0,l.h)(newChildrenMap),a=(0,s.useId)(),m=!0,C=(0,s.useMemo)(()=>(m=!1,{id:a,initial:t,isPresent:n,custom:o,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[n,c,i]);return u&&m&&(C={...C}),(0,s.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[n]),s.useEffect(()=>{n||c.size||!i||i()},[n]),"popLayout"===d&&(e=(0,r.jsx)(PopChild,{isPresent:n,anchorX:p,root:f,children:e})),(0,r.jsx)(h.O.Provider,{value:C,children:e})};function newChildrenMap(){return new Map}var p=n(35130);let getChildKey=e=>e.key||"";function onlyElements(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let AnimatePresence=({children:e,custom:t,initial:n=!0,onExitComplete:h,presenceAffectsLayout:u=!0,mode:d="sync",propagate:f=!1,anchorX:c="left",root:a})=>{let[m,C]=(0,p.oO)(f),g=(0,s.useMemo)(()=>onlyElements(e),[e]),x=f&&!m?[]:g.map(getChildKey),P=(0,s.useRef)(!0),y=(0,s.useRef)(g),E=(0,l.h)(()=>new Map),[M,R]=(0,s.useState)(g),[w,v]=(0,s.useState)(g);(0,o.L)(()=>{P.current=!1,y.current=g;for(let e=0;e<w.length;e++){let t=getChildKey(w[e]);x.includes(t)?E.delete(t):!0!==E.get(t)&&E.set(t,!1)}},[w,x.length,x.join("-")]);let $=[];if(g!==M){let e=[...g];for(let t=0;t<w.length;t++){let n=w[t],r=getChildKey(n);x.includes(r)||(e.splice(t,0,n),$.push(n))}return"wait"===d&&$.length&&(e=$),v(onlyElements(e)),R(g),null}let{forceRender:j}=(0,s.useContext)(i.p);return(0,r.jsx)(r.Fragment,{children:w.map(e=>{let s=getChildKey(e),i=(!f||!!m)&&(g===w||x.includes(s));return(0,r.jsx)(PresenceChild,{isPresent:i,initial:(!P.current||!!n)&&void 0,custom:t,presenceAffectsLayout:u,mode:d,root:a,onExitComplete:i?void 0:()=>{if(!E.has(s))return;E.set(s,!0);let e=!0;E.forEach(t=>{t||(e=!1)}),e&&(j?.(),v(y.current),f&&C?.(),h&&h())},anchorX:c,children:e},s)})})}}};