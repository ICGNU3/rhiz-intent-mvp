"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analytics/route";
exports.ids = ["app/api/analytics/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_israelwilson_Developer_rhiz_intent_mvp_apps_web_app_api_analytics_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/analytics/route.ts */ \"(rsc)/./app/api/analytics/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analytics/route\",\n        pathname: \"/api/analytics\",\n        filename: \"route\",\n        bundlePath: \"app/api/analytics/route\"\n    },\n    resolvedPagePath: \"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/api/analytics/route.ts\",\n    nextConfigOutput,\n    userland: _Users_israelwilson_Developer_rhiz_intent_mvp_apps_web_app_api_analytics_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/analytics/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXRpY3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmlzcmFlbHdpbHNvbiUyRkRldmVsb3BlciUyRnJoaXotaW50ZW50LW12cCUyRmFwcHMlMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGaXNyYWVsd2lsc29uJTJGRGV2ZWxvcGVyJTJGcmhpei1pbnRlbnQtbXZwJTJGYXBwcyUyRndlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDK0M7QUFDOUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHJoaXovd2ViLz9kZmIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9pc3JhZWx3aWxzb24vRGV2ZWxvcGVyL3JoaXotaW50ZW50LW12cC9hcHBzL3dlYi9hcHAvYXBpL2FuYWx5dGljcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5hbHl0aWNzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYW5hbHl0aWNzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hbmFseXRpY3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvaXNyYWVsd2lsc29uL0RldmVsb3Blci9yaGl6LWludGVudC1tdnAvYXBwcy93ZWIvYXBwL2FwaS9hbmFseXRpY3Mvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl0aWNzL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analytics/route.ts":
/*!************************************!*\
  !*** ./app/api/analytics/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n\n// Initialize Supabase client\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(supabaseUrl, supabaseKey);\n// GET /api/analytics - Get workspace analytics\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const workspaceId = searchParams.get(\"workspaceId\");\n        const period = searchParams.get(\"period\") || \"30\"; // days\n        if (!workspaceId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Workspace ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // For demo purposes, use a hardcoded workspace ID if none provided\n        const demoWorkspaceId = \"550e8400-e29b-41d4-a716-446655440001\";\n        const actualWorkspaceId = workspaceId === \"demo\" ? demoWorkspaceId : workspaceId;\n        // Get analytics data from Supabase\n        const { data: networkGrowth, error: networkError } = await supabase.from(\"event_log\").select(\"created_at, event\").eq(\"workspace_id\", actualWorkspaceId).eq(\"event\", \"person_enriched\").gte(\"created_at\", new Date(Date.now() - parseInt(period) * 24 * 60 * 60 * 1000).toISOString());\n        const { data: suggestions, error: suggestionsError } = await supabase.from(\"suggestion\").select(\"created_at, state\").eq(\"workspace_id\", actualWorkspaceId).eq(\"kind\", \"introduction\").gte(\"created_at\", new Date(Date.now() - parseInt(period) * 24 * 60 * 60 * 1000).toISOString());\n        const { data: goals, error: goalsError } = await supabase.from(\"goal\").select(\"status\").eq(\"workspace_id\", actualWorkspaceId);\n        const { data: people, error: peopleError } = await supabase.from(\"person\").select(\"id\").eq(\"workspace_id\", actualWorkspaceId);\n        if (networkError || suggestionsError || goalsError || peopleError) {\n            console.error(\"Database errors:\", {\n                networkError,\n                suggestionsError,\n                goalsError,\n                peopleError\n            });\n            // Return mock data if database errors occur\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                networkGrowth: [\n                    {\n                        date: \"2024-01-01\",\n                        count: 5\n                    },\n                    {\n                        date: \"2024-01-02\",\n                        count: 3\n                    },\n                    {\n                        date: \"2024-01-03\",\n                        count: 7\n                    }\n                ],\n                introductionsData: [\n                    {\n                        date: \"2024-01-01\",\n                        total: 2,\n                        accepted: 1,\n                        completed: 0\n                    },\n                    {\n                        date: \"2024-01-02\",\n                        total: 3,\n                        accepted: 2,\n                        completed: 1\n                    },\n                    {\n                        date: \"2024-01-03\",\n                        total: 1,\n                        accepted: 1,\n                        completed: 0\n                    }\n                ],\n                goalProgress: [\n                    {\n                        status: \"active\",\n                        count: 3\n                    },\n                    {\n                        status: \"completed\",\n                        count: 1\n                    }\n                ],\n                dormantRelationships: [\n                    {\n                        date: \"2024-01-01\",\n                        count: 2\n                    },\n                    {\n                        date: \"2024-01-02\",\n                        count: 1\n                    },\n                    {\n                        date: \"2024-01-03\",\n                        count: 3\n                    }\n                ],\n                metrics: {\n                    totalContacts: 25,\n                    totalSuggestions: 6,\n                    acceptedSuggestions: 4,\n                    activeGoals: 3,\n                    acceptanceRate: 67\n                }\n            });\n        }\n        // Process real data\n        const networkGrowthData = networkGrowth?.map((item)=>({\n                date: new Date(item.created_at).toISOString().split(\"T\")[0],\n                count: 1\n            })).reduce((acc, item)=>{\n            const existing = acc.find((x)=>x.date === item.date);\n            if (existing) {\n                existing.count += 1;\n            } else {\n                acc.push(item);\n            }\n            return acc;\n        }, []) || [];\n        const suggestionsData = suggestions?.map((item)=>({\n                date: new Date(item.created_at).toISOString().split(\"T\")[0],\n                total: 1,\n                accepted: item.state === \"accepted\" ? 1 : 0,\n                completed: item.state === \"completed\" ? 1 : 0\n            })).reduce((acc, item)=>{\n            const existing = acc.find((x)=>x.date === item.date);\n            if (existing) {\n                existing.total += 1;\n                existing.accepted += item.accepted;\n                existing.completed += item.completed;\n            } else {\n                acc.push(item);\n            }\n            return acc;\n        }, []) || [];\n        const goalProgressData = goals?.reduce((acc, goal)=>{\n            const existing = acc.find((x)=>x.status === goal.status);\n            if (existing) {\n                existing.count += 1;\n            } else {\n                acc.push({\n                    status: goal.status,\n                    count: 1\n                });\n            }\n            return acc;\n        }, []) || [];\n        const acceptedSuggestions = suggestions?.filter((s)=>s.state === \"accepted\").length || 0;\n        const totalSuggestions = suggestions?.length || 0;\n        const activeGoals = goals?.filter((g)=>g.status === \"active\").length || 0;\n        const analytics = {\n            networkGrowth: networkGrowthData,\n            introductionsData: suggestionsData,\n            goalProgress: goalProgressData,\n            dormantRelationships: [],\n            metrics: {\n                totalContacts: people?.length || 0,\n                totalSuggestions,\n                acceptedSuggestions,\n                activeGoals,\n                acceptanceRate: totalSuggestions > 0 ? Math.round(acceptedSuggestions / totalSuggestions * 100) : 0\n            }\n        };\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(analytics);\n    } catch (error) {\n        console.error(\"Error fetching analytics:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch analytics\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UWtDLFVBQVU7Z0JBQ2pDckI7Z0JBQ0FDO2dCQUNBQztnQkFDQUMsZ0JBQWdCSCxtQkFBbUIsSUFBSXdCLEtBQUtDLEtBQUssQ0FBQyxzQkFBdUJ6QixtQkFBb0IsT0FBTztZQUN0RztRQUNGO1FBRUEsT0FBT2xELGtGQUFZQSxDQUFDaUIsSUFBSSxDQUFDd0Q7SUFDM0IsRUFBRSxPQUFPdkQsT0FBTztRQUNkcUIsUUFBUXJCLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU9sQixrRkFBWUEsQ0FBQ2lCLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUE0QixHQUNyQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0ByaGl6L3dlYi8uL2FwcC9hcGkvYW5hbHl0aWNzL3JvdXRlLnRzPzg5YWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbi8vIEluaXRpYWxpemUgU3VwYWJhc2UgY2xpZW50XG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XG5jb25zdCBzdXBhYmFzZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhO1xuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KTtcblxuLy8gR0VUIC9hcGkvYW5hbHl0aWNzIC0gR2V0IHdvcmtzcGFjZSBhbmFseXRpY3NcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3Qgd29ya3NwYWNlSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCd3b3Jrc3BhY2VJZCcpO1xuICAgIGNvbnN0IHBlcmlvZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3BlcmlvZCcpIHx8ICczMCc7IC8vIGRheXNcblxuICAgIGlmICghd29ya3NwYWNlSWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1dvcmtzcGFjZSBJRCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEZvciBkZW1vIHB1cnBvc2VzLCB1c2UgYSBoYXJkY29kZWQgd29ya3NwYWNlIElEIGlmIG5vbmUgcHJvdmlkZWRcbiAgICBjb25zdCBkZW1vV29ya3NwYWNlSWQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAxJztcbiAgICBjb25zdCBhY3R1YWxXb3Jrc3BhY2VJZCA9IHdvcmtzcGFjZUlkID09PSAnZGVtbycgPyBkZW1vV29ya3NwYWNlSWQgOiB3b3Jrc3BhY2VJZDtcblxuICAgIC8vIEdldCBhbmFseXRpY3MgZGF0YSBmcm9tIFN1cGFiYXNlXG4gICAgY29uc3QgeyBkYXRhOiBuZXR3b3JrR3Jvd3RoLCBlcnJvcjogbmV0d29ya0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2V2ZW50X2xvZycpXG4gICAgICAuc2VsZWN0KCdjcmVhdGVkX2F0LCBldmVudCcpXG4gICAgICAuZXEoJ3dvcmtzcGFjZV9pZCcsIGFjdHVhbFdvcmtzcGFjZUlkKVxuICAgICAgLmVxKCdldmVudCcsICdwZXJzb25fZW5yaWNoZWQnKVxuICAgICAgLmd0ZSgnY3JlYXRlZF9hdCcsIG5ldyBEYXRlKERhdGUubm93KCkgLSBwYXJzZUludChwZXJpb2QpICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSk7XG5cbiAgICBjb25zdCB7IGRhdGE6IHN1Z2dlc3Rpb25zLCBlcnJvcjogc3VnZ2VzdGlvbnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdzdWdnZXN0aW9uJylcbiAgICAgIC5zZWxlY3QoJ2NyZWF0ZWRfYXQsIHN0YXRlJylcbiAgICAgIC5lcSgnd29ya3NwYWNlX2lkJywgYWN0dWFsV29ya3NwYWNlSWQpXG4gICAgICAuZXEoJ2tpbmQnLCAnaW50cm9kdWN0aW9uJylcbiAgICAgIC5ndGUoJ2NyZWF0ZWRfYXQnLCBuZXcgRGF0ZShEYXRlLm5vdygpIC0gcGFyc2VJbnQocGVyaW9kKSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkpO1xuXG4gICAgY29uc3QgeyBkYXRhOiBnb2FscywgZXJyb3I6IGdvYWxzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZ29hbCcpXG4gICAgICAuc2VsZWN0KCdzdGF0dXMnKVxuICAgICAgLmVxKCd3b3Jrc3BhY2VfaWQnLCBhY3R1YWxXb3Jrc3BhY2VJZCk7XG5cbiAgICBjb25zdCB7IGRhdGE6IHBlb3BsZSwgZXJyb3I6IHBlb3BsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3BlcnNvbicpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAuZXEoJ3dvcmtzcGFjZV9pZCcsIGFjdHVhbFdvcmtzcGFjZUlkKTtcblxuICAgIGlmIChuZXR3b3JrRXJyb3IgfHwgc3VnZ2VzdGlvbnNFcnJvciB8fCBnb2Fsc0Vycm9yIHx8IHBlb3BsZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvcnM6JywgeyBuZXR3b3JrRXJyb3IsIHN1Z2dlc3Rpb25zRXJyb3IsIGdvYWxzRXJyb3IsIHBlb3BsZUVycm9yIH0pO1xuICAgICAgLy8gUmV0dXJuIG1vY2sgZGF0YSBpZiBkYXRhYmFzZSBlcnJvcnMgb2NjdXJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIG5ldHdvcmtHcm93dGg6IFtcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAxJywgY291bnQ6IDUgfSxcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAyJywgY291bnQ6IDMgfSxcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAzJywgY291bnQ6IDcgfVxuICAgICAgICBdLFxuICAgICAgICBpbnRyb2R1Y3Rpb25zRGF0YTogW1xuICAgICAgICAgIHsgZGF0ZTogJzIwMjQtMDEtMDEnLCB0b3RhbDogMiwgYWNjZXB0ZWQ6IDEsIGNvbXBsZXRlZDogMCB9LFxuICAgICAgICAgIHsgZGF0ZTogJzIwMjQtMDEtMDInLCB0b3RhbDogMywgYWNjZXB0ZWQ6IDIsIGNvbXBsZXRlZDogMSB9LFxuICAgICAgICAgIHsgZGF0ZTogJzIwMjQtMDEtMDMnLCB0b3RhbDogMSwgYWNjZXB0ZWQ6IDEsIGNvbXBsZXRlZDogMCB9XG4gICAgICAgIF0sXG4gICAgICAgIGdvYWxQcm9ncmVzczogW1xuICAgICAgICAgIHsgc3RhdHVzOiAnYWN0aXZlJywgY291bnQ6IDMgfSxcbiAgICAgICAgICB7IHN0YXR1czogJ2NvbXBsZXRlZCcsIGNvdW50OiAxIH1cbiAgICAgICAgXSxcbiAgICAgICAgZG9ybWFudFJlbGF0aW9uc2hpcHM6IFtcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAxJywgY291bnQ6IDIgfSxcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAyJywgY291bnQ6IDEgfSxcbiAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAzJywgY291bnQ6IDMgfVxuICAgICAgICBdLFxuICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgdG90YWxDb250YWN0czogMjUsXG4gICAgICAgICAgdG90YWxTdWdnZXN0aW9uczogNixcbiAgICAgICAgICBhY2NlcHRlZFN1Z2dlc3Rpb25zOiA0LFxuICAgICAgICAgIGFjdGl2ZUdvYWxzOiAzLFxuICAgICAgICAgIGFjY2VwdGFuY2VSYXRlOiA2NyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgcmVhbCBkYXRhXG4gICAgY29uc3QgbmV0d29ya0dyb3d0aERhdGEgPSBuZXR3b3JrR3Jvd3RoPy5tYXAoaXRlbSA9PiAoe1xuICAgICAgZGF0ZTogbmV3IERhdGUoaXRlbS5jcmVhdGVkX2F0KS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICBjb3VudDogMVxuICAgIH0pKS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBhY2MuZmluZCh4ID0+IHguZGF0ZSA9PT0gaXRlbS5kYXRlKTtcbiAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICBleGlzdGluZy5jb3VudCArPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdIGFzIGFueVtdKSB8fCBbXTtcblxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zRGF0YSA9IHN1Z2dlc3Rpb25zPy5tYXAoaXRlbSA9PiAoe1xuICAgICAgZGF0ZTogbmV3IERhdGUoaXRlbS5jcmVhdGVkX2F0KS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICB0b3RhbDogMSxcbiAgICAgIGFjY2VwdGVkOiBpdGVtLnN0YXRlID09PSAnYWNjZXB0ZWQnID8gMSA6IDAsXG4gICAgICBjb21wbGV0ZWQ6IGl0ZW0uc3RhdGUgPT09ICdjb21wbGV0ZWQnID8gMSA6IDBcbiAgICB9KSkucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gYWNjLmZpbmQoeCA9PiB4LmRhdGUgPT09IGl0ZW0uZGF0ZSk7XG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgZXhpc3RpbmcudG90YWwgKz0gMTtcbiAgICAgICAgZXhpc3RpbmcuYWNjZXB0ZWQgKz0gaXRlbS5hY2NlcHRlZDtcbiAgICAgICAgZXhpc3RpbmcuY29tcGxldGVkICs9IGl0ZW0uY29tcGxldGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdIGFzIGFueVtdKSB8fCBbXTtcblxuICAgIGNvbnN0IGdvYWxQcm9ncmVzc0RhdGEgPSBnb2Fscz8ucmVkdWNlKChhY2MsIGdvYWwpID0+IHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gYWNjLmZpbmQoeCA9PiB4LnN0YXR1cyA9PT0gZ29hbC5zdGF0dXMpO1xuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIGV4aXN0aW5nLmNvdW50ICs9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2MucHVzaCh7IHN0YXR1czogZ29hbC5zdGF0dXMsIGNvdW50OiAxIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSBhcyBhbnlbXSkgfHwgW107XG5cbiAgICBjb25zdCBhY2NlcHRlZFN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnM/LmZpbHRlcihzID0+IHMuc3RhdGUgPT09ICdhY2NlcHRlZCcpLmxlbmd0aCB8fCAwO1xuICAgIGNvbnN0IHRvdGFsU3VnZ2VzdGlvbnMgPSBzdWdnZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gICAgY29uc3QgYWN0aXZlR29hbHMgPSBnb2Fscz8uZmlsdGVyKGcgPT4gZy5zdGF0dXMgPT09ICdhY3RpdmUnKS5sZW5ndGggfHwgMDtcblxuICAgIGNvbnN0IGFuYWx5dGljcyA9IHtcbiAgICAgIG5ldHdvcmtHcm93dGg6IG5ldHdvcmtHcm93dGhEYXRhLFxuICAgICAgaW50cm9kdWN0aW9uc0RhdGE6IHN1Z2dlc3Rpb25zRGF0YSxcbiAgICAgIGdvYWxQcm9ncmVzczogZ29hbFByb2dyZXNzRGF0YSxcbiAgICAgIGRvcm1hbnRSZWxhdGlvbnNoaXBzOiBbXSwgLy8gV291bGQgbmVlZCBlbmNvdW50ZXIgZGF0YVxuICAgICAgbWV0cmljczoge1xuICAgICAgICB0b3RhbENvbnRhY3RzOiBwZW9wbGU/Lmxlbmd0aCB8fCAwLFxuICAgICAgICB0b3RhbFN1Z2dlc3Rpb25zLFxuICAgICAgICBhY2NlcHRlZFN1Z2dlc3Rpb25zLFxuICAgICAgICBhY3RpdmVHb2FscyxcbiAgICAgICAgYWNjZXB0YW5jZVJhdGU6IHRvdGFsU3VnZ2VzdGlvbnMgPiAwID8gTWF0aC5yb3VuZCgoYWNjZXB0ZWRTdWdnZXN0aW9ucyAvIHRvdGFsU3VnZ2VzdGlvbnMpICogMTAwKSA6IDAsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oYW5hbHl0aWNzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhbmFseXRpY3M6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggYW5hbHl0aWNzJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsInN1cGFiYXNlIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsIndvcmtzcGFjZUlkIiwiZ2V0IiwicGVyaW9kIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZGVtb1dvcmtzcGFjZUlkIiwiYWN0dWFsV29ya3NwYWNlSWQiLCJkYXRhIiwibmV0d29ya0dyb3d0aCIsIm5ldHdvcmtFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsImd0ZSIsIkRhdGUiLCJub3ciLCJwYXJzZUludCIsInRvSVNPU3RyaW5nIiwic3VnZ2VzdGlvbnMiLCJzdWdnZXN0aW9uc0Vycm9yIiwiZ29hbHMiLCJnb2Fsc0Vycm9yIiwicGVvcGxlIiwicGVvcGxlRXJyb3IiLCJjb25zb2xlIiwiZGF0ZSIsImNvdW50IiwiaW50cm9kdWN0aW9uc0RhdGEiLCJ0b3RhbCIsImFjY2VwdGVkIiwiY29tcGxldGVkIiwiZ29hbFByb2dyZXNzIiwiZG9ybWFudFJlbGF0aW9uc2hpcHMiLCJtZXRyaWNzIiwidG90YWxDb250YWN0cyIsInRvdGFsU3VnZ2VzdGlvbnMiLCJhY2NlcHRlZFN1Z2dlc3Rpb25zIiwiYWN0aXZlR29hbHMiLCJhY2NlcHRhbmNlUmF0ZSIsIm5ldHdvcmtHcm93dGhEYXRhIiwibWFwIiwiaXRlbSIsImNyZWF0ZWRfYXQiLCJzcGxpdCIsInJlZHVjZSIsImFjYyIsImV4aXN0aW5nIiwiZmluZCIsIngiLCJwdXNoIiwic3VnZ2VzdGlvbnNEYXRhIiwic3RhdGUiLCJnb2FsUHJvZ3Jlc3NEYXRhIiwiZ29hbCIsImZpbHRlciIsInMiLCJsZW5ndGgiLCJnIiwiYW5hbHl0aWNzIiwiTWF0aCIsInJvdW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analytics/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/whatwg-url","vendor-chunks/tr46"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fisraelwilson%2FDeveloper%2Frhiz-intent-mvp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();