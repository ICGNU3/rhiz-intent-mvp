"use strict";(()=>{var e={};e.id=7394,e.ids=[7394],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},57147:e=>{e.exports=require("fs")},41808:e=>{e.exports=require("net")},22037:e=>{e.exports=require("os")},4074:e=>{e.exports=require("perf_hooks")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},15719:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>w,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>h});var s={};r.r(s),r.d(s,{GET:()=>GET,POST:()=>POST});var o=r(10884),i=r(16132),a=r(95798),n=r(37552),p=r(1345);async function GET(e){try{let t=await (0,p.n5)();if(!t)return a.Z.json({error:"Unauthorized"},{status:401});let r=e.nextUrl.searchParams;r.get("workspaceId");try{let e=await n.db.select({id:n.HM.id,title:n.HM.title,description:n.HM.description,type:n.HM.type,score:n.HM.score,status:n.HM.status,createdAt:n.HM.createdAt,workspaces:n.HM.workspaces,clusters:n.HM.clusters}).from(n.HM).limit(10);return a.Z.json({opportunities:e})}catch(e){return console.log("Database query failed, falling back to mock data:",e),a.Z.json({opportunities:[{id:"1",title:"Investor-Founder Match",description:"Potential match between startup founders and investors across multiple workspaces. High-value opportunity for fundraising.",type:"investor_founder_match",score:85,status:"proposed",createdAt:"2024-01-15T10:30:00Z",workspaces:[{id:"workspace-1",name:"TechCorp Team"},{id:"workspace-2",name:"StartupXYZ"}],clusters:[{id:"cluster-1",name:"AI/ML Founders"},{id:"cluster-2",name:"Series A Investors"}]},{id:"2",title:"Cross-Industry Collaboration",description:"Opportunity for collaboration between fintech and design professionals across workspaces.",type:"cross_industry_collaboration",score:78,status:"proposed",createdAt:"2024-01-14T14:20:00Z",workspaces:[{id:"workspace-1",name:"TechCorp Team"},{id:"workspace-3",name:"Venture Capital"},{id:"workspace-4",name:"Design Studio"}],clusters:[{id:"cluster-3",name:"Fintech Professionals"},{id:"cluster-4",name:"UX Designers"}]}]})}}catch(e){return console.error("Opportunities API error:",e),a.Z.json({error:"Failed to fetch opportunities"},{status:500})}}async function POST(e){try{let t=await e.json(),{title:r,description:s,type:o,workspaces:i,clusters:n}=t;return a.Z.json({success:!0,opportunity:{id:"mock-opportunity-id",title:r,description:s,type:o,workspaces:i,clusters:n,score:75,status:"proposed",createdAt:new Date().toISOString()}})}catch(e){return console.error("Opportunities API error:",e),a.Z.json({error:"Failed to create opportunity"},{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/insights/opportunities/route",pathname:"/api/insights/opportunities",filename:"route",bundlePath:"app/api/insights/opportunities/route"},resolvedPagePath:"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/api/insights/opportunities/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:l,headerHooks:m,staticGenerationBailout:h}=u,w="/api/insights/opportunities/route"},1345:(e,t,r)=>{async function getUserId(){return"alice-user-id"}r.d(t,{n5:()=>getUserId})}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[729,5798,9155,7552],()=>__webpack_exec__(15719));module.exports=r})();