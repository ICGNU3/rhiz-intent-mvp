"use strict";(()=>{var e={};e.id=4133,e.ids=[4133],e.modules={524:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},93681:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>p,originalPathname:()=>f,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>g});var n={};t.r(n),t.d(n,{GET:()=>GET,POST:()=>POST});var s=t(10884),o=t(16132),a=t(95798),i=t(1345);async function POST(e){try{let r=await (0,i.n5)();if(!r)return a.Z.json({error:"Unauthorized"},{status:401});let t=await e.json(),{type:n,crmType:s,config:o,workflowId:u,testData:c,olderThanDays:l}=t;if(!n)return a.Z.json({error:"Request type is required"},{status:400});switch(n){case"create_crm_integration":if(!s||!o)return a.Z.json({error:"crmType and config are required for create_crm_integration"},{status:400});break;case"create_insights_workflow":if(!o)return a.Z.json({error:"config is required for create_insights_workflow"},{status:400});break;case"test_workflow":if(!u)return a.Z.json({error:"workflowId is required for test_workflow"},{status:400});break;case"cleanup_workflows":break;default:return a.Z.json({error:`Unknown request type: ${n}`},{status:400})}let d=`n8n-${Date.now()}`;return a.Z.json({success:!0,jobId:d,message:`n8n ${n} job queued successfully (temporarily disabled)`})}catch(e){return console.error("n8n API error:",e),a.Z.json({error:"Internal server error"},{status:500})}}async function GET(e){try{let r=await (0,i.n5)();if(!r)return a.Z.json({error:"Unauthorized"},{status:401});let{searchParams:t}=new URL(e.url),n=t.get("action");if("health"===n)return a.Z.json({success:!0,status:"healthy",message:"n8n integration service is running"});return a.Z.json({success:!0,message:"n8n integration API is available",endpoints:{"POST /api/integrations/n8n":"Create n8n workflows","GET /api/integrations/n8n?action=health":"Check n8n health"}})}catch(e){return console.error("n8n API error:",e),a.Z.json({error:"Internal server error"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/integrations/n8n/route",pathname:"/api/integrations/n8n",filename:"route",bundlePath:"app/api/integrations/n8n/route"},resolvedPagePath:"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/api/integrations/n8n/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:d,headerHooks:p,staticGenerationBailout:g}=u,f="/api/integrations/n8n/route"},1345:(e,r,t)=>{async function getUserId(){return"demo-user-123"}t.d(r,{n5:()=>getUserId})}};var r=require("../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[729,5798],()=>__webpack_exec__(93681));module.exports=t})();