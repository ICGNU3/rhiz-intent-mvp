(()=>{var e={};e.id=5341,e.ids=[5341],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},61238:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>o,routeModule:()=>p,tree:()=>d});var a=t(67096),i=t(16132),r=t(37284),n=t.n(r),l=t(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["insights",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,10027)),"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/insights/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,71825)),"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/insights/page.tsx"],h="/insights/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/insights/page",pathname:"/insights",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},11956:(e,s,t)=>{Promise.resolve().then(t.bind(t,81883))},81883:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>InsightsPage});var a=t(30784),i=t(9885),r=t(20599),n=t(95555),l=t(61890),c=t(1150),d=t(98699);let o=c.fC,h=i.forwardRef(({className:e,...s},t)=>a.jsx(c.aV,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));h.displayName=c.aV.displayName;let x=i.forwardRef(({className:e,...s},t)=>a.jsx(c.xz,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));x.displayName=c.xz.displayName;let p=i.forwardRef(({className:e,...s},t)=>a.jsx(c.VY,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));p.displayName=c.VY.displayName;var m=t(49902),g=t(70696),u=t(91672),j=t(50007),f=t(15957),v=t(20644),N=t(66386),b=t(37631);function InsightsPage(){let[e,s]=(0,i.useState)([]),[t,c]=(0,i.useState)([]),[d,y]=(0,i.useState)([]),[w,_]=(0,i.useState)([]),[k,C]=(0,i.useState)(!0),[I,S]=(0,i.useState)("insights");(0,i.useEffect)(()=>{loadData()},[]);let loadData=async()=>{try{C(!0);let e=await fetch("/api/graph/insights");if(e.ok){let t=await e.json();s(t.insights)}let t=await fetch("/api/insights/shared");if(t.ok){let e=await t.json();c(e.sharedInsights)}let a=await fetch("/api/insights/overlaps");if(a.ok){let e=await a.json();y(e.overlaps)}let i=await fetch("/api/insights/opportunities");if(i.ok){let e=await i.json();_(e.opportunities)}}catch(e){console.error("Failed to load insights data:",e)}finally{C(!1)}},generateInsights=async()=>{try{let e=await fetch("/api/graph/insights",{method:"POST"});e.ok&&await loadData()}catch(e){console.error("Failed to generate insights:",e)}},shareInsight=async e=>{try{let s=await fetch("/api/insights/shared",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({insightId:e,sharedWith:"workspace",visibility:"workspace"})});s.ok&&await loadData()}catch(e){console.error("Failed to share insight:",e)}},activateOpportunity=async e=>{try{let s=await fetch("/api/insights/opportunities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opportunityId:e,action:"activate"})});s.ok&&await loadData()}catch(e){console.error("Failed to activate opportunity:",e)}},getInsightIcon=e=>{switch(e){case"opportunity_gap":case"goal_alignment_gap":return a.jsx(g.Z,{className:"h-4 w-4"});case"bridge_builder":return a.jsx(u.Z,{className:"h-4 w-4"});case"cluster_insight":return a.jsx(j.Z,{className:"h-4 w-4"});default:return a.jsx(f.Z,{className:"h-4 w-4"})}},getInsightColor=e=>{switch(e){case"opportunity_gap":return"bg-orange-100 text-orange-800";case"bridge_builder":return"bg-blue-100 text-blue-800";case"cluster_insight":return"bg-green-100 text-green-800";case"goal_alignment_gap":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return k?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx(m.Navigation,{}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading insights..."})]})})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx(m.Navigation,{}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Graph Insights"}),a.jsx("p",{className:"text-muted-foreground",children:"AI-generated insights about your network and opportunities"})]}),(0,a.jsxs)(n.z,{onClick:generateInsights,className:"flex items-center gap-2",children:[a.jsx(v.Z,{className:"h-4 w-4"}),"Generate Insights"]})]}),(0,a.jsxs)(o,{value:I,onValueChange:S,children:[(0,a.jsxs)(h,{className:"grid w-full grid-cols-4",children:[a.jsx(x,{value:"insights",children:"My Insights"}),a.jsx(x,{value:"shared",children:"Shared Insights"}),a.jsx(x,{value:"overlaps",children:"Overlaps"}),a.jsx(x,{value:"opportunities",children:"Opportunities"})]}),a.jsx(p,{value:"insights",className:"mt-6",children:a.jsx("div",{className:"grid gap-6",children:0===e.length?a.jsx(r.Zb,{children:a.jsx(r.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(f.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No insights available yet."}),a.jsx(n.z,{onClick:generateInsights,className:"mt-4",children:"Generate Insights"})]})})}):e.map(e=>(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[getInsightIcon(e.type),(0,a.jsxs)("div",{children:[a.jsx(r.ll,{className:"text-lg",children:e.title}),a.jsx(l.C,{className:getInsightColor(e.type),children:e.type.replace("_"," ")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.C,{variant:"secondary",children:["Score: ",e.score]}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>shareInsight(e.id),children:a.jsx(N.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)(r.aY,{children:[a.jsx(r.SZ,{className:"text-base mb-4",children:e.detail}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:e.provenance?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["Generated from: ",e.provenance.metric]}),(0,a.jsxs)("p",{children:["Reason: ",e.provenance.reason_generated]})]}):a.jsx("p",{children:"Generated from: AI analysis"})}),(0,a.jsxs)(n.z,{children:["Take Action",a.jsx(b.Z,{className:"h-4 w-4 ml-2"})]})]})]})]},e.id))})}),a.jsx(p,{value:"shared",className:"mt-6",children:a.jsx("div",{className:"grid gap-6",children:0===t.length?a.jsx(r.Zb,{children:a.jsx(r.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(N.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No shared insights yet."})]})})}):t.map(e=>(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e.insight&&getInsightIcon(e.insight.type),(0,a.jsxs)("div",{children:[a.jsx(r.ll,{className:"text-lg",children:e.insight?.title||"Shared Insight"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.insight&&a.jsx(l.C,{className:getInsightColor(e.insight.type),children:e.insight.type.replace("_"," ")}),(0,a.jsxs)(l.C,{variant:"outline",children:["Shared by ",e.sharedBy]})]})]})]}),e.insight&&(0,a.jsxs)(l.C,{variant:"secondary",children:["Score: ",e.insight.score]})]})}),(0,a.jsxs)(r.aY,{children:[a.jsx(r.SZ,{className:"text-base mb-4",children:e.insight?.detail||"Insight details not available"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsxs)("p",{children:["Visibility: ",e.visibility]}),(0,a.jsxs)("p",{children:["Shared: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)(n.z,{children:["View Details",a.jsx(b.Z,{className:"h-4 w-4 ml-2"})]})]})]})]},e.id))})}),a.jsx(p,{value:"overlaps",className:"mt-6",children:a.jsx("div",{className:"grid gap-6",children:0===d.length?a.jsx(r.Zb,{children:a.jsx(r.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(u.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No cross-workspace overlaps found."})]})})}):d.map(e=>(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-5 w-5"}),"Cross-Workspace Overlap"]})}),a.jsx(r.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.person}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Appears in ",e.workspaces?.length||0," workspaces"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(l.C,{variant:"outline",children:e.overlapType}),(0,a.jsxs)(l.C,{variant:"secondary",children:["Confidence: ",e.confidence,"%"]})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Detected: ",new Date(e.detectedAt).toLocaleDateString()]}),(0,a.jsxs)(n.z,{children:["Sync Notes",a.jsx(b.Z,{className:"h-4 w-4 ml-2"})]})]})})]},e.id))})}),a.jsx(p,{value:"opportunities",className:"mt-6",children:a.jsx("div",{className:"grid gap-6",children:0===w.length?a.jsx(r.Zb,{children:a.jsx(r.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(j.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No collective opportunities found."})]})})}):w.map(e=>(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(j.Z,{className:"h-5 w-5"}),(0,a.jsxs)("div",{children:[a.jsx(r.ll,{className:"text-lg",children:e.title}),a.jsx(l.C,{variant:"outline",children:e.type.replace("_"," ")})]})]}),(0,a.jsxs)(l.C,{variant:"secondary",children:["Score: ",e.score]})]})}),(0,a.jsxs)(r.aY,{children:[a.jsx(r.SZ,{className:"text-base mb-4",children:e.description}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsxs)("p",{children:["Workspaces: ",e.workspaces?.length||0]}),(0,a.jsxs)("p",{children:["Clusters: ",e.clusters?.length||0]}),(0,a.jsxs)("p",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(n.z,{onClick:()=>activateOpportunity(e.id),children:"Add to Goal"}),a.jsx(n.z,{variant:"outline",children:"View Details"})]})]})]})]},e.id))})})]})]})]})}},10027:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>r,default:()=>c});var a=t(95153);let i=(0,a.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/insights/page.tsx`),{__esModule:r,$$typeof:n}=i,l=i.default,c=l}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[5467,7244,838],()=>__webpack_exec__(61238));module.exports=t})();