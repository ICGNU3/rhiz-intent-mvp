(()=>{var e={};e.id=2523,e.ids=[2523],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},88355:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>o});var a=t(67096),r=t(16132),n=t(37284),i=t.n(n),l=t(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["suggestions",{children:["[goalId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,83693)),"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/suggestions/[goalId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,71825)),"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/suggestions/[goalId]/page.tsx"],x="/suggestions/[goalId]/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/suggestions/[goalId]/page",pathname:"/suggestions/[goalId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},85728:(e,s,t)=>{Promise.resolve().then(t.bind(t,98720))},98720:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>SuggestionsPage});var a=t(30784),r=t(9885),n=t(57114),i=t(20599),l=t(61890),c=t(95555),o=t(87374),d=t(13703),x=t(19458),m=t(98699);let p=d.fC,g=r.forwardRef(({className:e,...s},t)=>a.jsx(d.ck,{ref:t,className:(0,m.cn)("border-b",e),...s}));g.displayName="AccordionItem";let h=r.forwardRef(({className:e,children:s,...t},r)=>a.jsx(d.h4,{className:"flex",children:(0,a.jsxs)(d.xz,{ref:r,className:(0,m.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...t,children:[s,a.jsx(x.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));h.displayName=d.xz.displayName;let u=r.forwardRef(({className:e,children:s,...t},r)=>a.jsx(d.VY,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:a.jsx("div",{className:(0,m.cn)("pb-4 pt-0",e),children:s})}));u.displayName=d.VY.displayName;var j=t(49902),y=t(465);function SuggestionsPage(){let e=(0,n.useSearchParams)(),s=e.get("goalId"),[t,d]=(0,r.useState)([]),[x,m]=(0,r.useState)(!0),[f,N]=(0,r.useState)(new Set),{toast:v}=(0,y.pm)();(0,r.useEffect)(()=>{fetchSuggestions()},[s]);let fetchSuggestions=async()=>{try{let e=s?`/api/suggestions?goalId=${s}`:"/api/suggestions",t=await fetch(e);if(t.ok){let e=await t.json();d(e.suggestions)}}catch(e){console.error("Failed to fetch suggestions:",e)}finally{m(!1)}},handleAccept=async e=>{try{let s=await fetch(`/api/suggestions/${e}/accept`,{method:"POST"});s.ok&&(N(s=>new Set(s).add(e)),v({title:"Intro accepted",description:"Follow-up scheduled for next week"}),setTimeout(()=>{fetchSuggestions()},1e3))}catch(e){console.error("Failed to accept suggestion:",e),v({title:"Error",description:"Failed to accept suggestion",variant:"destructive"})}},handleSkip=e=>{d(s=>s.filter(s=>s.id!==e))},getScoreColor=e=>e>=80?"bg-green-100 text-green-800":e>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",getStateColor=e=>{switch(e){case"proposed":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";case"sent":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},getInitials=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return x?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(j.Navigation,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"text-center",children:"Loading suggestions..."})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(j.Navigation,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Suggestions"}),a.jsx("p",{className:"text-gray-600 mt-2",children:s?"Filtered by goal":"All introduction recommendations"})]}),a.jsx("div",{className:"space-y-6",children:t.map(e=>(0,a.jsxs)(i.Zb,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(i.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.qE,{className:"h-10 w-10",children:a.jsx(o.Q5,{children:getInitials(e.personA.name)})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.personA.name}),e.personA.title&&a.jsx("p",{className:"text-sm text-gray-600",children:e.personA.title}),e.personA.company&&a.jsx("p",{className:"text-sm text-gray-500",children:e.personA.company})]})]}),a.jsx("div",{className:"text-gray-400",children:"↔"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.qE,{className:"h-10 w-10",children:a.jsx(o.Q5,{children:getInitials(e.personB.name)})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.personB.name}),e.personB.title&&a.jsx("p",{className:"text-sm text-gray-600",children:e.personB.title}),e.personB.company&&a.jsx("p",{className:"text-sm text-gray-500",children:e.personB.company})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.C,{className:getScoreColor(e.score),children:["Score: ",e.score]}),a.jsx(l.C,{className:getStateColor(e.state),children:e.state})]})]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[e.why&&(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Why This Match"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Recency:"}),a.jsx("span",{className:"ml-1 font-medium",children:e.why.recency})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Frequency:"}),a.jsx("span",{className:"ml-1 font-medium",children:e.why.frequency})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Affiliation:"}),a.jsx("span",{className:"ml-1 font-medium",children:e.why.affiliation})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Goal Alignment:"}),a.jsx("span",{className:"ml-1 font-medium",children:e.why.goalAlignment})]})]}),e.why.mutualInterests.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mutual Interests:"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 ml-2",children:e.why.mutualInterests.map((e,s)=>a.jsx("li",{children:e},s))})]})]}),e.draft&&(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Draft Messages"}),(0,a.jsxs)(p,{type:"single",collapsible:!0,className:"w-full",children:[(0,a.jsxs)(g,{value:"pre-intro",children:[a.jsx(h,{className:"text-sm",children:"Pre-Intro Ping"}),a.jsx(u,{children:a.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:e.draft.preIntroPing})})]}),(0,a.jsxs)(g,{value:"double-opt",children:[a.jsx(h,{className:"text-sm",children:"Double-Opt Intro"}),a.jsx(u,{children:a.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:e.draft.doubleOptIntro})})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:["proposed"===e.state&&!f.has(e.id)&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.z,{onClick:()=>handleAccept(e.id),className:"flex-1",children:"Accept Intro"}),a.jsx(c.z,{variant:"outline",onClick:()=>handleSkip(e.id),children:"Skip"})]}),f.has(e.id)&&a.jsx(c.z,{variant:"outline",className:"flex-1",disabled:!0,children:"Accepted ✓"})]})]})]},e.id))}),0===t.length&&a.jsx(i.Zb,{className:"text-center py-12",children:(0,a.jsxs)(i.aY,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"No suggestions found"}),a.jsx("p",{className:"text-sm text-gray-500",children:s?"No suggestions for this goal yet":"Create goals and add people to your network to get introduction suggestions"})]})})]})]})}},83693:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>c});var a=t(95153);let r=(0,a.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/suggestions/[goalId]/page.tsx`),{__esModule:n,$$typeof:i}=r,l=r.default,c=l}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[5467,3703,838,465],()=>__webpack_exec__(88355));module.exports=t})();