(()=>{var e={};e.id=3815,e.ids=[3815],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},64869:(e,s,l)=>{"use strict";l.r(s),l.d(s,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=l(67096),i=l(16132),n=l(37284),r=l.n(n),t=l(32564),d={};for(let e in t)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>t[e]);l.d(s,d);let c=["",{children:["graph",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(l.bind(l,29819)),"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/graph/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(l.bind(l,71825)),"/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(l.t.bind(l,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/graph/page.tsx"],h="/graph/page",x={require:l,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/graph/page",pathname:"/graph",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},93832:(e,s,l)=>{Promise.resolve().then(l.bind(l,87823))},87823:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>GraphPage});var a=l(30784),i=l(9885),n=l(83642),r=l.n(n),t=l(20599),d=l(95555),c=l(43618),o=l(91971),h=l(98699);let x=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=i.forwardRef(({className:e,...s},l)=>a.jsx(c.f,{ref:l,className:(0,h.cn)(x(),e),...s}));p.displayName=c.f.displayName;var m=l(14723),g=l(60820),j=l(61890),u=l(16954),v=l(63499),f=l(71063),b=l(12029);let w=r()(()=>Promise.all([l.e(7249),l.e(7716)]).then(l.bind(l,27716)),{loadableGenerated:{modules:["/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/graph/page.tsx -> react-force-graph-2d"]},ssr:!1,loading:()=>a.jsx("div",{className:"flex items-center justify-center h-96",children:"Loading graph..."})});function GraphPage(){let[e,s]=(0,i.useState)({nodes:[],edges:[]}),[l,n]=(0,i.useState)(!0),[r,c]=(0,i.useState)(null),[o,h]=(0,i.useState)({goal:"all",tag:"all",timeWindow:"all",depth:"1"}),[x,N]=(0,i.useState)(""),y=(0,i.useRef)(),k=(0,i.useCallback)(async()=>{n(!0);try{let e=new URLSearchParams;o.goal&&"all"!==o.goal&&e.append("goal",o.goal),o.tag&&"all"!==o.tag&&e.append("tag",o.tag),o.timeWindow&&"all"!==o.timeWindow&&e.append("timeWindow",o.timeWindow),o.depth&&e.append("depth",o.depth);let l=await fetch(`/api/graph/people?${e}`);if(l.ok){let e=await l.json();s(e)}}catch(e){console.error("Failed to fetch graph data:",e)}finally{n(!1)}},[o]);(0,i.useEffect)(()=>{k()},[k]);let _=(0,i.useCallback)(s=>{let l=e.nodes.find(e=>e.id===s.id);l&&c({id:l.id,fullName:l.label,location:l.location,email:l.email,tags:l.tags,connections:e.edges.filter(e=>e.from===l.id||e.to===l.id).length})},[e]),P=(0,i.useCallback)(e=>{console.log("Edge clicked:",e)},[]),C={nodes:e.nodes,links:e.edges.map(e=>({source:e.from,target:e.to,type:e.type,strength:e.strength,metadata:e.metadata}))};return(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Network Graph"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>y.current?.zoomIn(),children:a.jsx(u.Z,{className:"h-4 w-4"})}),a.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>y.current?.zoomOut(),children:a.jsx(v.Z,{className:"h-4 w-4"})}),a.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>y.current?.zoomToFit(400),children:a.jsx(f.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)(t.Zb,{className:"mb-6",children:[a.jsx(t.Ol,{children:(0,a.jsxs)(t.ll,{className:"flex items-center gap-2",children:[a.jsx(b.Z,{className:"h-5 w-5"}),"Filters"]})}),a.jsx(t.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(p,{htmlFor:"goal",children:"Goal"}),(0,a.jsxs)(m.Ph,{value:o.goal,onValueChange:e=>h(s=>({...s,goal:e})),children:[a.jsx(m.i4,{children:a.jsx(m.ki,{placeholder:"All goals"})}),(0,a.jsxs)(m.Bw,{children:[a.jsx(m.Ql,{value:"all",children:"All goals"}),a.jsx(m.Ql,{value:"hire_engineer",children:"Hire Engineer"}),a.jsx(m.Ql,{value:"raise_seed",children:"Raise Seed"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(p,{htmlFor:"tag",children:"Tag"}),(0,a.jsxs)(m.Ph,{value:o.tag,onValueChange:e=>h(s=>({...s,tag:e})),children:[a.jsx(m.i4,{children:a.jsx(m.ki,{placeholder:"All tags"})}),(0,a.jsxs)(m.Bw,{children:[a.jsx(m.Ql,{value:"all",children:"All tags"}),a.jsx(m.Ql,{value:"investor",children:"Investor"}),a.jsx(m.Ql,{value:"engineer",children:"Engineer"}),a.jsx(m.Ql,{value:"advisor",children:"Advisor"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(p,{htmlFor:"timeWindow",children:"Time Window"}),(0,a.jsxs)(m.Ph,{value:o.timeWindow,onValueChange:e=>h(s=>({...s,timeWindow:e})),children:[a.jsx(m.i4,{children:a.jsx(m.ki,{placeholder:"All time"})}),(0,a.jsxs)(m.Bw,{children:[a.jsx(m.Ql,{value:"all",children:"All time"}),a.jsx(m.Ql,{value:"7d",children:"Last 7 days"}),a.jsx(m.Ql,{value:"30d",children:"Last 30 days"}),a.jsx(m.Ql,{value:"90d",children:"Last 90 days"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(p,{htmlFor:"depth",children:"Depth"}),(0,a.jsxs)(m.Ph,{value:o.depth,onValueChange:e=>h(s=>({...s,depth:e})),children:[a.jsx(m.i4,{children:a.jsx(m.ki,{})}),(0,a.jsxs)(m.Bw,{children:[a.jsx(m.Ql,{value:"1",children:"Direct connections"}),a.jsx(m.Ql,{value:"2",children:"2nd degree"})]})]})]})]})})]}),a.jsx(t.Zb,{className:"mb-6",children:a.jsx(t.aY,{className:"p-0",children:a.jsx("div",{className:"h-[600px] relative",children:l?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-lg",children:"Loading network graph..."})}):a.jsx(w,{ref:y,graphData:C,nodeLabel:"label",nodeColor:e=>e.tags?.includes("investor")?"#ef4444":e.tags?.includes("engineer")?"#3b82f6":e.tags?.includes("advisor")?"#10b981":"#6b7280",nodeRelSize:6,linkColor:e=>{switch(e.type){case"encounter":return"#3b82f6";case"intro":return"#10b981";case"goal_link":return"#f59e0b";default:return"#6b7280"}},linkWidth:2,linkDirectionalParticles:2,linkDirectionalParticleSpeed:.005,onNodeClick:_,onLinkClick:P,cooldownTicks:100,nodeCanvasObject:(e,s,l)=>{let a=e.label,i=12/l;s.font=`${i}px Sans-Serif`;let n=s.measureText(a).width,r=[n,i].map(e=>e+.2*i);s.fillStyle="rgba(255, 255, 255, 0.8)",s.fillRect(e.x-r[0]/2,e.y-r[1]/2,r[0],r[1]),s.textAlign="center",s.textBaseline="middle",s.fillStyle=e.color,s.fillText(a,e.x,e.y),e.bckgDimensions=r}})})})}),(0,a.jsxs)(t.Zb,{children:[a.jsx(t.Ol,{children:a.jsx(t.ll,{children:"Legend"})}),(0,a.jsxs)(t.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),a.jsx("span",{children:"Investors"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500"}),a.jsx("span",{children:"Engineers"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),a.jsx("span",{children:"Advisors"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-500"}),a.jsx("span",{children:"Others"})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-1 bg-blue-500"}),a.jsx("span",{children:"Encounters"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-1 bg-green-500"}),a.jsx("span",{children:"Intros"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-1 bg-yellow-500"}),a.jsx("span",{children:"Goal Links"})]})]})]})]}),a.jsx(g.dy,{open:!!r,onOpenChange:()=>c(null),children:(0,a.jsxs)(g.sc,{children:[a.jsx(g.OX,{children:a.jsx(g.iI,{children:r?.fullName})}),a.jsx("div",{className:"p-6",children:r&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(p,{children:"Location"}),a.jsx("p",{className:"text-sm text-gray-600",children:r.location||"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx(p,{children:"Email"}),a.jsx("p",{className:"text-sm text-gray-600",children:r.email||"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx(p,{children:"Tags"}),a.jsx("div",{className:"flex gap-2 mt-1",children:r.tags.map(e=>a.jsx(j.C,{variant:"secondary",children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx(p,{children:"Connections"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[r.connections," connections"]})]})]})})]})})]})}},29819:(e,s,l)=>{"use strict";l.r(s),l.d(s,{$$typeof:()=>r,__esModule:()=>n,default:()=>d});var a=l(95153);let i=(0,a.createProxy)(String.raw`/Users/israelwilson/Developer/rhiz-intent-mvp/apps/web/app/graph/page.tsx`),{__esModule:n,$$typeof:r}=i,t=i.default,d=t}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),l=s.X(0,[5467,3286,5167,2915,838,4723,820],()=>__webpack_exec__(64869));module.exports=l})();