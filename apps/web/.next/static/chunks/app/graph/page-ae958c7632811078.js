(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{92051:function(e,r,s){Promise.resolve().then(s.bind(s,38132))},38132:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return GraphPage}});var a=s(57437),t=s(2265),l=s(28811),n=s.n(l),i=s(49598),d=s(23611),c=s(36743),o=s(96061),u=s(81628);let f=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(c.f,{ref:r,className:(0,u.cn)(f(),s),...t})});x.displayName=c.f.displayName;var m=s(7532),h=s(1065),p=s(70708),g=s(41094),j=s(56194),v=s(15432),N=s(42482);let b=n()(()=>Promise.all([s.e(739),s.e(836)]).then(s.bind(s,19836)),{loadableGenerated:{webpack:()=>[19836]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:"Loading graph..."})});function GraphPage(){let[e,r]=(0,t.useState)({nodes:[],edges:[]}),[s,l]=(0,t.useState)(!0),[n,c]=(0,t.useState)(null),[o,u]=(0,t.useState)({goal:"all",tag:"all",timeWindow:"all",depth:"1"}),[f,y]=(0,t.useState)(""),w=(0,t.useRef)(),k=(0,t.useCallback)(async()=>{l(!0);try{let e=new URLSearchParams;o.goal&&"all"!==o.goal&&e.append("goal",o.goal),o.tag&&"all"!==o.tag&&e.append("tag",o.tag),o.timeWindow&&"all"!==o.timeWindow&&e.append("timeWindow",o.timeWindow),o.depth&&e.append("depth",o.depth);let s=await fetch("/api/graph/people?".concat(e));if(s.ok){let e=await s.json();r(e)}}catch(e){console.error("Failed to fetch graph data:",e)}finally{l(!1)}},[o]);(0,t.useEffect)(()=>{k()},[k]);let C=(0,t.useCallback)(r=>{let s=e.nodes.find(e=>e.id===r.id);s&&c({id:s.id,fullName:s.label,location:s.location,email:s.email,tags:s.tags,connections:e.edges.filter(e=>e.from===s.id||e.to===s.id).length})},[e]),R=(0,t.useCallback)(e=>{console.log("Edge clicked:",e)},[]),z={nodes:e.nodes,links:e.edges.map(e=>({source:e.from,target:e.to,type:e.type,strength:e.strength,metadata:e.metadata}))};return(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Network Graph"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.zoomIn()},children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})}),(0,a.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.zoomOut()},children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),(0,a.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.zoomToFit(400)},children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)(i.Zb,{className:"mb-6",children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5"}),"Filters"]})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"goal",children:"Goal"}),(0,a.jsxs)(m.Ph,{value:o.goal,onValueChange:e=>u(r=>({...r,goal:e})),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{placeholder:"All goals"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"All goals"}),(0,a.jsx)(m.Ql,{value:"hire_engineer",children:"Hire Engineer"}),(0,a.jsx)(m.Ql,{value:"raise_seed",children:"Raise Seed"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"tag",children:"Tag"}),(0,a.jsxs)(m.Ph,{value:o.tag,onValueChange:e=>u(r=>({...r,tag:e})),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{placeholder:"All tags"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"All tags"}),(0,a.jsx)(m.Ql,{value:"investor",children:"Investor"}),(0,a.jsx)(m.Ql,{value:"engineer",children:"Engineer"}),(0,a.jsx)(m.Ql,{value:"advisor",children:"Advisor"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"timeWindow",children:"Time Window"}),(0,a.jsxs)(m.Ph,{value:o.timeWindow,onValueChange:e=>u(r=>({...r,timeWindow:e})),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{placeholder:"All time"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"All time"}),(0,a.jsx)(m.Ql,{value:"7d",children:"Last 7 days"}),(0,a.jsx)(m.Ql,{value:"30d",children:"Last 30 days"}),(0,a.jsx)(m.Ql,{value:"90d",children:"Last 90 days"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"depth",children:"Depth"}),(0,a.jsxs)(m.Ph,{value:o.depth,onValueChange:e=>u(r=>({...r,depth:e})),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"1",children:"Direct connections"}),(0,a.jsx)(m.Ql,{value:"2",children:"2nd degree"})]})]})]})]})})]}),(0,a.jsx)(i.Zb,{className:"mb-6",children:(0,a.jsx)(i.aY,{className:"p-0",children:(0,a.jsx)("div",{className:"h-[600px] relative",children:s?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"text-lg",children:"Loading network graph..."})}):(0,a.jsx)(b,{ref:w,graphData:z,nodeLabel:"label",nodeColor:e=>{var r,s,a;return(null===(r=e.tags)||void 0===r?void 0:r.includes("investor"))?"#ef4444":(null===(s=e.tags)||void 0===s?void 0:s.includes("engineer"))?"#3b82f6":(null===(a=e.tags)||void 0===a?void 0:a.includes("advisor"))?"#10b981":"#6b7280"},nodeRelSize:6,linkColor:e=>{switch(e.type){case"encounter":return"#3b82f6";case"intro":return"#10b981";case"goal_link":return"#f59e0b";default:return"#6b7280"}},linkWidth:2,linkDirectionalParticles:2,linkDirectionalParticleSpeed:.005,onNodeClick:C,onLinkClick:R,cooldownTicks:100,nodeCanvasObject:(e,r,s)=>{let a=e.label,t=12/s;r.font="".concat(t,"px Sans-Serif");let l=r.measureText(a).width,n=[l,t].map(e=>e+.2*t);r.fillStyle="rgba(255, 255, 255, 0.8)",r.fillRect(e.x-n[0]/2,e.y-n[1]/2,n[0],n[1]),r.textAlign="center",r.textBaseline="middle",r.fillStyle=e.color,r.fillText(a,e.x,e.y),e.bckgDimensions=n}})})})}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Legend"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-500"}),(0,a.jsx)("span",{children:"Investors"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-500"}),(0,a.jsx)("span",{children:"Engineers"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500"}),(0,a.jsx)("span",{children:"Advisors"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-500"}),(0,a.jsx)("span",{children:"Others"})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-1 bg-blue-500"}),(0,a.jsx)("span",{children:"Encounters"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-1 bg-green-500"}),(0,a.jsx)("span",{children:"Intros"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-1 bg-yellow-500"}),(0,a.jsx)("span",{children:"Goal Links"})]})]})]})]}),(0,a.jsx)(h.dy,{open:!!n,onOpenChange:()=>c(null),children:(0,a.jsxs)(h.sc,{children:[(0,a.jsx)(h.OX,{children:(0,a.jsx)(h.iI,{children:null==n?void 0:n.fullName})}),(0,a.jsx)("div",{className:"p-6",children:n&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Location"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:n.location||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Email"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:n.email||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Tags"}),(0,a.jsx)("div",{className:"flex gap-2 mt-1",children:n.tags.map(e=>(0,a.jsx)(p.C,{variant:"secondary",children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Connections"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[n.connections," connections"]})]})]})})]})})]})}},70708:function(e,r,s){"use strict";s.d(r,{C:function(){return Badge}});var a=s(57437);s(2265);var t=s(96061),l=s(81628);let n=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:r,variant:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:s}),r),...t})}},23611:function(e,r,s){"use strict";s.d(r,{z:function(){return c}});var a=s(57437),t=s(2265),l=s(67256),n=s(96061),i=s(81628);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,r)=>{let{className:s,variant:t,size:n,asChild:c=!1,...o}=e,u=c?l.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:t,size:n,className:s})),ref:r,...o})});c.displayName="Button"},49598:function(e,r,s){"use strict";s.d(r,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return o},ll:function(){return d}});var a=s(57437),t=s(2265),l=s(81628);let n=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});n.displayName="Card";let i=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});i.displayName="CardHeader";let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...t})});o.displayName="CardContent";let u=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})});u.displayName="CardFooter"},1065:function(e,r,s){"use strict";s.d(r,{OX:function(){return DrawerHeader},dy:function(){return Drawer},iI:function(){return o},sc:function(){return c}});var a=s(57437),t=s(2265),l=s(79633),n=s(81628);let Drawer=e=>{let{shouldScaleBackground:r=!0,...s}=e;return(0,a.jsx)(l.d.Root,{shouldScaleBackground:r,...s})};Drawer.displayName="Drawer",l.d.Trigger;let i=l.d.Portal;l.d.Close;let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(l.d.Overlay,{ref:r,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80",s),...t})});d.displayName=l.d.Overlay.displayName;let c=t.forwardRef((e,r)=>{let{className:s,children:t,...c}=e;return(0,a.jsxs)(i,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(l.d.Content,{ref:r,className:(0,n.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...c,children:[(0,a.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})});c.displayName="DrawerContent";let DrawerHeader=e=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("grid gap-1.5 p-4 text-center sm:text-left",r),...s})};DrawerHeader.displayName="DrawerHeader";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(l.d.Title,{ref:r,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...t})});o.displayName=l.d.Title.displayName;let u=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(l.d.Description,{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",s),...t})});u.displayName=l.d.Description.displayName},7532:function(e,r,s){"use strict";s.d(r,{Bw:function(){return h},Ph:function(){return o},Ql:function(){return g},i4:function(){return f},ki:function(){return u}});var a=s(57437),t=s(2265),l=s(53425),n=s(83523),i=s(9224),d=s(62442),c=s(81628);let o=l.fC;l.ZA;let u=l.B4,f=t.forwardRef((e,r)=>{let{className:s,children:t,...i}=e;return(0,a.jsxs)(l.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[t,(0,a.jsx)(l.JO,{asChild:!0,children:(0,a.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=l.xz.displayName;let x=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(l.u_,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=l.u_.displayName;let m=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(l.$G,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})});m.displayName=l.$G.displayName;let h=t.forwardRef((e,r)=>{let{className:s,children:t,position:n="popper",...i}=e;return(0,a.jsx)(l.h_,{children:(0,a.jsxs)(l.VY,{ref:r,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,a.jsx)(x,{}),(0,a.jsx)(l.l_,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(m,{})]})})});h.displayName=l.VY.displayName;let p=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(l.__,{ref:r,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t})});p.displayName=l.__.displayName;let g=t.forwardRef((e,r)=>{let{className:s,children:t,...n}=e;return(0,a.jsxs)(l.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.wU,{children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(l.eT,{children:t})]})});g.displayName=l.ck.displayName;let j=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(l.Z0,{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...t})});j.displayName=l.Z0.displayName},81628:function(e,r,s){"use strict";s.d(r,{cn:function(){return cn}});var a=s(57042),t=s(74769);function cn(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.m6)((0,a.W)(r))}}},function(e){e.O(0,[723,444,740,633,535,971,472,744],function(){return e(e.s=92051)}),_N_E=e.O()}]);