(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{28203:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},11353:function(e,s,t){Promise.resolve().then(t.bind(t,70624))},70624:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return PeoplePage}});var a=t(57437),r=t(2265),l=t(49598),n=t(70708),i=t(23611),c=t(35831),d=t(67702),o=t(1065),m=t(28350),x=t(41827),u=t(25750),f=t(28203),h=t(66654);function PeoplePage(){let[e,s]=(0,r.useState)([]),[t,p]=(0,r.useState)([]),[g,N]=(0,r.useState)(!0),[j,y]=(0,r.useState)(""),[v,b]=(0,r.useState)(null),[w,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{fetchPeople()},[]),(0,r.useEffect)(()=>{if(!e)return;let s=e.filter(e=>{var s;return e.fullName.toLowerCase().includes(j.toLowerCase())||(null===(s=e.primaryEmail)||void 0===s?void 0:s.toLowerCase().includes(j.toLowerCase()))||e.claims.some(e=>e.value.toLowerCase().includes(j.toLowerCase()))});p(s)},[e,j]);let fetchPeople=async()=>{try{let e=await fetch("/api/people");if(e.ok){let t=await e.json();s(t.people)}}catch(e){console.error("Failed to fetch people:",e)}finally{N(!1)}},getStrengthColor=e=>e>=8?"bg-green-100 text-green-800":e>=5?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",getStrengthLabel=e=>e>=8?"Strong":e>=5?"Medium":"Weak",getInitials=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),handlePersonClick=e=>{b(e),C(!0)};return g?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(m.Navigation,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"text-center",children:"Loading people..."})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(m.Navigation,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"People"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Your network of contacts and their relationship strength"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(c.I,{placeholder:"Search people by name, email, or role...",value:j,onChange:e=>y(e.target.value),className:"pl-10"})]})}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,a.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>handlePersonClick(e),children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.qE,{className:"h-12 w-12",children:(0,a.jsx)(d.Q5,{children:getInitials(e.fullName)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.ll,{className:"text-lg",children:e.fullName}),e.relationshipStrength&&(0,a.jsx)(n.C,{className:getStrengthColor(e.relationshipStrength),children:getStrengthLabel(e.relationshipStrength)})]}),e.primaryEmail&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.primaryEmail}),e.location&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.location})]})]})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[e.claims.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Known Information"}),(0,a.jsx)("div",{className:"space-y-1",children:e.claims.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600 capitalize",children:[e.key,":"]}),(0,a.jsx)("span",{className:"text-gray-900",children:e.value})]},s))})]}),e.lastEncounter&&(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Last encounter: ",new Date(e.lastEncounter).toLocaleDateString()]})}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(i.z,{variant:"outline",size:"sm",className:"w-full",children:"Click to view details"})})]})})]},e.id))}),0===t.length&&(0,a.jsx)(l.Zb,{className:"text-center py-12",children:(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:j?"No people match your search":"No people found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:j?"Try adjusting your search terms":"Upload calendar events or record voice notes to start building your network"})]})})]}),(0,a.jsx)(o.dy,{open:w,onOpenChange:C,children:(0,a.jsxs)(o.sc,{children:[(0,a.jsx)(o.OX,{children:(0,a.jsx)(o.iI,{children:v&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.qE,{className:"h-16 w-16",children:(0,a.jsx)(d.Q5,{className:"text-lg",children:getInitials(v.fullName)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:v.fullName}),v.primaryEmail&&(0,a.jsx)("p",{className:"text-gray-600",children:v.primaryEmail})]})]})})}),v&&(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-medium mb-3 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),"Facts & Claims"]}),(0,a.jsx)("div",{className:"space-y-2",children:v.claims.map((e,s)=>(0,a.jsx)("div",{className:"p-3 border rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium capitalize",children:e.key}),(0,a.jsx)("p",{className:"text-gray-600",children:e.value})]}),(0,a.jsxs)(n.C,{variant:"outline",className:"text-xs",children:[e.confidence,"% confidence"]})]})},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-medium mb-3 flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),"Recent Encounters"]}),v.lastEncounter?(0,a.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,a.jsx)("p",{className:"font-medium",children:"Last encounter"}),(0,a.jsx)("p",{className:"text-gray-600",children:new Date(v.lastEncounter).toLocaleDateString()})]}):(0,a.jsx)("p",{className:"text-gray-500",children:"No recent encounters"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-medium mb-3 flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5"}),"Related Goals"]}),(0,a.jsx)("p",{className:"text-gray-500",children:"No related goals yet"})]})]})]})})]})}},49598:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var a=t(57437),r=t(2265),l=t(81628);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},1065:function(e,s,t){"use strict";t.d(s,{OX:function(){return DrawerHeader},dy:function(){return Drawer},iI:function(){return o},sc:function(){return d}});var a=t(57437),r=t(2265),l=t(79633),n=t(81628);let Drawer=e=>{let{shouldScaleBackground:s=!0,...t}=e;return(0,a.jsx)(l.d.Root,{shouldScaleBackground:s,...t})};Drawer.displayName="Drawer",l.d.Trigger;let i=l.d.Portal;l.d.Close;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.d.Overlay,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80",t),...r})});c.displayName=l.d.Overlay.displayName;let d=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(i,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(l.d.Content,{ref:s,className:(0,n.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...d,children:[(0,a.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]})});d.displayName="DrawerContent";let DrawerHeader=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("grid gap-1.5 p-4 text-center sm:text-left",s),...t})};DrawerHeader.displayName="DrawerHeader";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.d.Title,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});o.displayName=l.d.Title.displayName;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.d.Description,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});m.displayName=l.d.Description.displayName},35831:function(e,s,t){"use strict";t.d(s,{I:function(){return n}});var a=t(57437),r=t(2265),l=t(81628);let n=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});n.displayName="Input"}},function(e){e.O(0,[723,444,572,633,350,971,472,744],function(){return e(e.s=11353)}),_N_E=e.O()}]);