(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{78985:function(e,s,t){Promise.resolve().then(t.bind(t,20920))},20920:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return SuggestionsPage}});var a=t(57437),r=t(2265),n=t(49598),l=t(70708),c=t(23611),i=t(28350);function SuggestionsPage(){let[e,s]=(0,r.useState)([]),[t,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{fetchSuggestions()},[]);let fetchSuggestions=async()=>{try{let e=await fetch("/api/suggestions");if(e.ok){let t=await e.json();s(t.suggestions)}}catch(e){console.error("Failed to fetch suggestions:",e)}finally{d(!1)}},handleAccept=async e=>{try{let s=await fetch("/api/suggestions/".concat(e,"/accept"),{method:"POST"});s.ok&&fetchSuggestions()}catch(e){console.error("Failed to accept suggestion:",e)}},getScoreColor=e=>e>=80?"bg-green-100 text-green-800":e>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",getStateColor=e=>{switch(e){case"proposed":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";case"sent":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(i.Navigation,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"text-center",children:"Loading suggestions..."})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(i.Navigation,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Suggestions"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"AI-powered introduction recommendations for your network"})]}),(0,a.jsx)("div",{className:"space-y-6",children:null==e?void 0:e.map(e=>(0,a.jsxs)(n.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.ll,{className:"text-lg",children:[e.personA.name," â†” ",e.personB.name]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsxs)(l.C,{className:getScoreColor(e.score),children:["Score: ",e.score]}),(0,a.jsx)(l.C,{className:getStateColor(e.state),children:e.state})]})]}),(0,a.jsx)("div",{className:"text-right text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]})}),(0,a.jsx)(n.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.personA.name}),e.personA.title&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.personA.title}),e.personA.company&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.personA.company})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.personB.name}),e.personB.title&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.personB.title}),e.personB.company&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.personB.company})]})]}),e.why&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Why This Match"}),(0,a.jsxs)("div",{className:"space-y-2",children:[e.why.mutualInterests.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Mutual Interests:"}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600 ml-2",children:e.why.mutualInterests.map((e,s)=>(0,a.jsx)("li",{children:e},s))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Recency:"}),(0,a.jsx)("span",{className:"ml-1 font-medium",children:e.why.recency})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Frequency:"}),(0,a.jsx)("span",{className:"ml-1 font-medium",children:e.why.frequency})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Affiliation:"}),(0,a.jsx)("span",{className:"ml-1 font-medium",children:e.why.affiliation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Goal Alignment:"}),(0,a.jsx)("span",{className:"ml-1 font-medium",children:e.why.goalAlignment})]})]})]})]}),e.draft&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Draft Messages"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Pre-Intro Ping:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:e.draft.preIntroPing})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Double-Opt Intro:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:e.draft.doubleOptIntro})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:["proposed"===e.state&&(0,a.jsx)(c.z,{onClick:()=>handleAccept(e.id),className:"flex-1",children:"Accept Suggestion"}),(0,a.jsx)(c.z,{variant:"outline",className:"flex-1",children:"View Details"})]})]})})]},e.id))}),0===e.length&&(0,a.jsx)(n.Zb,{className:"text-center py-12",children:(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No suggestions found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Create goals and add people to your network to get introduction suggestions"})]})})]})]})}},49598:function(e,s,t){"use strict";t.d(s,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return i}});var a=t(57437),r=t(2265),n=t(81628);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});c.displayName="CardHeader";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});i.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"}},function(e){e.O(0,[723,444,572,350,971,472,744],function(){return e(e.s=78985)}),_N_E=e.O()}]);